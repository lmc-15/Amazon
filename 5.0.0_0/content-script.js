!function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(h&&h(t);p.length;)p.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,o=1;o<i.length;o++){var l=i[o];0!==n[l]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},n={2:0},a=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=l;a.push([179,0]),i()}({0:function(e,t,i){"use strict";(function(e){i.d(t,"g",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"k",(function(){return c})),i.d(t,"m",(function(){return h})),i.d(t,"l",(function(){return d})),i.d(t,"h",(function(){return p})),i.d(t,"r",(function(){return u})),i.d(t,"x",(function(){return g})),i.d(t,"n",(function(){return m})),i.d(t,"w",(function(){return f})),i.d(t,"v",(function(){return v})),i.d(t,"u",(function(){return b})),i.d(t,"j",(function(){return y})),i.d(t,"t",(function(){return w})),i.d(t,"s",(function(){return k})),i.d(t,"e",(function(){return S})),i.d(t,"q",(function(){return x})),i.d(t,"i",(function(){return _})),i.d(t,"b",(function(){return C})),i.d(t,"a",(function(){return F})),i.d(t,"c",(function(){return z})),i.d(t,"o",(function(){return P})),i.d(t,"z",(function(){return T})),i.d(t,"p",(function(){return A})),i.d(t,"A",(function(){return O})),i.d(t,"y",(function(){return D}));var s=i(1),n=i.n(s);let a,r=!0;const o={com:"en_US","co.uk":"en_GB",de:"de_DE",fr:"fr_FR",it:"it_IT",es:"es_ES",mx:"es-MX",ca:"en_CA"};let l;function c(){let e={com:{locale:"en-US",currency:"USD"},ca:{locale:"en-CA",currency:"CAD"},mx:{locale:"es-MX",currency:"MXN"},de:{locale:"de-DE",currency:"EUR"},es:{locale:"es-ES",currency:"EUR"},fr:{locale:"fr-FR",currency:"EUR"},it:{locale:"it-IT",currency:"EUR"},uk:{locale:"en-GB",currency:"GBP"},jp:{locale:"ja-JP",currency:"JPY"},in:{locale:"en-IN",currency:"INR"}};return e[window.location.origin.split(".").reverse()[0]]}function h(){let e=window.location.origin.split(".").reverse()[0],t={com:"ATVPDKIKX0DER",ca:"A2EUQ1WTGCTBG2",mx:"A1AM78C64UM0Y8",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH",it:"APJ6JRA9NG5V4",uk:"A1F83G8C2ARO7P",jp:"A1VC38T7YXB528",in:"A21TJRUUN4KGV"};return t.mx="A1AM78C64UM0Y8",t[e]}function d(){let e=window.location.origin.split(".").reverse()[0];return"uk"===e&&(e="co.uk"),"mx"===e&&(e="com.mx"),e}function p(){let e=window.location.href.match(C);return e||(e=window.location.href.match(/(\/d\/).*\/([0-9A-Za-z]{10})\//)||window.location.href.match(/(\/d\/).*\/?([0-9A-Za-z]{10})\//)||window.location.href.match(/(\/d\/).*\/?([0-9A-Za-z]{10})/)),!(!e||0===e.length)&&e[2].toUpperCase()}function u(){try{const t=e(".swatchSelect")[1]||e(".swatchSelect")[0],i=e("#cerberus-data-metrics")[0]||t,s=i.getAttribute("data-asin")||i.getAttribute("data-defaultasin")||!1,n=e("#wishListMainButton .a-button-inner a")[0].getAttribute("href"),a=/(?<=%2F)\w{10}(?=&)/;return n.match(a)[0]||s}catch{return!1}}const g={com:[3,5,6,8,10,12,15,16,17,18,20,45,96],eu:[5,7,8,10,12,15,20,45],in:[2,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,15,15.5,16,16.5,17,18,20,21.5,24,25,38],ca:[3,6,8,10,12,15,16,20,45,96]};function m(e,t,i){const s=c().locale,a=void 0===i||i;let r=new Intl.NumberFormat(s).format(e),o=Number(e);return t&&"currency"===t&&(r="en-CA"===s?y(e,a):new Intl.NumberFormat(s,{style:"currency",currency:c().currency,minimumFractionDigits:a?2:0,maximumFractionDigits:a?2:0}).format(e)),t&&"date"===t&&(0===e?(r="n/a",o=0):(r=e,o=n()(e,"L",s).valueOf())),{display:r,value:o}}function f(){return e("li.s-result-item").length>0||e("div.s-result-item.sg-col").length>0}function v(){return new RegExp(["/gp/product/","/dp/","/d/","/asin/"].join("|"),"i").test(document.location.href)}function b(){return new RegExp("/bestsellers/|/zgbs/").test(document.location.href)}function y(e,t){let i,s;return i={style:"currency",currency:"CAD",minimumFractionDigits:t?2:0,maximumFractionDigits:t?2:0},s=new Intl.NumberFormat("en-CA",i).formatToParts(e).map(({type:e,value:t})=>{switch(e){case"currency":return"CDN$ ";default:return t}}).reduce((e,t)=>e+t),s}function w(){return"en-US"===c().locale?"lbs":"kg"}function k(){return"en-US"===c().locale?"in":"cm"}function S(e){let t=e;return[/^Brand\s?:\s?/,/^Marque\s?:\s?/,/^Marca\s?:\s?/,/^Marke\s?:\s?/,/^Visita la Store de/,/^Visit the/,/ Store$/,/^Visita lo di/,/^Visiter la boutique/,/^\s/].forEach(e=>{t=t.replace(e,"")}),t}function x(t){let i;i=e(t.detailsHtml).text().trim().length>25?t.detailsHtml:t.bulletsHtml;let s=S(t.brand);return{asin:t.asin,bbSeller:t.bbSeller,brand:s,bsr:t.bsr,bsrList:t.bsrList,canonicalAsin:t.canonicalAsin,category:t.category,detailsHtml:i,listingCreationDate:t.listingCreationDate,modelNumber:t.modelNumber,price:t.price,reviewsNumber:t.reviewsNumber,reviewsRating:t.reviewsRating,sellerName:t.sellerName,sellersNumber:t.sellersNumber,time:Date.now(),title:t.title}}function _(e,t){let i;switch(t){case"com":case"uk":case"co.uk":case"in":e.find('th:contains("Best Sellers Rank")').next().length?i=e.find('th:contains("Best Sellers Rank")').next():e.find('ul:contains("Best-sellers rank") span').length?i=e.find('ul:contains("Best-sellers rank") span'):e.find('ul:contains("Best Sellers Rank") span').length&&(i=e.find('ul:contains("Best Sellers Rank") span'));break;case"fr":e.find('th:contains("Classement des meilleures ventes")').next().length?i=e.find('th:contains("Classement des meilleures ventes")').next():e.find('ul:contains("Classement des meilleures ventes") span').length&&(i=e.find('ul:contains("Classement des meilleures ventes") span'));break;case"de":e.find('th:contains("Amazon Bestseller-Rang")').next().length?i=e.find('th:contains("Amazon Bestseller-Rang")').next():e.find('th:contains("Best Sellers Rank")').next().length?i=e.find('th:contains("Best Sellers Rank")').next():e.find('ul:contains("Bestseller-Rang") span').length?i=e.find('ul:contains("Bestseller-Rang") span'):e.find('ul:contains("Best Sellers Rank") span').length&&(i=e.find('ul:contains("Best Sellers Rank") span'));break;case"es":e.find('th:contains("Clasificación en los más vendidos de")').next().length?i=e.find('th:contains("Clasificación en los más vendidos de")').next():e.find('ul:contains("Clasificación de éxitos de ventas") span').length?i=e.find('ul:contains("Clasificación de éxitos de ventas") span'):e.find('ul:contains("Clasificación en los más vendidos de") span').length&&(i=e.find('ul:contains("Clasificación en los más vendidos de") span'));break;case"com.mx":case"mx":e.find('th:contains("Clasificación en los más vendidos de")').next().length?i=e.find('th:contains("Clasificación en los más vendidos de")').next():e.find('ul:contains("Clasificación de mejores vendedores") span').length?i=e.find('ul:contains("Clasificación de mejores vendedores") span'):e.find('ul:contains("Clasificación en los más vendidos de") span').length&&(i=e.find('ul:contains("Clasificación en los más vendidos de") span'));break;case"it":e.find('th:contains("Posizione nella classifica Bestseller di")').next().length?i=e.find('th:contains("Posizione nella classifica Bestseller di")').next():e.find('ul:contains("Classifica best-seller") span').length?i=e.find('ul:contains("Classifica best-seller") span'):e.find('ul:contains("Posizione nella classifica Bestseller di") span').length&&(i=e.find('ul:contains("Posizione nella classifica Bestseller di") span'));break;case"ca":e.find('th:contains("Best Sellers Rank")').next().length?i=e.find('th:contains("Best Sellers Rank")').next():e.find('ul:contains("Bestsellers rank") span').length?i=e.find('ul:contains("Bestsellers rank") span'):e.find('ul:contains("Best Sellers Rank") span').length&&(i=e.find('ul:contains("Best Sellers Rank") span'))}return i}const C=/\/(dp|product|asin)\/([0-9A-Za-z]{10,})/i,F='<div class="component-loader">\n    <div class="component-loader-item">\n        <div class="component-loader-item-logo-block1"></div>\n        <div class="component-loader-item-logo-block2"></div>\n        <div class="component-loader-item-logo-block3"></div>\n        <div class="component-loader-item-logo-block4"></div>\n        <div class="component-loader-item-logo-block5"></div>\n        <div class="component-loader-item-logo-block6"></div>\n    </div>\n</div>',z=["ATVPDKIKX0DER","A1PA6795UKMFR9","A1RKKUPIHCS9HS","A13V1IB3VIYZZH","APJ6JRA9NG5V4","A1F83G8C2ARO7P","A21TJRUUN4KGV","A1AM78C64UM0Y8","A2EUQ1WTGCTBG2"];function P(){return a}function T(e){a=e}function A(){return r}function O(e){r=e}function D(e){l=e;switch(d()){case"com.mx":l.currencySign="$";break;case"ca":l.currencySign="CDN$"}}}).call(this,i(3))},10:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return p}));var n=i(2),a=i(6),r=i(15),o=i(168),l=i(169),c=i(7),h=i(0);let d=[];function p(t){this.__proto__=a.a;r.b.product=new o.a,this.externalEvents=e.extend({},this.externalEvents,{productScraped:"productScraped.AmazonProductScraper",productNotScraped:"productNotScraped.AmazonProductScraper"}),this.progressCounters=e.extend({},this.progressCounters);var i=this;function p(t){if(i.result=t.parsedData,i.result.asin){if(n.a.config.sendRequestToBackend)r=function(t){var n=new s.Event(i.externalEvents.productScraped,{productScrapedData:i.result});e(i).trigger(n)},(o={type:"backend-api-request",request:{}}).request[i.result.asin]={bsr:i.result.bsr,category:i.result.category,price:i.result.price,reviewNumber:i.result.reviewsNumber,brand:i.result.brand,reviewRate:i.result.reviewsRating},chrome.runtime.sendMessage(Object(h.o)(),o,(function(e){e.err?"function"==typeof r&&r({err:!0}):e.data&&0===e.data.errCode&&"object"==typeof e.data.salesData&&"object"==typeof e.data.salesData[i.result.asin]&&0===e.data.salesData[i.result.asin].errCode&&(i.result.brandTotal=e.data.salesData[i.result.asin].brandTotal||-1,i.result.estMonthlySales=e.data.salesData[i.result.asin].estMonthlySales||-1,i.result.estMonthlyRevenue=e.data.salesData[i.result.asin].estMonthlyRevenue||-1,"function"==typeof r&&r({err:!1}))}));else{var a=new s.Event(i.externalEvents.productScraped,{productScrapedData:i.result});e(i).trigger(a)}var r,o}else{var l=new s.Event(i.externalEvents.productNotScraped,{productNotScrapedData:{err:"No target ASIN on the product page.",html:i.result.html}});e(i).trigger(l)}}function u(t){var r=new l.a({product:i.result});e(r).on(c.a.externalEvents.finish,p);var o=new a.b({url:t,parsers:{productPageParser:r}});e(o).on(a.a.externalEvents.afterStart,(function(e){i.progressCounters.total+=1,i.notifyProgress()})),e(o).on(a.a.externalEvents.afterProcess,(function(t){e(o).off(),e(r).off(),r=null,o=null,i.progressCounters.done+=1,i.notifyProgress()})),e(o).on(a.a.externalEvents.errorDataLoad,(function(t){n.a.config.debug&&console.log("scrapper task"),n.a.config.debug&&console.log(o),e(o).off(),e(r).off(),r=null,o=null,i.progressCounters.done+=1,i.notifyProgress();var a=new s.Event(i.externalEvents.productNotScraped,{productNotScrapedData:{err:"Can not load data"}});e(i).trigger(a)})),o.start()}this.config=e.extend({},{},t||{}),this.result={alsoBoughtASINs:[],asin:"",availability:-1,bbSeller:"N/A",brand:"N/A",brandTotal:-1,bsr:-1,bsrList:[],category:"N/A",descriptionHtml:"",estMonthlyRevenue:-1,estMonthlySales:-1,listingCreationDate:"",positionInSearchResults:100*(this.config.page||0)+(this.config.positionOnPage||0),price:-1,reviewsNumber:-1,reviewsRating:-1,serviceData:{},title:"N/A",url:""},this.start=function(t){var a=t.match(/\/dp\/([^/]+)/);if(null!==a){var o=a[1];return d.push(o),void r.b.product.findItem(o,(function(a){if(a.err)return n.a.config.debug&&console.debug('Can not find product with asin "'+o+'". Error: '+a.err),void u(t);if(""!==a.data.category){var r=(new Date).getTime()-a.data.updatedAt;if(a.data&&r>n.a.config.productScraper.cacheDuration)u(t);else{i.result=a.data,i.progressCounters.total=1,i.notifyProgress(),setTimeout((function(){i.progressCounters.done=1,i.notifyProgress()}),100);var l=new s.Event(i.externalEvents.productScraped,{productScrapedData:i.result});e(i).trigger(l)}}else u(t)}))}u(t)}}}).call(this,i(3),i(3))},11:function(e,t,i){"use strict";(function(e){i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return d})),i.d(t,"d",(function(){return p}));var s=i(2),n=i(0),a=i(5),r=i(10);let o;function l(){let e=window.SearchPageAccess;const t=document.getElementsByTagName("body")[0];try{e&&e.asinList().length?t.setAttribute("data-h10-detail-state",JSON.stringify(e.asinList())):t.setAttribute("data-h10-detail-state","0")}catch(e){t.setAttribute("data-h10-detail-state","0")}}function c(){s.a.config.debug&&console.info("Start search page update");let t="asin-"+a.a+"-",i=document.createElement("script");i.type="text/javascript",i.text=i.text="("+l.toString()+")()",document.body.appendChild(i);const c=e(".s-color-swatch-pad").length>0,h=`<div class="helium-container ${e(".s-image-overlay-black").length>0?"container-gray":""}">\n            <div class="helium-spinner timeline-wrapper">\n                <div class="timeline-item">\n                    <div class="animated-background">\n                        <div class="background-masker right-one"></div>\n                        <div class="background-masker line-one"></div>\n                        <div class="background-masker right-two"></div>\n                        <div class="background-masker line-two"></div>\n                        <div class="background-masker right-three"></div>\n                        <div class="background-masker line-three"></div>\n                        <div class="background-masker right-four"></div>\n                        <div class="background-masker line-four"></div>\n                        <div class="background-masker right-five"></div>\n                    </div>\n                </div>\n            </div>\n        </div>`;Object(n.z)(chrome.runtime.id),Object(a.d)();let d=new URL(location.href),p=new URLSearchParams(d.search.slice(1));e("#s-result-info-bar-content .s-last-column").prepend(e("<button>",{text:"Go",class:"helium-price-selector-action",style:"width:10%; margin-right: 10px;"})).prepend(" ").prepend(e("<input>",{type:"text",placeholder:"Max",class:"helium-price-selector a-input-text a-spacing-top-mini s-ref-price-range s-ref-price-padding s-small-margin-left",style:"width:10%;margin-top: 0px !important;height: 21px;","data-type":"high-price",value:p.get("high-price")||""})).prepend(e("<input>",{type:"text",placeholder:"Min",class:"helium-price-selector a-input-text a-spacing-top-mini s-ref-price-range s-ref-price-padding s-small-margin-left",style:"width:10%;margin-top: 0px !important;height: 21px;","data-type":"low-price",value:p.get("low-price")||""})),e(".helium-price-selector-action").on("click",(function(){e(".helium-price-selector").each((function(){let t=parseFloat(e(this).val()),i=e(this).attr("data-type");t&&(p.has(i)?p.set(i,t):p.append(i,t))})),location.href=d.host+d.pathname+"?"+p.toString()}));let g=!1;try{g=JSON.parse(e("body").attr("data-h10-detail-state"))}catch(e){console.log("error with json parse")}function m(i,s){const n=i.closest(".s-result-list.sg-row").length?".sg-col-inner .s-expand-height, .sg-col-inner .s-include-content-margin.s-border-bottom":"div";!!i.find(".s-image-overlay-black").length&&i.addClass("h10-with-bg");const a=new MutationObserver(t=>{t.forEach(t=>{if(t.removedNodes.length){const i=t.removedNodes[0].attributes["data-asin"].value;if(i&&i!==o){o=i;const t=e("div.s-result-item");e(t).each((t,s)=>{if(s.innerHTML.toString().includes(i)){f(s.getAttribute("data-asin"));const t=e(s).find(".sg-col-inner span div").first();return e(s).addClass("h10-with-bg"),e(t).prepend(h),!1}})}}})});if(c&&a.observe(e(".s-main-slot")[0],{childList:!0}),i.length>1)i.each((function(){const t=e(this).find(n).not(".rush-component").first();e(this).find(".helium-container").length||e(t).prepend(h)}));else if(!i.find(".helium-container").length){const t=i.find(n).not(".rush-component").first();e(t).prepend(h)}let r=t+s;chrome.storage.local.get(r,(function(e){Object.keys(e).length&&e[r].time&&function(e){const t=Date.now();e=parseInt(e);return(t-e)/1e3<=21600}(e[r].time)?u(e[r]):f(s)}))}function f(i){let s=new r.a,o=a.a+"/dp/"+i;s.start(o),e(s).on(s.externalEvents.productNotScraped,(function(){e("[data-asin='"+i+"']").find(".helium-spinner").remove()})),e(s).on(s.externalEvents.productScraped,(function(e){let i=e.productScrapedData;i.asin;i.sellersNumber||(i.sellersNumber="1");let s={};s[t+i.asin]=Object(n.q)(i),chrome.storage.local.set(s),u(i)}))}g&&g.length?e.each(g,(function(t,i){let s=e(".s-result-item[data-asin='"+i+"']");s&&m(s,i)})):e(".s-result-item").each((function(){let t=e(this);t.data("asin")&&!t.context.innerText.includes("Prime Video")&&m(t,t.data("asin"))})),e(document).on("click",".helium-fee",(function(){let t=e(this).data("asin");return Object(a.e)(t),!1}))}const h=chrome.runtime.getURL("html/images/icons/bar-chart.svg"),d=chrome.runtime.getURL("html/images/icons/lock.svg"),p=chrome.runtime.getURL("html/images/icons/window-restore.svg");function u(t){let i,s=1===Number(t.sellersNumber)?"Seller":"Sellers";const r=`${a.a}/gp/offer-listing/${t.asin}/ref=dp_olp_new_mbc?ie=UTF8&amp;condition=all`;i=t.bsrList.length?t.bsrList.join("<br/>"):t.bsr<1?"BSR is undefined":`<span>#${t.bsr}</span> in ${t.category}`;let o=`<div class="helium-root">\n            <div class="helium-rank">${i}</div>\n            <div class="helium-data">\n                <span class="helium-data-item"><strong>ASIN:</strong>${t.asin}</span>`;e("#s-results-list-atf").hasClass("s-col-1")?o+=`<a class="helium-data-item helium-sellers-link" href="${r}" target="_blank">\n                <img src="${d}" class="helium-data-icon" alt=""/>Sold by ${t.bbSeller}</a>\n            <a class="helium-data-item helium-sellers-link" href="${r}" target="_blank">\n                <img src="${h}" class="helium-data-icon" alt=""/>${t.sellersNumber} ${s}</a>\n            <a class="helium-data-item helium-preview" href="#">\n                <img src="${p}" class="helium-data-icon" alt=""/>Show</a>\n        </div>`:o+=`<a class="helium-data-item helium-preview" href="#">\n                <img src="${p}" class="helium-data-icon" alt=""/>Show</a>\n            <a class="helium-data-item helium-sellers-link" href="${r}" target="_blank">\n                <img src="${d}" class="helium-data-icon" alt=""/>Sold by ${t.bbSeller}</a>\n            <a class="helium-data-item helium-sellers-link" href="${r}" target="_blank">\n                <img src="${h}" class="helium-data-icon" alt=""/>${t.sellersNumber} ${s}</a>\n        </div>`,n.c.includes(Object(n.m)())&&(o+=`<div class="helium-fee-wrapper">\n                <span class="helium-fee" data-asin="${t.asin}">Calculate fees</span>\n            </div>\n        </div>`);let l=e("[data-asin='"+t.asin+"']");Object(a.c)(l,t,o)}}).call(this,i(3))},12:function(e,t,i){"use strict";i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return h}));var s=i(0);const n="https://members.helium10.com/black-box/my-list?marketplace="+Object(s.m)(),a=`<div class="h10-overlay">\n    <div class="container6 xray-modal">\n        <div class="top-tabs">\n            <div class="h10-modal-title">\n                Xray - Amazon Product Research\n                <span id="h10-bb-search-term"></span>\n                <span id="h10-bb-search-volume"></span>\n            </div>\n            <div class="h10-modal-countdown-banner-container hide">\n                <div class="h10-modal-countdown">Free Launches Left: 0</div>             \n                <a class="h10-modal-upgrade-plan-button" \n                   href="https://members.helium10.com/subscribe"\n                   target="_blank">  \n                Upgrade for Unlimited\n                </a>\n            </div>\n            <div class="h10-bb-activity-indicator-container">\n                <i class="fa fa-spinner fa-pulse" id="h10-bb-activity-indicator"></i>\n            </div>            \n            <a class="close-btn" href="#"></a>\n        </div>\n        <div id="black-box-tab">\n            <div class="content-div" id="black-box">\n                <div class="h10-container">\n                    <div id="h10-cerebro-row">\n                        <div id="left-labels">\n                            <div id="cerebro-header">\n                                Select up to <span id="h10-xray-header-bold">10 ASINS</span> to Run a Keyword Search in Helium 10 Cerebro\n                            </div>\n                            <div id="cerebro-text">\n                                Get keyword insights by selecting products from your Xray search.\n                            </div>\n                        </div>\n                        <div id="right-labels">\n                            <div id="asin-selected">\n                                ASIN Selected: 0\n                            </div>\n                            <div class="disabled" id="cerebro-button">\n                                <span class="icon"><img class="cerebro-icon" src="${chrome.runtime.getURL("html/images/icons/cerebro-icon-blue.svg")}" alt=""></span>\n                                Run in Cerebro\n                            </div>\n                        </div>\n                    </div>\n                    <div id="black-box-summary"></div>\n                    <div class="black-box-preloader" id="bb-preloader">\n                        ${s.a}\n                        <div class="bb-line-1">Wait, not so fast</div>\n                        <div class="bb-line-2">For the extension to work correctly, try loading it on a page with\n                            tons of products!\n                        </div>\n                    </div>\n                    <div class="hide" id="black-box-content">\n                        <table class="stripe row-border order-column nowrap" id="black-box-table">\n                            <thead>\n                            <tr>\n                                <th class="h10-bb-checkbox"></th>\n                                <th class="h10-bb-inc-in-analysis-wrapper">#</th>\n                                <th class="h10-bb-asin">ASIN</th>\n                                <th class="h10-bb-brand">Brand</th>\n                                <th class="h10-bb-title">Title</th>\n                                <th class="h10-bb-category">Category</th>\n                                <th class="h10-bb-seller">Buybox</th>\n                                <th class="h10-bb-sellers-number">Seller #</th>\n                                <th class="h10-bb-fulfillment">Seller Type</th>\n                                <th class="h10-bb-price">Price</th>\n                                <th class="h10-bb-unit-margin">FBA Fee</th>\n                                <th class="h10-bb-sales">Sales</th>\n                                <th class="h10-bb-salesGraph">Sales graph</th>\n                                <th class="h10-bb-monthly-revenue">Revenue</th>\n                                <th class="h10-bb-bsr">BSR</th>\n                                <th class="h10-bb-rating">Rating</th>\n                                <th class="h10-bb-reviews">Reviews</th>\n                                <th class="h10-bb-reviews-velocity">Reviews Velocity</th>\n                                <th class="h10-bb-dimensions">Dimensions</th>\n                                <th class="h10-bb-weight">Weight</th>\n                                <th class="h10-bb-size-tier">Size Tier</th>\n                                <th class="h10-bb-images">Images</th>\n                                <th class="h10-bb-creation-date">Images</th>\n                                <th class="h10-bb-pin">Settings</th>\n                            </tr>\n                            </thead>\n                            <tbody id="black-box-table-body">\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n            <div class="h10-bb-asin-preview hide">\n                <div class="h10-image-preview">\n                    <img class="h10-bb-asin-preview-img" src="" alt=""/>\n                </div>\n                <div class="h10-bb-asin-preview-description">\n                    <span class="h10-bb-asin-preview-rating"> </span>\n                    <span class="h10-bb-asin-preview-rating-count">   </span>\n                    <div class="h10-bb-asin-preview-title"></div>\n                    <div class="h10-bb-asin-preview-price"></div>\n                </div>\n\n            </div>\n            <div class="h10-bb-settings-popup hide">\n                <h5 class="h10-bb-settings-title">Columns</h5>\n                <div class="h10-columns-selectors">\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="0" id="h10-bb-column-0"\n                               type="checkbox">\n                        <label for="h10-bb-column-0">#</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="1" id="h10-bb-column-1"\n                               type="checkbox">\n                        <label for="h10-bb-column-1">ASIN</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="2" id="h10-bb-column-2"\n                               type="checkbox">\n                        <label for="h10-bb-column-2">Brand</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="3" id="h10-bb-column-3"\n                               type="checkbox">\n                        <label for="h10-bb-column-3">Title</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="4" id="h10-bb-column-4"\n                               type="checkbox">\n                        <label for="h10-bb-column-4">Category</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="5" id="h10-bb-column-5"\n                               type="checkbox">\n                        <label for="h10-bb-column-5">BuyBox</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="6" id="h10-bb-column-6"\n                               type="checkbox">\n                        <label for="h10-bb-column-6">Number of Sellers</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="7" id="h10-bb-column-7"\n                               type="checkbox">\n                        <label for="h10-bb-column-7">Delivery</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="8" id="h10-bb-column-8"\n                               type="checkbox">\n                        <label for="h10-bb-column-8">Price</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked class="h10-bb-columns-options h10-checkbox" data-column="9" id="h10-bb-column-9"\n                               type="checkbox">\n                        <label for="h10-bb-column-9">FBA Fee</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="10"\n                               id="h10-bb-column-10"\n                               type="checkbox">\n                        <label for="h10-bb-column-10">Sales</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="11"\n                               id="h10-bb-column-11"\n                               type="checkbox">\n                        <label for="h10-bb-column-11">Sales Graph</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="12"\n                               id="h10-bb-column-12"\n                               type="checkbox">\n                        <label for="h10-bb-column-12">Revenue</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="13"\n                               id="h10-bb-column-13"\n                               type="checkbox">\n                        <label for="h10-bb-column-13">BSR</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="14"\n                               id="h10-bb-column-14"\n                               type="checkbox">\n                        <label for="h10-bb-column-14">Rating</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="15"\n                               id="h10-bb-column-15"\n                               type="checkbox">\n                        <label for="h10-bb-column-15">Review Count</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="16"\n                               id="h10-bb-column-16"\n                               type="checkbox">\n                        <label for="h10-bb-column-16">Review Velocity</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="17"\n                               id="h10-bb-column-17"\n                               type="checkbox">\n                        <label for="h10-bb-column-17">Dimensions</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="18"\n                               id="h10-bb-column-18"\n                               type="checkbox">\n                        <label for="h10-bb-column-18">Weight</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="19"\n                               id="h10-bb-column-19"\n                               type="checkbox">\n                        <label for="h10-bb-column-19">Size Tier</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="20"\n                               id="h10-bb-column-20"\n                               type="checkbox">\n                        <label for="h10-bb-column-20">Images</label>\n                    </div>\n                    <div class="h10-column-selector">\n                        <input checked\n                               class="h10-bb-columns-options h10-checkbox"\n                               data-column="21"\n                               id="h10-bb-column-21"\n                               type="checkbox">\n                        <label for="h10-bb-column-21">Creation Date</label>\n                    </div>\n                </div>\n            </div>\n\n            <div class="bb-footer content-div">\n                <div class="popup-footer">\n                    <a class="h10-logo-link" href="https://www.helium10.com/" target="_blank">\n                        <img id="bb-helium-logo" src="" alt="">\n                    </a>\n                    <span id="h10-bb-export-wrapper">\n                        <a class="h10-bb-list-action"\n                           href=${n}\n                           target="_blank">\n                            <i class="fa fa-thumb-tack"></i>\n                        </a>\n                        <i class="fa fa-camera h10-bb-screenshot-action"></i>\n                        <i class="fa fa-download h10-bb-csv-action"></i>\n                    </span>\n                </div>\n            </div>\n        </div>\n        <div class="h10-bb-graph-popup-overlay">\n            <div class="h10-bb-graph-popup hide">\n                <div class="h10-bb-graph-popup-header">\n                    <div class="h10-bb-graph-popup-header-title">\n                    </div>\n                    <i class="fa fa-window-close h10-bb-graph-popup-header-close"></i>\n                </div>\n                <div class="h10-bb-graph-popup-content">\n                    \x3c!--suppress HtmlDeprecatedAttribute --\x3e\n                    <iframe id="h10-bb-10-chart-iframe" class="h10-bb-graph-popup-iframe" src="" scrolling="no">\n                    </iframe>\n                    ${s.a}\n                </div>\n            </div>\n        </div>\n    </div>\n</div>`,r='<div class="h10-overlay">\n    <div class="container6 xray-limit-modal">\n        <div class="content-div" id="xray-limit-modal-tab">\n            <div class="h10-container"></div>\n        </div>\n    </div>\n</div>',o='<div class="h10-overlay">\n    <div class="container6 asin-grabber-modal">\n        <div class="top-tabs">\n            <div class="h10-modal-title">\n                <span>ASIN Grabber</span>\n                <span id="h10-bb-search-term"></span>\n                <span id="h10-bb-search-volume"></span>\n            </div>\n            <i class="fa fa-spinner fa-pulse" id="h10-bb-activity-indicator"></i>\n            <a class="close-btn" href="#"></a>\n        </div>\n        <div id="asin-grabber-tab">\n            <div class="content-div" id="asin-grabber">\n                <div class="h10-container"></div>\n            </div>\n        </div>\n    </div>\n</div>',l=`<div class="h10-overlay">\n    <div class="container6 inventory-level-modal">\n        <div class="top-tabs">\n            <span class="h10-modal-title" id="h10-inventory-levels">Inventory levels</span>\n            <a href="#" class="close-btn"></a>\n        </div>\n        <div class="content-div" id="stock-stats">\n            <div class="product-preview">\n                <div class="media hide" id="product-preview">\n                <div class="product-preview-left">\n                    <img class="media-object" src=" " alt="" id="h10-ss-img-preview">\n                </div>\n                <div class="product-preview-body">\n                    <div>\n                        <a href="" id="product-title" target="_blank"></a>\n                    </div>\n                    <div>ASIN : <span id="product-asin"></span></div>\n                    <div>BSR : <span id="product-bsr"></span></div>\n                </div>\n            </div>\n            </div>\n            <table id="sellers-table" class="table hide">\n                    <thead>\n                    <tr>\n                        <th>Seller</th>\n                        <th>Stock</th>\n                        <th>Price</th>\n                        <th>Fulfillment</th>\n                        <th>Rating</th>\n                    </tr>\n                    </thead>\n                    <tbody id="sellers-table-body">\n                    </tbody>\n                </table>\n            <div id="il-preloader" class="il-preloader">\n                ${s.a}\n            </div>\n        </div>\n    </div>\n</div>`,c='<div class="h10-overlay">\n    <div class="container6 profitability-calculator-modal">\n        <div class="top-tabs">\n            <span class="h10-modal-title" id="h10-profitability-calculator">Profitability Calculator</span>\n            <a href="#" class="close-btn"></a>\n        </div>\n        <div class="content-div" id="profitability-calculator-tab">\n            <div class="h10-container"></div>\n        </div>\n    </div>\n</div>',h='<div class="h10-overlay-fonts">\n    <div class="ns-300">Nunito Sans 300</div>\n    <div class="ns-400">Nunito Sans 400</div>\n    <div class="ns-600">Nunito Sans 600</div>\n    <div class="ns-700">Nunito Sans 700</div>\n    <span class="icon h10-icon-check-light"></span>\n    <span class="icon h10-icon-times-regular"></span>\n</div>'},15:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($,jQuery){__webpack_require__.d(__webpack_exports__,"a",(function(){return DataModel})),__webpack_require__.d(__webpack_exports__,"b",(function(){return DataModels}));var _src_html_js_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function DataModel(config){var self=this,defaultConfig={scopeName:"",pk:"id",fields:[]};if(this.errorTypes={noScopeName:"Scope name not set",storageFails:"Storage error",notFound:"Item not found",noPkField:"No primary key field found",alreadyExists:"Item alredy exists",operationCanceled:"Canceled"},this.externalEvents={beforeCreate:"beforeCreate.DataModel",afterCreate:"afterCreate.DataModel",beforeUpdate:"beforeUpdate.DataModel",afterUpdate:"afterUpdate.DataModel",beforeDelete:"beforeDelete.DataModel",afterDelete:"afterDelete.DataModel"},this.config=$.extend({},defaultConfig,config||{}),!this.config.scopeName||""===this.config.scopeName)throw"Can not create DataModel without scope name.";if(!this.config.pk||""==this.config.pk)throw"Can not create DataModel without primary key name.";if(!this.config.fields||"object"!=typeof this.config.fields||0===this.config.fields.length)throw"Can not create DataModel without fields definition.";if(-1===this.config.fields.indexOf(this.config.pk))throw"No primary key field found in fields list.";function makeEmptyData(){for(var e={},t=0;t<self.config.fields.length;t++)e[self.config.fields[t]]=null;return e}function makeStoragePrefix(){return"DataModel_"+getScopeName()}function getScopeName(){if(!self.config.scopeName||""===self.config.scopeName)throw self.errorTypes.noScopeName;return self.config.scopeName}function getPks(e){var t=makeStoragePrefix()+"_opts_pks",i={};i[t]=[],chrome.runtime.sendMessage(Object(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.o)(),{type:"storage-get",request:i},(function(i){chrome.runtime.lastError?"function"==typeof e&&e({err:self.errorTypes.storageFails}):"function"==typeof e&&e({err:!1,pks:i[t]})}))}function findItem(e,t){var i={},s=makeStoragePrefix()+"_"+e;i[s]=!1,chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-get",request:i},(function(e){chrome.runtime.lastError?"function"==typeof t&&t({err:self.errorTypes.storageFails}):!1!==e[s]?"function"==typeof t&&t({err:!1,data:$.extend({},makeEmptyData(),e[s])}):"function"==typeof t&&t({err:self.errorTypes.notFound})}))}function createItem(e,t,i){void 0===i&&(i=!0);var s=makeStoragePrefix()+"_"+e[self.config.pk];getPks((function(n){if(n.err)"function"==typeof t&&t({err:n.err});else if(-1===n.pks.indexOf(s)){n.pks.push(s);var a={};a[makeStoragePrefix()+"_opts_pks"]=n.pks,chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-set",request:a},(function(){if(chrome.runtime.lastError)"function"==typeof t&&t({err:self.errorTypes.storageFails});else{if(!0===i){var n=new jQuery.Event(self.externalEvents.beforeCreate,{beforeCreateData:{item:e}});if($(self).trigger(n),n.isDefaultPrevented())return void("function"==typeof t&&t({err:self.errorTypes.operationCanceled}))}e.createdAt=(new Date).getTime(),e.updatedAt=(new Date).getTime();var a={};a[s]=e,chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-set",request:a},(function(){if(chrome.runtime.lastError)"function"==typeof t&&t({err:self.errorTypes.storageFails});else{if(!0===i){var s=new jQuery.Event(self.externalEvents.afterCreate,{afterCreateData:{item:e}});$(self).trigger(s)}"function"==typeof t&&t({err:!1})}}))}}))}else"function"==typeof t&&t({err:self.errorTypes.alreadyExists})}))}function updateItem(e,t){if(!e[self.config.pk]||""===e[self.config.pk])throw self.errorTypes.noPkField;var i=makeStoragePrefix()+"_"+e[self.config.pk];getPks((function(s){if(s.err)"function"==typeof t&&t({err:s.err});else if(-1!==s.pks.indexOf(i)){var n=new jQuery.Event(self.externalEvents.beforeUpdate,{beforeUpdateData:{item:e}});if($(self).trigger(n),n.isDefaultPrevented())"function"==typeof t&&t({err:self.errorTypes.operationCanceled});else{e.updatedAt=(new Date).getTime();var a={};a[i]=e,chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-set",request:a},(function(){if(chrome.runtime.lastError)"function"==typeof t&&t({err:self.errorTypes.storageFails});else{var i=new jQuery.Event(self.externalEvents.afterUpdate,{afterUpdateData:{item:e}});$(self).trigger(i),"function"==typeof t&&t({err:!1})}}))}}else"function"==typeof t&&t({err:self.errorTypes.notFound})}))}function deleteItem(e,t){var i=makeStoragePrefix()+"_"+e;getPks((function(e){if(e.err)"function"==typeof t&&t({err:e.err});else{var s=e.pks.indexOf(i);if(-1!==s){e.pks.splice(s,1);var n={};n[makeStoragePrefix()+"_opts_pks"]=e.pks,chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-set",request:n},(function(){if(chrome.runtime.lastError)"function"==typeof t&&t({err:self.errorTypes.storageFails});else{var e=new jQuery.Event(self.externalEvents.beforeDelete,{beforeDaleteData:{id:i}});$(self).trigger(e),e.isDefaultPrevented()?"function"==typeof t&&t({err:self.errorTypes.operationCanceled}):chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-remove",key:i},(function(){if(chrome.runtime.lastError)"function"==typeof t&&t({err:self.errorTypes.storageFails});else{var e=new jQuery.Event(self.externalEvents.afterDelete,{afterDeleteData:{id:i}});$(self).trigger(e),"function"==typeof t&&t({err:!1})}}))}}))}else"function"==typeof t&&t({err:self.errorTypes.notFound})}}))}function listItems(e){getPks((function(t){if(t.err)"function"==typeof e&&e({err:t.err});else{for(var i={},s=0;s<t.pks.length;s++)i[t.pks[s]]=null;chrome.runtime.sendMessage(_src_html_js_common__WEBPACK_IMPORTED_MODULE_0__.g,{type:"storage-get",request:i},(function(t){var i=[];for(var s in t)null!==t[s]&&i.push($.extend({},makeEmptyData(),t[s]));"function"==typeof e&&e({err:!1,data:i})}))}}))}function searchItems(searchParameters,searchItemsCallback){var defaultParameters={attributes:{},maxResults:0},parameters=$.extend(defaultParameters,searchParameters),result=[];listItems((function(response){if(response.err)"function"==typeof searchItemsCallback&&searchItemsCallback({err:!0,data:[]});else{for(var i=0;i<response.data.length;i++){var item=response.data[i],conditionSuccess=!0;for(var attrName in parameters.attributes)if(attrName in item){var condition=parameters.attributes[attrName].condition,conditionValue=parameters.attributes[attrName].value,attributeValue=item[attrName],expression="attributeValue";switch(condition){case">":case">=":case"<":case"<=":case"==":case"===":expression+=" "+condition+" conditionValue";break;case"indexOf":expression+=".indexOf(conditionValue)"}console.debug("eveluting expression: ",expression);var conditionResult=eval(expression);if(!1===conditionResult){conditionSuccess=!1;break}}conditionSuccess&&result.push(item)}"function"==typeof searchItemsCallback&&searchItemsCallback({err:!1,data:result})}}))}this.config.fields.push("createdAt"),this.config.fields.push("updatedAt"),this.findItem=findItem,this.updateItem=updateItem,this.createItem=createItem,this.deleteItem=deleteItem,this.listItems=listItems,this.createEmptyItem=makeEmptyData,this.searchItems=searchItems}var DataModels={}}).call(this,__webpack_require__(3),__webpack_require__(3))},161:function(e,t,i){},163:function(e,t,i){(function(e){
/*!
 * jQuery Raty - A Star Rating Plugin
 *
 * The MIT License
 *
 * @author  : Washington Botelho
 * @doc     : http://wbotelhos.com/raty
 * @version : 2.7.1
 *
 */
!function(e){"use strict";var t={init:function(i){return this.each((function(){this.self=e(this),t.destroy.call(this.self),this.opt=e.extend(!0,{},e.fn.raty.defaults,i),t._adjustCallback.call(this),t._adjustNumber.call(this),t._adjustHints.call(this),this.opt.score=t._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&t._adjustStarType.call(this),t._adjustPath.call(this),t._createStars.call(this),this.opt.cancel&&t._createCancel.call(this),this.opt.precision&&t._adjustPrecision.call(this),t._createScore.call(this),t._apply.call(this,this.opt.score),t._setTitle.call(this,this.opt.score),t._target.call(this,this.opt.score),this.opt.readOnly?t._lock.call(this):(this.style.cursor="pointer",t._binds.call(this))}))},_adjustCallback:function(){for(var e=["number","readOnly","score","scoreName","target","path"],t=0;t<e.length;t++)"function"==typeof this.opt[e[t]]&&(this.opt[e[t]]=this.opt[e[t]].call(this))},_adjustedScore:function(e){return e?t._between(e,0,this.opt.number):e},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var e=this.opt.precision?10:2,t=0;t<this.opt.number;t++){var i=this.opt.hints[t];"[object Array]"!==Object.prototype.toString.call(i)&&(i=[i]),this.opt.hints[t]=[];for(var s=0;s<e;s++){var n=i[s],a=i[i.length-1];void 0===a&&(a=null),this.opt.hints[t][s]=void 0===n?a:n}}},_adjustNumber:function(){this.opt.number=t._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var e=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var t=0;t<e.length;t++)this.opt[e[t]]=this.opt[e[t]].replace(".","-")},_apply:function(e){t._fill.call(this,e),e&&(e>0&&this.score.val(e),t._roundStars.call(this,e))},_between:function(e,t,i){return Math.min(Math.max(parseFloat(e),t),i)},_binds:function(){this.cancel&&(t._bindOverCancel.call(this),t._bindClickCancel.call(this),t._bindOutCancel.call(this)),t._bindOver.call(this),t._bindClick.call(this),t._bindOut.call(this)},_bindClick:function(){var i=this;i.stars.on("click.raty",(function(s){var n=!0,a=i.opt.half||i.opt.precision?i.self.data("score"):this.alt||e(this).data("alt");i.opt.click&&(n=i.opt.click.call(i,+a,s)),(n||void 0===n)&&(i.opt.half&&!i.opt.precision&&(a=t._roundHalfScore.call(i,a)),t._apply.call(i,a))}))},_bindClickCancel:function(){var e=this;e.cancel.on("click.raty",(function(t){e.score.removeAttr("value"),e.opt.click&&e.opt.click.call(e,null,t)}))},_bindOut:function(){var e=this;e.self.on("mouseleave.raty",(function(i){var s=+e.score.val()||void 0;t._apply.call(e,s),t._target.call(e,s,i),t._resetTitle.call(e),e.opt.mouseout&&e.opt.mouseout.call(e,s,i)}))},_bindOutCancel:function(){var e=this;e.cancel.on("mouseleave.raty",(function(i){var s=e.opt.cancelOff;if("img"!==e.opt.starType&&(s=e.opt.cancelClass+" "+s),t._setIcon.call(e,this,s),e.opt.mouseout){var n=+e.score.val()||void 0;e.opt.mouseout.call(e,n,i)}}))},_bindOver:function(){var e=this,i=e.opt.half?"mousemove.raty":"mouseover.raty";e.stars.on(i,(function(i){var s=t._getScoreByPosition.call(e,i,this);t._fill.call(e,s),e.opt.half&&(t._roundStars.call(e,s,i),t._setTitle.call(e,s,i),e.self.data("score",s)),t._target.call(e,s,i),e.opt.mouseover&&e.opt.mouseover.call(e,s,i)}))},_bindOverCancel:function(){var e=this;e.cancel.on("mouseover.raty",(function(i){var s=e.opt.path+e.opt.starOff,n=e.opt.cancelOn;"img"===e.opt.starType?e.stars.attr("src",s):(n=e.opt.cancelClass+" "+n,e.stars.attr("class",s)),t._setIcon.call(e,this,n),t._target.call(e,null,i),e.opt.mouseover&&e.opt.mouseover.call(e,null)}))},_buildScoreField:function(){return e("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var t=this.opt.path+this.opt.cancelOff,i=e("<"+this.opt.starType+" />",{title:this.opt.cancelHint,class:this.opt.cancelClass});"img"===this.opt.starType?i.attr({src:t,alt:"x"}):i.attr("data-alt","x").addClass(t),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(i):this.self.append("&#160;").append(i),this.cancel=i},_createScore:function(){var i=e(this.opt.targetScore);this.score=i.length?i:t._buildScoreField.call(this)},_createStars:function(){for(var i=1;i<=this.opt.number;i++){var s=t._nameForIndex.call(this,i),n={alt:i,src:this.opt.path+this.opt[s]};"img"!==this.opt.starType&&(n={"data-alt":i,class:n.src}),n.title=t._getHint.call(this,i),e("<"+this.opt.starType+" />",n).appendTo(this),this.opt.space&&this.self.append(i<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(t){e(this).text(t),e.error(t)},_fill:function(e){for(var i=0,s=1;s<=this.stars.length;s++){var n,a=this.stars[s-1],r=t._turnOn.call(this,s,e);if(this.opt.iconRange&&this.opt.iconRange.length>i){var o=this.opt.iconRange[i];n=t._getRangeIcon.call(this,o,r),s<=o.range&&t._setIcon.call(this,a,n),s===o.range&&i++}else n=this.opt[r?"starOn":"starOff"],t._setIcon.call(this,a,n)}},_getFirstDecimal:function(e){var t=e.toString().split(".")[1],i=0;return t&&(i=parseInt(t.charAt(0),10),"9999"===t.slice(1,5)&&i++),i},_getRangeIcon:function(e,t){return t?e.on||this.opt.starOn:e.off||this.opt.starOff},_getScoreByPosition:function(i,s){var n=parseInt(s.alt||s.getAttribute("data-alt"),10);if(this.opt.half){var a=t._getWidth.call(this);n=n-1+parseFloat((i.pageX-e(s).offset().left)/a)}return n},_getHint:function(e,i){if(0!==e&&!e)return this.opt.noRatedMsg;var s=t._getFirstDecimal.call(this,e),n=Math.ceil(e),a=this.opt.hints[(n||1)-1],r=a,o=!i||this.move;return this.opt.precision?(o&&(s=0===s?9:s-1),r=a[s]):(this.opt.halfShow||this.opt.half)&&(r=a[s=o&&0===s||s>5?1:0]),""===r?"":r||e},_getWidth:function(){var e=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return e||t._error.call(this,"Could not get the icon width!"),e},_lock:function(){var e=t._getHint.call(this,this.score.val());this.style.cursor="",this.title=e,this.score.prop("readonly",!0),this.stars.prop("title",e),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(e){return this.opt.score&&this.opt.score>=e?"starOn":"starOff"},_resetTitle:function(e){for(var i=0;i<this.opt.number;i++)this.stars[i].title=t._getHint.call(this,i+1)},_roundHalfScore:function(e){var i=parseInt(e,10),s=t._getFirstDecimal.call(this,e);return 0!==s&&(s=s>5?1:.5),i+s},_roundStars:function(e,i){var s,n=(e%1).toFixed(2);if(i||this.move?s=n>.5?"starOn":"starHalf":n>this.opt.round.down&&(s="starOn",this.opt.halfShow&&n<this.opt.round.up?s="starHalf":n<this.opt.round.full&&(s="starOff")),s){var a=this.opt[s],r=this.stars[Math.ceil(e)-1];t._setIcon.call(this,r,a)}},_setIcon:function(e,t){e["img"===this.opt.starType?"src":"className"]=this.opt.path+t},_setTarget:function(e,t){t&&(t=this.opt.targetFormat.toString().replace("{score}",t)),e.is(":input")?e.val(t):e.html(t)},_setTitle:function(e,i){if(e){var s=parseInt(Math.ceil(e),10);this.stars[s-1].title=t._getHint.call(this,e,i)}},_target:function(i,s){if(this.opt.target){var n=e(this.opt.target);n.length||t._error.call(this,"Target selector invalid or missing!");var a=s&&"mouseover"===s.type;if(void 0===i)i=this.opt.targetText;else if(null===i)i=a?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?i=t._getHint.call(this,i,s):this.opt.precision&&(i=parseFloat(i).toFixed(1));var r=s&&"mousemove"===s.type;a||r||this.opt.targetKeep||(i=this.opt.targetText)}t._setTarget.call(this,n,i)}},_turnOn:function(e,t){return this.opt.single?e===t:e<=t},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var e=0;e<this.opt.number;e++)this.stars[e].title=t._getHint.call(this,e+1);this.cancel&&this.cancel.css("display","")},cancel:function(i){return this.each((function(){var s=e(this);!0!==s.data("readonly")&&(t[i?"click":"score"].call(s,null),this.score.removeAttr("value"))}))},click:function(i){return this.each((function(){!0!==e(this).data("readonly")&&(i=t._adjustedScore.call(this,i),t._apply.call(this,i),this.opt.click&&this.opt.click.call(this,i,e.Event("click")),t._target.call(this,i))}))},destroy:function(){return this.each((function(){var t=e(this),i=t.data("raw");i?t.off(".raty").empty().css({cursor:i.style.cursor}).removeData("readonly"):t.data("raw",t.clone()[0])}))},getScore:function(){var e,t=[];return this.each((function(){e=this.score.val(),t.push(e?+e:void 0)})),t.length>1?t:t[0]},move:function(i){return this.each((function(){var s=parseInt(i,10),n=t._getFirstDecimal.call(this,i);s>=this.opt.number&&(s=this.opt.number-1,n=10);var a=t._getWidth.call(this)/10,r=e(this.stars[s]),o=r.offset().left+a*n,l=e.Event("mousemove",{pageX:o});this.move=!0,r.trigger(l),this.move=!1}))},readOnly:function(i){return this.each((function(){var s=e(this);s.data("readonly")!==i&&(i?(s.off(".raty").children(this.opt.starType).off(".raty"),t._lock.call(this)):(t._binds.call(this),t._unlock.call(this)),s.data("readonly",i))}))},reload:function(){return t.set.call(this,{})},score:function(){var i=e(this);return arguments.length?t.setScore.apply(i,arguments):t.getScore.call(i)},set:function(t){return this.each((function(){e(this).raty(e.extend({},this.opt,t))}))},setScore:function(i){return this.each((function(){!0!==e(this).data("readonly")&&(i=t._adjustedScore.call(this,i),t._apply.call(this,i),t._target.call(this,i))}))}};e.fn.raty=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist!"):t.init.apply(this,arguments)},e.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:void 0,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",starType:"img",target:void 0,targetFormat:"{score}",targetKeep:!1,targetScore:void 0,targetText:"",targetType:"hint"}}(e)}).call(this,i(3))},164:function(e,t,i){var s,n,a;!function(r,o,l){n=[i(3)],void 0===(a="function"==typeof(s=function(e){"use strict";var t,i,s,n,a,l,c,h,d,p,u,g,m,f,v,b,y,w,k,S,x,_,C,F,z,P,T,A,O,D={},N=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},i=function(){var t,i;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=e.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&((i=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),e.extend.apply(e,i))):t.prototype=arguments[0],t.prototype.cls=t,t},e.SPFormatClass=s=i({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,i){var s,n,a,r,o,l=this,c=e;return this.format.replace(this.fre,(function(){return n=arguments[1],a=arguments[3],(s=l.precre.exec(n))?(o=s[2],n=s[1]):o=!1,void 0===(r=c[n])?"":a&&t&&t[a]?t[a].get?t[a].get(r)||r:t[a][r]||r:(d(r)&&(r=i.get("numberFormatter")?i.get("numberFormatter")(r):m(r,o,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),r)}))}}),e.spformat=function(e,t){return new s(e,t)},n=function(e,t,i){return e<t?t:e>i?i:e},a=function(e,t){var i;return 2===t?(i=o.floor(e.length/2),e.length%2?e[i]:(e[i-1]+e[i])/2):e.length%2?(i=(e.length*t+t)/4)%1?(e[o.floor(i)]+e[o.floor(i)-1])/2:e[i-1]:(i=(e.length*t+2)/4)%1?(e[o.floor(i)]+e[o.floor(i)-1])/2:e[i-1]},l=function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},c=function(e){var t,i=[];for(t=e.length;t--;)i[t]=l(e[t]);return i},h=function(e,t){var i,s,n=[];for(i=0,s=e.length;i<s;i++)e[i]!==t&&n.push(e[i]);return n},d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=function(t,i,s,n,a){var r,o;for(t=(!1===i?parseFloat(t).toString():t.toFixed(i)).split(""),(r=(r=e.inArray(".",t))<0?t.length:r)<t.length&&(t[r]=a),o=r-s;o>0;o-=s)t.splice(o,0,n);return t.join("")},p=function(e,t,i){var s;for(s=t.length;s--;)if((!i||null!==t[s])&&t[s]!==e)return!1;return!0},g=function(t){return e.isArray(t)?t:[t]},u=function(e){var t,i;if(r.createStyleSheet)try{return void(r.createStyleSheet().cssText=e)}catch(e){i=!0}(t=r.createElement("style")).type="text/css",r.getElementsByTagName("head")[0].appendChild(t),i?r.styleSheets[r.styleSheets.length-1].cssText=e:t["string"==typeof r.body.style.WebkitAppearance?"innerText":"innerHTML"]=e},e.fn.simpledraw=function(t,i,s,n){var a,o;if(s&&(a=this.data("_jqs_vcanvas")))return a;if(!1===e.fn.sparkline.canvas)return!1;if(void 0===e.fn.sparkline.canvas){var l=r.createElement("canvas");if(l.getContext&&l.getContext("2d"))e.fn.sparkline.canvas=function(e,t,i,s){return new T(e,t,i,s)};else{if(!r.namespaces||r.namespaces.v)return e.fn.sparkline.canvas=!1,!1;r.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),e.fn.sparkline.canvas=function(e,t,i,s){return new A(e,t,i)}}}return void 0===t&&(t=e(this).innerWidth()),void 0===i&&(i=e(this).innerHeight()),a=e.fn.sparkline.canvas(t,i,this,n),(o=e(this).data("_jqs_mhandler"))&&o.registerCanvas(a),a},e.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},e.RangeMapClass=f=i({init:function(e){var t,i,s=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&((i=t.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=e[t],s.push(i));this.map=e,this.rangelist=s||!1},get:function(e){var t,i,s,n=this.rangelist;if(void 0!==(s=this.map[e]))return s;if(n)for(t=n.length;t--;)if((i=n[t])[0]<=e&&i[1]>=e)return i[2]}}),e.range_map=function(e){return new f(e)},v=i({init:function(t,i){var s=e(t);this.$el=s,this.options=i,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!i.get("disableTooltips"),this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(t){var i=e(t.canvas);this.canvas=t,this.$canvas=i,i.mouseenter(e.proxy(this.mouseenter,this)),i.mouseleave(e.proxy(this.mouseleave,this)),i.click(e.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(t){var i=e.Event("sparklineClick");i.originalEvent=t,i.sparklines=this.splist,this.$el.trigger(i)},mouseenter:function(t){e(r.body).unbind("mousemove.jqs"),e(r.body).bind("mousemove.jqs",e.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new b(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){e(r.body).unbind("mousemove.jqs");var t,i=this.splist,s=i.length,n=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<s;t++)i[t].clearRegionHighlight()&&(n=!0);n&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var t,i,s,n,a=this.splist,r=a.length,o=!1,l=this.$canvas.offset(),c=this.currentPageX-l.left,h=this.currentPageY-l.top;if(this.over){for(i=0;i<r;i++)(s=a[i].setRegionHighlight(this.currentEl,c,h))&&(o=!0);if(o){if((n=e.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(n),this.tooltip){for(t="",i=0;i<r;i++)t+=a[i].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===s&&this.mouseleave()}}}),b=i({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var i,s=t.get("tooltipClassname","jqstooltip"),n=this.sizeStyle;this.container=t.get("tooltipContainer")||r.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),e("#jqssizetip").remove(),e("#jqstooltip").remove(),this.sizetip=e("<div/>",{id:"jqssizetip",style:n,class:s}),this.tooltip=e("<div/>",{id:"jqstooltip",class:s}).appendTo(this.container),i=this.tooltip.offset(),this.offsetLeft=i.left,this.offsetTop=i.top,this.hidden=!0,e(window).unbind("resize.jqs scroll.jqs"),e(window).bind("resize.jqs scroll.jqs",e.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=e(window).scrollTop(),this.scrollLeft=e(window).scrollLeft(),this.scrollRight=this.scrollLeft+e(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){if(!e)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(e,t){if(void 0===e){if(void 0===this.mousex)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,e(window).unbind("resize.jqs scroll.jqs")}}),e((function(){u('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')})),O=[],e.fn.sparkline=function(t,i){return this.each((function(){var s,n,a=new e.fn.sparkline.options(this,i),o=e(this);if(s=function(){var i,s,n,l,c,h,d;"html"===t||void 0===t?(null==(d=this.getAttribute(a.get("tagValuesAttribute")))&&(d=o.html()),i=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):i=t,s="auto"===a.get("width")?i.length*a.get("defaultPixelsPerValue"):a.get("width"),"auto"===a.get("height")?a.get("composite")&&e.data(this,"_jqs_vcanvas")||((l=r.createElement("span")).innerHTML="a",o.html(l),n=e(l).innerHeight()||e(l).height(),e(l).remove(),l=null):n=a.get("height"),a.get("disableInteraction")?c=!1:(c=e.data(this,"_jqs_mhandler"))?a.get("composite")||c.reset():(c=new v(this,a),e.data(this,"_jqs_mhandler",c)),!a.get("composite")||e.data(this,"_jqs_vcanvas")?((h=new(e.fn.sparkline[a.get("type")])(this,i,a,s,n)).render(),c&&c.registerSparkline(h)):e.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),e.data(this,"_jqs_errnotify",!0))},e(this).html()&&!a.get("disableHiddenCheck")&&e(this).is(":hidden")||!e(this).parents("body").length){if(!a.get("composite")&&e.data(this,"_jqs_pending"))for(n=O.length;n;n--)O[n-1][0]==this&&O.splice(n-1,1);O.push([this,s]),e.data(this,"_jqs_pending",!0)}else s.call(this)}))},e.fn.sparkline.defaults=t(),e.sparkline_display_visible=function(){var t,i,s,n=[];for(i=0,s=O.length;i<s;i++)t=O[i][0],e(t).is(":visible")&&!e(t).parents().is(":hidden")?(O[i][1].call(t),e.data(O[i][0],"_jqs_pending",!1),n.push(i)):e(t).closest("html").length||e.data(t,"_jqs_pending")||(e.data(O[i][0],"_jqs_pending",!1),n.push(i));for(i=n.length;i;i--)O.splice(n[i-1],1)},e.fn.sparkline.options=i({init:function(t,i){var s,n,a,r;this.userOptions=i=i||{},this.tag=t,this.tagValCache={},a=(n=e.fn.sparkline.defaults).common,this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||a.tagOptionsPrefix),s=(r=this.getTagSetting("type"))===D?n[i.type||a.type]:n[r],this.mergedOptions=e.extend({},a,s,i)},getTagSetting:function(e){var t,i,s,n,a=this.tagOptionsPrefix;if(!1===a||void 0===a)return D;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(null==(t=this.tag.getAttribute(a+e)))t=D;else if("["===t.substr(0,1))for(i=(t=t.substr(1,t.length-2).split(",")).length;i--;)t[i]=l(t[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(s=t.substr(1,t.length-2).split(","),t={},i=s.length;i--;)t[(n=s[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=l(n[1].replace(/(^\s*)|(\s*$)/g,""));else t=l(t);this.tagValCache.key=t}return t},get:function(e,t){var i,s=this.getTagSetting(e);return s!==D?s:void 0===(i=this.mergedOptions[e])?t:i}}),e.fn.sparkline._base=i({disabled:!1,init:function(t,i,s,n,a){this.el=t,this.$el=e(t),this.values=i,this.options=s,this.width=n,this.height=a,this.currentRegion=void 0},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(e,t){},setRegionHighlight:function(e,t,i){var s,n=this.currentRegion,a=!this.options.get("disableHighlight");return t>this.canvasWidth||i>this.canvasHeight||t<0||i<0?null:n!==(s=this.getRegion(e,t,i))&&(void 0!==n&&a&&this.removeHighlight(),this.currentRegion=s,void 0!==s&&a&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(e){},getCurrentRegionTooltip:function(){var t,i,n,a,r,o,l,c,h,d,p,u,g,m,f=this.options,v="",b=[];if(void 0===this.currentRegion)return"";if(t=this.getCurrentRegionFields(),p=f.get("tooltipFormatter"))return p(this,f,t);if(f.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+f.get("tooltipChartTitle")+"</div>\n"),!(i=this.options.get("tooltipFormat")))return"";if(e.isArray(i)||(i=[i]),e.isArray(t)||(t=[t]),l=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),l&&c){for(h=[],o=t.length;o--;)d=t[o][c],-1!=(m=e.inArray(d,l))&&(h[m]=t[o]);t=h}for(n=i.length,g=t.length,o=0;o<n;o++)for("string"==typeof(u=i[o])&&(u=new s(u)),a=u.fclass||"jqsfield",m=0;m<g;m++)t[m].isNull&&f.get("tooltipSkipNull")||(e.extend(t[m],{prefix:f.get("tooltipPrefix"),suffix:f.get("tooltipSuffix")}),r=u.render(t[m],f.get("tooltipValueLookups"),f),b.push('<div class="'+a+'">'+r+"</div>"));return b.length?v+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,t){var i,s,a,r,l=t.get("highlightColor"),c=t.get("highlightLighten");if(l)return l;if(c&&(i=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(a=[],s=4===e.length?16:1,r=0;r<3;r++)a[r]=n(o.round(parseInt(i[r+1],16)*s*c),0,255);return"rgb("+a.join(",")+")"}return e}}),y={changeHighlight:function(t){var i,s=this.currentRegion,n=this.target,a=this.regionShapes[s];a&&(i=this.renderRegion(s,t),e.isArray(i)||e.isArray(a)?(n.replaceWithShapes(a,i),this.regionShapes[s]=e.map(i,(function(e){return e.id}))):(n.replaceWithShape(a,i),this.regionShapes[s]=i.id))},render:function(){var t,i,s,n,a=this.values,r=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(s=a.length;s--;)if(t=this.renderRegion(s))if(e.isArray(t)){for(i=[],n=t.length;n--;)t[n].append(),i.push(t[n].id);o[s]=i}else t.append(),o[s]=t.id;else o[s]=null;r.render()}}},e.fn.sparkline.line=w=i(e.fn.sparkline._base,{type:"line",init:function(e,t,i,s,n){w._super.init.call(this,e,t,i,s,n),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t,i){var s,n=this.regionMap;for(s=n.length;s--;)if(null!==n[s]&&t>=n[s][0]&&t<=n[s][1])return n[s][2]},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,i=this.currentRegion,s=this.target,n=this.vertices[i],a=this.options,r=a.get("spotRadius"),o=a.get("highlightSpotColor"),l=a.get("highlightLineColor");n&&(r&&o&&(e=s.drawCircle(n[0],n[1],r,void 0,o),this.highlightSpotId=e.id,s.insertAfterShape(this.lastShapeId,e)),l&&(t=s.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=t.id,s.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,t,i,s,n,a=this.values,r=a.length,l=this.xvalues,c=this.yvalues,h=this.yminmax;for(e=0;e<r;e++)t=a[e],i="string"==typeof a[e],s="object"==typeof a[e]&&a[e]instanceof Array,n=i&&a[e].split(":"),i&&2===n.length?(l.push(Number(n[0])),c.push(Number(n[1])),h.push(Number(n[1]))):s?(l.push(t[0]),c.push(t[1]),h.push(t[1])):(l.push(e),null===a[e]||"null"===a[e]?c.push(null):(c.push(Number(t)),h.push(Number(t))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=o.max.apply(o,h),this.miny=this.minyorg=o.min.apply(o,h),this.maxx=o.max.apply(o,l),this.minx=o.min.apply(o,l),this.xvalues=l,this.yvalues=c,this.yminmax=h},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),i=e.get("normalRangeMax");void 0!==t&&(t<this.miny&&(this.miny=t),i>this.maxy&&(this.maxy=i)),void 0!==e.get("chartRangeMin")&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),void 0!==e.get("chartRangeMax")&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),void 0!==e.get("chartRangeMinX")&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),void 0!==e.get("chartRangeMaxX")&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,t,i,s,n){var a=this.options.get("normalRangeMin"),r=this.options.get("normalRangeMax"),l=t+o.round(i-i*((r-this.miny)/n)),c=o.round(i*(r-a)/n);this.target.drawRect(e,l,s,c,void 0,this.options.get("normalRangeColor")).append()},render:function(){var t,i,s,n,a,r,l,c,h,d,p,u,g,m,v,b,y,k,S,x,_,C,F,z,P=this.options,T=this.target,A=this.canvasWidth,O=this.canvasHeight,D=this.vertices,N=P.get("spotRadius"),R=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),C=this.xvalues,F=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(n=a=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,i=this.maxy-this.miny==0?1:this.maxy-this.miny,s=this.yvalues.length-1,N&&(A<4*N||O<4*N)&&(N=0),N&&(((x=P.get("highlightSpotColor")&&!P.get("disableInteraction"))||P.get("minSpotColor")||P.get("spotColor")&&F[s]===this.miny)&&(O-=o.ceil(N)),(x||P.get("maxSpotColor")||P.get("spotColor")&&F[s]===this.maxy)&&(O-=o.ceil(N),n+=o.ceil(N)),(x||(P.get("minSpotColor")||P.get("maxSpotColor"))&&(F[0]===this.miny||F[0]===this.maxy))&&(a+=o.ceil(N),A-=o.ceil(N)),(x||P.get("spotColor")||P.get("minSpotColor")||P.get("maxSpotColor")&&(F[s]===this.miny||F[s]===this.maxy))&&(A-=o.ceil(N))),O--,void 0===P.get("normalRangeMin")||P.get("drawNormalOnTop")||this.drawNormalRange(a,n,O,A,i),c=[l=[]],g=m=null,v=F.length,z=0;z<v;z++)h=C[z],p=C[z+1],d=F[z],m=(u=a+o.round((h-this.minx)*(A/t)))+((z<v-1?a+o.round((p-this.minx)*(A/t)):A)-u)/2,R[z]=[g||0,m,z],g=m,null===d?z&&(null!==F[z-1]&&(l=[],c.push(l)),D.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),l.length||l.push([u,n+O]),r=[u,n+o.round(O-O*((d-this.miny)/i))],l.push(r),D.push(r));for(b=[],y=[],k=c.length,z=0;z<k;z++)(l=c[z]).length&&(P.get("fillColor")&&(l.push([l[l.length-1][0],n+O]),y.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),b.push(l));for(k=y.length,z=0;z<k;z++)T.drawShape(y[z],P.get("fillColor"),P.get("fillColor")).append();for(void 0!==P.get("normalRangeMin")&&P.get("drawNormalOnTop")&&this.drawNormalRange(a,n,O,A,i),k=b.length,z=0;z<k;z++)T.drawShape(b[z],P.get("lineColor"),void 0,P.get("lineWidth")).append();if(N&&P.get("valueSpots"))for(void 0===(S=P.get("valueSpots")).get&&(S=new f(S)),z=0;z<v;z++)(_=S.get(F[z]))&&T.drawCircle(a+o.round((C[z]-this.minx)*(A/t)),n+o.round(O-O*((F[z]-this.miny)/i)),N,void 0,_).append();N&&P.get("spotColor")&&null!==F[s]&&T.drawCircle(a+o.round((C[C.length-1]-this.minx)*(A/t)),n+o.round(O-O*((F[s]-this.miny)/i)),N,void 0,P.get("spotColor")).append(),this.maxy!==this.minyorg&&(N&&P.get("minSpotColor")&&(h=C[e.inArray(this.minyorg,F)],T.drawCircle(a+o.round((h-this.minx)*(A/t)),n+o.round(O-O*((this.minyorg-this.miny)/i)),N,void 0,P.get("minSpotColor")).append()),N&&P.get("maxSpotColor")&&(h=C[e.inArray(this.maxyorg,F)],T.drawCircle(a+o.round((h-this.minx)*(A/t)),n+o.round(O-O*((this.maxyorg-this.miny)/i)),N,void 0,P.get("maxSpotColor")).append())),this.lastShapeId=T.getLastShapeId(),this.canvasTop=n,T.render()}}}),e.fn.sparkline.bar=k=i(e.fn.sparkline._base,y,{type:"bar",init:function(t,i,s,a,r){var d,p,u,g,m,v,b,y,w,S,x,_,C,F,z,P,T,A,O,D,N,R=parseInt(s.get("barWidth"),10),E=parseInt(s.get("barSpacing"),10),M=s.get("chartRangeMin"),j=s.get("chartRangeMax"),I=s.get("chartRangeClip"),W=1/0,L=-1/0;for(k._super.init.call(this,t,i,s,a,r),v=0,b=i.length;v<b;v++)((d="string"==typeof(D=i[v])&&D.indexOf(":")>-1)||e.isArray(D))&&(z=!0,d&&(D=i[v]=c(D.split(":"))),D=h(D,null),(p=o.min.apply(o,D))<W&&(W=p),(u=o.max.apply(o,D))>L&&(L=u));this.stacked=z,this.regionShapes={},this.barWidth=R,this.barSpacing=E,this.totalBarWidth=R+E,this.width=a=i.length*R+(i.length-1)*E,this.initTarget(),I&&(C=void 0===M?-1/0:M,F=void 0===j?1/0:j),m=[],g=z?[]:m;var B=[],H=[];for(v=0,b=i.length;v<b;v++)if(z)for(P=i[v],i[v]=O=[],B[v]=0,g[v]=H[v]=0,T=0,A=P.length;T<A;T++)null!==(D=O[T]=I?n(P[T],C,F):P[T])&&(D>0&&(B[v]+=D),W<0&&L>0?D<0?H[v]+=o.abs(D):g[v]+=D:g[v]+=o.abs(D-(D<0?L:W)),m.push(D));else D=I?n(i[v],C,F):i[v],null!==(D=i[v]=l(D))&&m.push(D);this.max=_=o.max.apply(o,m),this.min=x=o.min.apply(o,m),this.stackMax=L=z?o.max.apply(o,B):_,this.stackMin=W=z?o.min.apply(o,m):x,void 0!==s.get("chartRangeMin")&&(s.get("chartRangeClip")||s.get("chartRangeMin")<x)&&(x=s.get("chartRangeMin")),void 0!==s.get("chartRangeMax")&&(s.get("chartRangeClip")||s.get("chartRangeMax")>_)&&(_=s.get("chartRangeMax")),this.zeroAxis=w=s.get("zeroAxis",!0),S=x<=0&&_>=0&&w?0:0==w||x>0?x:_,this.xaxisOffset=S,y=z?o.max.apply(o,g)+o.max.apply(o,H):_-x,this.canvasHeightEf=w&&x<0?this.canvasHeight-2:this.canvasHeight-1,x<S?(N=((z&&_>=0?L:_)-S)/y*this.canvasHeight)!==o.ceil(N)&&(this.canvasHeightEf-=2,N=o.ceil(N)):N=this.canvasHeight,this.yoffset=N,e.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new f(this.colorMapByValue))),this.range=y},getRegion:function(e,t,i){var s=o.floor(t/this.totalBarWidth);return s<0||s>=this.values.length?void 0:s},getCurrentRegionFields:function(){var e,t,i=this.currentRegion,s=g(this.values[i]),n=[];for(t=s.length;t--;)e=s[t],n.push({isNull:null===e,value:e,color:this.calcColor(t,e,i),offset:i});return n},calcColor:function(t,i,s){var n,a,r=this.colorMapByIndex,o=this.colorMapByValue,l=this.options;return n=this.stacked?l.get("stackedBarColor"):i<0?l.get("negBarColor"):l.get("barColor"),0===i&&void 0!==l.get("zeroColor")&&(n=l.get("zeroColor")),o&&(a=o.get(i))?n=a:r&&r.length>s&&(n=r[s]),e.isArray(n)?n[t%n.length]:n},renderRegion:function(t,i){var s,n,a,r,l,c,h,d,u,g,m=this.values[t],f=this.options,v=this.xaxisOffset,b=[],y=this.range,w=this.stacked,k=this.target,S=t*this.totalBarWidth,x=this.canvasHeightEf,_=this.yoffset;if(h=(m=e.isArray(m)?m:[m]).length,d=m[0],r=p(null,m),g=p(v,m,!0),r)return f.get("nullColor")?(a=i?f.get("nullColor"):this.calcHighlightColor(f.get("nullColor"),f),s=_>0?_-1:_,k.drawRect(S,s,this.barWidth-1,0,a,a)):void 0;for(l=_,c=0;c<h;c++){if(d=m[c],w&&d===v){if(!g||u)continue;u=!0}n=y>0?o.floor(x*(o.abs(d-v)/y))+1:1,d<v||d===v&&0===_?(s=l,l+=n):(s=_-n,_-=n),a=this.calcColor(c,d,t),i&&(a=this.calcHighlightColor(a,f)),b.push(k.drawRect(S,s,this.barWidth-1,n-1,a,a))}return 1===b.length?b[0]:b}}),e.fn.sparkline.tristate=S=i(e.fn.sparkline._base,y,{type:"tristate",init:function(t,i,s,n,a){var r=parseInt(s.get("barWidth"),10),o=parseInt(s.get("barSpacing"),10);S._super.init.call(this,t,i,s,n,a),this.regionShapes={},this.barWidth=r,this.barSpacing=o,this.totalBarWidth=r+o,this.values=e.map(i,Number),this.width=n=i.length*r+(i.length-1)*o,e.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new f(this.colorMapByValue))),this.initTarget()},getRegion:function(e,t,i){return o.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var i,s=this.values,n=this.options,a=this.colorMapByIndex,r=this.colorMapByValue;return r&&(i=r.get(e))?i:a&&a.length>t?a[t]:s[t]<0?n.get("negBarColor"):s[t]>0?n.get("posBarColor"):n.get("zeroBarColor")},renderRegion:function(e,t){var i,s,n,a,r,l,c=this.values,h=this.options,d=this.target;if(i=d.pixelHeight,n=o.round(i/2),a=e*this.totalBarWidth,c[e]<0?(r=n,s=n-1):c[e]>0?(r=0,s=n-1):(r=n-1,s=2),null!==(l=this.calcColor(c[e],e)))return t&&(l=this.calcHighlightColor(l,h)),d.drawRect(a,r,this.barWidth-1,s-1,l,l)}}),e.fn.sparkline.discrete=x=i(e.fn.sparkline._base,y,{type:"discrete",init:function(t,i,s,n,a){x._super.init.call(this,t,i,s,n,a),this.regionShapes={},this.values=i=e.map(i,Number),this.min=o.min.apply(o,i),this.max=o.max.apply(o,i),this.range=this.max-this.min,this.width=n="auto"===s.get("width")?2*i.length:this.width,this.interval=o.floor(n/i.length),this.itemWidth=n/i.length,void 0!==s.get("chartRangeMin")&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),void 0!==s.get("chartRangeMax")&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===s.get("lineHeight")?o.round(.3*this.canvasHeight):s.get("lineHeight"))},getRegion:function(e,t,i){return o.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var i,s,a,r,l=this.values,c=this.options,h=this.min,d=this.max,p=this.range,u=this.interval,g=this.target,m=this.canvasHeight,f=this.lineHeight,v=m-f;return s=n(l[e],h,d),r=e*u,i=o.round(v-v*((s-h)/p)),a=c.get("thresholdColor")&&s<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor"),t&&(a=this.calcHighlightColor(a,c)),g.drawLine(r,i,r,i+f,a)}}),e.fn.sparkline.bullet=_=i(e.fn.sparkline._base,{type:"bullet",init:function(e,t,i,s,n){var a,r,l;_._super.init.call(this,e,t,i,s,n),this.values=t=c(t),(l=t.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===t[1]?l[2]:l[1],a=o.min.apply(o,t),r=o.max.apply(o,t),a=void 0===i.get("base")?a<0?a:0:i.get("base"),this.min=a,this.max=r,this.range=r-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s="auto"===i.get("width")?"4.0em":s,this.target=this.$el.simpledraw(s,n,i.get("composite")),t.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,i){var s=this.target.getShapeAt(e,t,i);return void 0!==s&&void 0!==this.shapes[s]?this.shapes[s]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,i=this.currentRegion,s=this.valueShapes[i];switch(delete this.shapes[s],i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[i]=t.id,this.shapes[t.id]=i,this.target.replaceWithShape(s,t)},renderRange:function(e,t){var i=this.values[e],s=o.round(this.canvasWidth*((i-this.min)/this.range)),n=this.options.get("rangeColors")[e-2];return t&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,0,s-1,this.canvasHeight-1,n,n)},renderPerformance:function(e){var t=this.values[1],i=o.round(this.canvasWidth*((t-this.min)/this.range)),s=this.options.get("performanceColor");return e&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,o.round(.3*this.canvasHeight),i-1,o.round(.4*this.canvasHeight)-1,s,s)},renderTarget:function(e){var t=this.values[0],i=o.round(this.canvasWidth*((t-this.min)/this.range)-this.options.get("targetWidth")/2),s=o.round(.1*this.canvasHeight),n=this.canvasHeight-2*s,a=this.options.get("targetColor");return e&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(i,s,this.options.get("targetWidth")-1,n-1,a,a)},render:function(){var e,t,i=this.values.length,s=this.target;if(_._super.render.call(this)){for(e=2;e<i;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),s.render()}}}),e.fn.sparkline.pie=C=i(e.fn.sparkline._base,{type:"pie",init:function(t,i,s,n,a){var r,l=0;if(C._super.init.call(this,t,i,s,n,a),this.shapes={},this.valueShapes={},this.values=i=e.map(i,Number),"auto"===s.get("width")&&(this.width=this.height),i.length>0)for(r=i.length;r--;)l+=i[r];this.total=l,this.initTarget(),this.radius=o.floor(o.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,i){var s=this.target.getShapeAt(e,t,i);return void 0!==s&&void 0!==this.shapes[s]?this.shapes[s]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,i=this.renderSlice(t,e),s=this.valueShapes[t];delete this.shapes[s],this.target.replaceWithShape(s,i),this.valueShapes[t]=i.id,this.shapes[i.id]=t},renderSlice:function(e,t){var i,s,n,a,r,l=this.target,c=this.options,h=this.radius,d=c.get("borderWidth"),p=c.get("offset"),u=2*o.PI,g=this.values,m=this.total,f=p?2*o.PI*(p/360):0;for(a=g.length,n=0;n<a;n++){if(i=f,s=f,m>0&&(s=f+u*(g[n]/m)),e===n)return r=c.get("sliceColors")[n%c.get("sliceColors").length],t&&(r=this.calcHighlightColor(r,c)),l.drawPieSlice(h,h,h-d,i,s,void 0,r);f=s}},render:function(){var e,t,i=this.target,s=this.values,n=this.options,a=this.radius,r=n.get("borderWidth"),l=n.get("donutWidth");if(C._super.render.call(this)){for(r&&i.drawCircle(a,a,o.floor(a-r/2),n.get("borderColor"),void 0,r).append(),t=s.length;t--;)s[t]&&(e=this.renderSlice(t).append(),this.valueShapes[t]=e.id,this.shapes[e.id]=t);l&&i.drawCircle(a,a,a-l,n.get("donutColor"),n.get("donutColor"),0).append(),i.render()}}}),e.fn.sparkline.box=F=i(e.fn.sparkline._base,{type:"box",init:function(t,i,s,n,a){F._super.init.call(this,t,i,s,n,a),this.values=e.map(i,Number),this.width="auto"===s.get("width")?"4.0em":n,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,t,i,s,n,r,l,c,h,d,p,u=this.target,g=this.values,m=g.length,f=this.options,v=this.canvasWidth,b=this.canvasHeight,y=void 0===f.get("chartRangeMin")?o.min.apply(o,g):f.get("chartRangeMin"),w=void 0===f.get("chartRangeMax")?o.max.apply(o,g):f.get("chartRangeMax"),k=0;if(F._super.render.call(this)){if(f.get("raw"))f.get("showOutliers")&&g.length>5?(t=g[0],e=g[1],s=g[2],n=g[3],r=g[4],l=g[5],c=g[6]):(e=g[0],s=g[1],n=g[2],r=g[3],l=g[4]);else if(g.sort((function(e,t){return e-t})),s=a(g,1),n=a(g,2),i=(r=a(g,3))-s,f.get("showOutliers")){for(e=l=void 0,h=0;h<m;h++)void 0===e&&g[h]>s-i*f.get("outlierIQR")&&(e=g[h]),g[h]<r+i*f.get("outlierIQR")&&(l=g[h]);t=g[0],c=g[m-1]}else e=g[0],l=g[m-1];this.quartiles=[s,n,r],this.lwhisker=e,this.rwhisker=l,this.loutlier=t,this.routlier=c,p=v/(w-y+1),f.get("showOutliers")&&(k=o.ceil(f.get("spotRadius")),p=(v-=2*o.ceil(f.get("spotRadius")))/(w-y+1),t<e&&u.drawCircle((t-y)*p+k,b/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append(),c>l&&u.drawCircle((c-y)*p+k,b/2,f.get("spotRadius"),f.get("outlierLineColor"),f.get("outlierFillColor")).append()),u.drawRect(o.round((s-y)*p+k),o.round(.1*b),o.round((r-s)*p),o.round(.8*b),f.get("boxLineColor"),f.get("boxFillColor")).append(),u.drawLine(o.round((e-y)*p+k),o.round(b/2),o.round((s-y)*p+k),o.round(b/2),f.get("lineColor")).append(),u.drawLine(o.round((e-y)*p+k),o.round(b/4),o.round((e-y)*p+k),o.round(b-b/4),f.get("whiskerColor")).append(),u.drawLine(o.round((l-y)*p+k),o.round(b/2),o.round((r-y)*p+k),o.round(b/2),f.get("lineColor")).append(),u.drawLine(o.round((l-y)*p+k),o.round(b/4),o.round((l-y)*p+k),o.round(b-b/4),f.get("whiskerColor")).append(),u.drawLine(o.round((n-y)*p+k),o.round(.1*b),o.round((n-y)*p+k),o.round(.9*b),f.get("medianColor")).append(),f.get("target")&&(d=o.ceil(f.get("spotRadius")),u.drawLine(o.round((f.get("target")-y)*p+k),o.round(b/2-d),o.round((f.get("target")-y)*p+k),o.round(b/2+d),f.get("targetColor")).append(),u.drawLine(o.round((f.get("target")-y)*p+k-d),o.round(b/2),o.round((f.get("target")-y)*p+k+d),o.round(b/2),f.get("targetColor")).append()),u.render()}}}),z=i({init:function(e,t,i,s){this.target=e,this.id=t,this.type=i,this.args=s},append:function(){return this.target.appendShape(this),this}}),P=i({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,i,s){t&&(this.width=t,this.height=i,this.target=s,this.lastShapeId=null,s[0]&&(s=s[0]),e.data(s,"_jqs_vcanvas",this))},drawLine:function(e,t,i,s,n,a){return this.drawShape([[e,t],[i,s]],n,a)},drawShape:function(e,t,i,s){return this._genShape("Shape",[e,t,i,s])},drawCircle:function(e,t,i,s,n,a){return this._genShape("Circle",[e,t,i,s,n,a])},drawPieSlice:function(e,t,i,s,n,a,r){return this._genShape("PieSlice",[e,t,i,s,n,a,r])},drawRect:function(e,t,i,s,n,a){return this._genShape("Rect",[e,t,i,s,n,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,i){e(i).html(t)},_calculatePixelDims:function(t,i,s){var n;n=this._pxregex.exec(i),this.pixelHeight=n?n[1]:e(s).height(),n=this._pxregex.exec(t),this.pixelWidth=n?n[1]:e(s).width()},_genShape:function(e,t){var i=N++;return t.unshift(i),new z(this,i,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),T=i(P,{init:function(t,i,s,n){T._super.init.call(this,t,i,s),this.canvas=r.createElement("canvas"),s[0]&&(s=s[0]),e.data(s,"_jqs_vcanvas",this),e(this.canvas).css({display:"inline-block",width:t,height:i,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(t,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=n,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,e(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,i){var s=this.canvas.getContext("2d");return void 0!==e&&(s.strokeStyle=e),s.lineWidth=void 0===i?1:i,void 0!==t&&(s.fillStyle=t),s},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(e,t,i,s,n){var a,r,o=this._getContext(i,s,n);for(o.beginPath(),o.moveTo(t[0][0]+.5,t[0][1]+.5),a=1,r=t.length;a<r;a++)o.lineTo(t[a][0]+.5,t[a][1]+.5);void 0!==i&&o.stroke(),void 0!==s&&o.fill(),void 0!==this.targetX&&void 0!==this.targetY&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,i,s,n,a,r){var l=this._getContext(n,a,r);l.beginPath(),l.arc(t,i,s,0,2*o.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),void 0!==n&&l.stroke(),void 0!==a&&l.fill()},_drawPieSlice:function(e,t,i,s,n,a,r,o){var l=this._getContext(r,o);l.beginPath(),l.moveTo(t,i),l.arc(t,i,s,n,a,!1),l.lineTo(t,i),l.closePath(),void 0!==r&&l.stroke(),o&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,i,s,n,a,r){return this._drawShape(e,[[t,i],[t+s,i],[t+s,i+n],[t,i+n],[t,i]],a,r)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i,s=this.shapeseq;for(this.shapes[t.id]=t,i=s.length;i--;)s[i]==e&&(s[i]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var i,s,n,a=this.shapeseq,r={};for(s=e.length;s--;)r[e[s]]=!0;for(s=a.length;s--;)r[i=a[s]]&&(a.splice(s,1),delete this.shapes[i],n=s);for(s=t.length;s--;)a.splice(n,0,t[s].id),this.shapes[t[s].id]=t[s]},insertAfterShape:function(e,t){var i,s=this.shapeseq;for(i=s.length;i--;)if(s[i]===e)return s.splice(i+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,i=this.shapeseq;for(t=i.length;t--;)if(i[t]===e){i.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var e,t,i=this.shapeseq,s=this.shapes,n=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<n;t++)this["_draw"+(e=s[i[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),A=i(P,{init:function(t,i,s){var n;A._super.init.call(this,t,i,s),s[0]&&(s=s[0]),e.data(s,"_jqs_vcanvas",this),this.canvas=r.createElement("span"),e(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(t,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,n='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",n),this.group=e(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,i,s,n){var a,r,o,l,c,h,d=[];for(h=0,c=t.length;h<c;h++)d[h]=t[h][0]+","+t[h][1];return a=d.splice(0,1),n=void 0===n?1:n,r=void 0===i?' stroked="false" ':' strokeWeight="'+n+'px" strokeColor="'+i+'" ',o=void 0===s?' filled="false"':' fillColor="'+s+'" filled="true" ',l=d[0]===d[d.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+r+o+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+d.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(e,t,i,s,n,a,r){return'<v:oval  id="jqsshape'+e+'" '+(void 0===n?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ')+(void 0===a?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;top:'+(i-=s)+"px; left:"+(t-=s)+"px; width:"+2*s+"px; height:"+2*s+'px"></v:oval>'},_drawPieSlice:function(e,t,i,s,n,a,r,l){var c,h,d,p,u,g,m;if(n===a)return"";if(a-n==2*o.PI&&(n=0,a=2*o.PI),h=t+o.round(o.cos(n)*s),d=i+o.round(o.sin(n)*s),p=t+o.round(o.cos(a)*s),u=i+o.round(o.sin(a)*s),h===p&&d===u){if(a-n<o.PI)return"";h=p=t+s,d=u=i}return h===p&&d===u&&a-n<o.PI?"":(c=[t-s,i-s,t+s,i+s,h,d,p,u],g=void 0===r?' stroked="false" ':' strokeWeight="1px" strokeColor="'+r+'" ',m=void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+g+m+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+i+" wa "+c.join(", ")+' x e"> </v:shape>')},_drawRect:function(e,t,i,s,n,a,r){return this._drawShape(e,[[t,i],[t,i+n],[t+s,i+n],[t+s,i],[t,i]],a,r)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(t,i){var s=e("#jqsshape"+t),n=this["_draw"+i.type].apply(this,i.args);s[0].outerHTML=n},replaceWithShapes:function(t,i){var s,n=e("#jqsshape"+t[0]),a="",r=i.length;for(s=0;s<r;s++)a+=this["_draw"+i[s].type].apply(this,i[s].args);for(n[0].outerHTML=a,s=1;s<t.length;s++)e("#jqsshape"+t[s]).remove()},insertAfterShape:function(t,i){var s=e("#jqsshape"+t),n=this["_draw"+i.type].apply(this,i.args);s[0].insertAdjacentHTML("afterEnd",n)},removeShapeId:function(t){var i=e("#jqsshape"+t);this.group.removeChild(i[0])},getShapeAt:function(e,t,i){return e.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})?s.apply(t,n):s)||(e.exports=a)}(document,Math)},165:function(e,t,i){var s,n,a;
/*! jQuery UI - v1.12.1 - 2019-07-20
* http://jqueryui.com
* Includes: widget.js, data.js, disable-selection.js, scroll-parent.js, widgets/draggable.js, widgets/resizable.js, widgets/mouse.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */n=[i(3)],void 0===(a="function"==typeof(s=function(e){e.ui=e.ui||{},e.ui.version="1.12.1";var t,i=0,s=Array.prototype.slice;
/*!
   * jQuery UI Widget 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */e.cleanData=(t=e.cleanData,function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{(s=e._data(n,"events"))&&s.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,s){var n,a,r,o={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return s||(s=i,i=e.Widget),e.isArray(s)&&(s=e.extend.apply(null,[{}].concat(s))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},n=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),(r=new i).options=e.widget.extend({},r.options),e.each(s,(function(t,s){e.isFunction(s)?o[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}():o[t]=s})),a.prototype=e.widget.extend(r,{widgetEventPrefix:n&&r.widgetEventPrefix||t},o,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),n?(e.each(n._childConstructors,(function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,a,i._proto)})),delete n._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,n,a=s.call(arguments,1),r=0,o=a.length;r<o;r++)for(i in a[r])n=a[r][i],a[r].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(a){var r="string"==typeof a,o=s.call(arguments,1),l=this;return r?this.length||"instance"!==a?this.each((function(){var i,s=e.data(this,n);return"instance"===a?(l=s,!1):s?e.isFunction(s[a])&&"_"!==a.charAt(0)?(i=s[a].apply(s,o))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")})):l=void 0:(o.length&&(a=e.widget.extend.apply(null,[a].concat(o))),this.each((function(){var t=e.data(this,n);t?(t.option(a||{}),t._init&&t._init()):e.data(this,n,new i(a,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,i){t._removeClass(i,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},s=t.split("."),t=s.shift(),s.length){for(n=r[t]=e.widget.extend({},this.options[t]),a=0;a<s.length-1;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,s,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(s=e(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],s=this;function n(n,a){var r,o;for(o=0;o<n.length;o++)r=s.classesElementLookup[n[o]]||e(),r=t.add?e(e.unique(r.get().concat(t.element.get()))):e(r.not(t.element).get()),s.classesElementLookup[n[o]]=r,i.push(n[o]),a&&t.classes[n[o]]&&i.push(t.classes[n[o]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,(function(s,n){-1!==e.inArray(t.target,n)&&(i.classesElementLookup[s]=e(n.not(t.target).get()))}))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof e||null===e,a={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:s};return a.element.toggleClass(this._classes(a),s),this},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,(function(s,r){function o(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?a[r]:r).apply(a,arguments)}"string"!=typeof r&&(o.guid=r.guid=r.guid||o.guid||e.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,h=l[2];h?n.on(c,h,o):i.on(c,o)}))},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout((function(){return("string"==typeof e?i[e]:e).apply(i,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&!1===r.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){var r;"string"==typeof n&&(n={effect:n});var o=n?!0===n||"number"==typeof n?i:n.effect||i:t;"number"==typeof(n=n||{})&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue((function(i){e(this)[t](),a&&a.call(s[0]),i()}))}})),e.widget,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,s){return!!e.data(t,s[3])}}),e.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}}),e.fn.scrollParent=function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter((function(){var t=e(this);return(!s||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var n,a=!1;
/*!
   * jQuery UI :data 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */e(document).on("mouseup",(function(){a=!1})),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(s&&!n&&this._mouseCapture(t)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),a=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<a.length;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}},e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")},
/*!
   * jQuery UI Draggable 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",t,s))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",t)&&i._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(s=(i=e(n.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,r=this.options,o=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return o&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,a=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-r.grid[0]:a+r.grid[0]:a),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:o?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:o?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each((function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))}))},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,(function(){this.isOver?(this.isOver=0,s.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,n))}))},drag:function(t,i,s){e.each(s.sortables,(function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,(function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n}))),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,(function(){this.refreshPositions()})),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,r=s.scrollParentNotHidden[0],o=s.document[0];r!==o&&"HTML"!==r.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+r.offsetHeight-t.pageY<n.scrollSensitivity?r.scrollTop=a=r.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=a=r.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+r.offsetWidth-t.pageX<n.scrollSensitivity?r.scrollLeft=a=r.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=a=r.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(o).scrollTop()<n.scrollSensitivity?a=e(o).scrollTop(e(o).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<n.scrollSensitivity&&(a=e(o).scrollTop(e(o).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(o).scrollLeft()<n.scrollSensitivity?a=e(o).scrollLeft(e(o).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<n.scrollSensitivity&&(a=e(o).scrollLeft(e(o).scrollLeft()+n.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,i,s){var n,a,r,o,l,c,h,d,p,u,g=s.options,m=g.snapTolerance,f=i.offset.left,v=f+s.helperProportions.width,b=i.offset.top,y=b+s.helperProportions.height;for(p=s.snapElements.length-1;p>=0;p--)c=(l=s.snapElements[p].left-s.margins.left)+s.snapElements[p].width,d=(h=s.snapElements[p].top-s.margins.top)+s.snapElements[p].height,v<l-m||f>c+m||y<h-m||b>d+m||!e.contains(s.snapElements[p].item.ownerDocument,s.snapElements[p].item)?(s.snapElements[p].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[p].item})),s.snapElements[p].snapping=!1):("inner"!==g.snapMode&&(n=Math.abs(h-y)<=m,a=Math.abs(d-b)<=m,r=Math.abs(l-v)<=m,o=Math.abs(c-f)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:h-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:c}).left)),u=n||a||r||o,"outer"!==g.snapMode&&(n=Math.abs(h-b)<=m,a=Math.abs(d-y)<=m,r=Math.abs(l-f)<=m,o=Math.abs(c-v)<=m,n&&(i.position.top=s._convertPositionTo("relative",{top:h,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:c-s.helperProportions.width}).left)),!s.snapElements[p].snapping&&(n||a||r||o||u)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[p].item})),s.snapElements[p].snapping=n||a||r||o||u)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,r=e.makeArray(e(a.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));r.length&&(n=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each((function(t){e(this).css("zIndex",n+t)})),this.css("zIndex",n+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,
/*!
   * jQuery UI Resizable 1.12.1
   * http://jqueryui.com
   *
   * Copyright jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s,n=i&&"left"===i?"scrollLeft":"scrollTop";return t[n]>0||(t[n]=1,s=t[n]>0,t[n]=0,s)},_create:function(){var t,i=this.options,s=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",(function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())})).on("mouseleave",(function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,s,n,a,r=this.options,o=this;if(this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;i<s.length;i++)n="ui-resizable-"+(t=e.trim(s[i])),a=e("<div>"),this._addClass(a,"ui-resizable-handle "+n),a.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var i,s,n,a;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){o.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=a&&a[1]?a[1]:"se")})),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)((s=e(this.handles[i])[0])===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,r=t.pageX-n.left||0,o=t.pageY-n.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,r,o]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,r,o,l,c=this.options;return this._helper&&(n=(s=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,a=s?0:this.sizeDiff.width,r={width:this.helper.width()-a,height:this.helper.height()-n},o=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:o})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,r=this.options;a={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),i<a.maxWidth&&(a.maxWidth=i),n<a.maxHeight&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,o=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),r&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&c&&(e.left=o-t.minWidth),s&&c&&(e.left=o-t.maxWidth),r&&h&&(e.top=l-t.minHeight),n&&h&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(s[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),r=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,o=a?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-r},c=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,h&&c?{top:h,left:c}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,r,o,l=e(this).resizable("instance"),c=l.options,h=l.element,d=c.containment,p=d instanceof e?d.get(0):/parent/.test(d)?h.parent().get(0):d;p&&(l.containerElement=e(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),i=[],e(["Top","Right","Left","Bottom"]).each((function(e,s){i[e]=l._num(t.css("padding"+s))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=l.containerOffset,n=l.containerSize.height,a=l.containerSize.width,r=l._hasScroll(p,"left")?p.scrollWidth:a,o=l._hasScroll(p)?p.scrollHeight:n,l.parentData={element:p,left:s.left,top:s.top,width:r,height:o}))},resize:function(t){var i,s,n,a,r=e(this).resizable("instance"),o=r.options,l=r.containerOffset,c=r.position,h=r._aspectRatio||t.shiftKey,d={top:0,left:0},p=r.containerElement,u=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),h&&(r.size.height=r.size.width/r.aspectRatio,u=!1),r.position.left=o.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),h&&(r.size.width=r.size.height*r.aspectRatio,u=!1),r.position.top=r._helper?l.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),a=/relative|absolute/.test(r.containerElement.css("position")),n&&a?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),s=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,h&&(r.size.height=r.size.width/r.aspectRatio,u=!1)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,h&&(r.size.width=r.size.height*r.aspectRatio,u=!1)),u||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,r=e(t.helper),o=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:o.left-n.left-s.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})}))},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,r=s.originalPosition,o={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-r.top||0,left:s.position.left-r.left||0};e(n.alsoResize).each((function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,(function(e,t){var i=(s[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)})),t.css(n)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,r=i.originalPosition,o=i.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,c=l[0]||1,h=l[1]||1,d=Math.round((n.width-a.width)/c)*c,p=Math.round((n.height-a.height)/h)*h,u=a.width+d,g=a.height+p,m=s.maxWidth&&s.maxWidth<u,f=s.maxHeight&&s.maxHeight<g,v=s.minWidth&&s.minWidth>u,b=s.minHeight&&s.minHeight>g;s.grid=l,v&&(u+=c),b&&(g+=h),m&&(u-=c),f&&(g-=h),/^(se|s|e)$/.test(o)?(i.size.width=u,i.size.height=g):/^(ne)$/.test(o)?(i.size.width=u,i.size.height=g,i.position.top=r.top-p):/^(sw)$/.test(o)?(i.size.width=u,i.size.height=g,i.position.left=r.left-d):((g-h<=0||u-c<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),g-h>0?(i.size.height=g,i.position.top=r.top-p):(g=h-t.height,i.size.height=g,i.position.top=r.top+a.height-g),u-c>0?(i.size.width=u,i.position.left=r.left-d):(u=c-t.width,i.size.width=u,i.position.left=r.left+a.width-u))}}),e.ui.resizable})?s.apply(t,n):s)||(e.exports=a)},168:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i(15);function n(){this.__proto__=new s.a({scopeName:"product",pk:"asin",fields:["alsoBoughtASINs","asin","bbSeller","brand","brandTotal","bsr","bullets","bulletsNumber","bulletsText","category","descriptionHtml","descriptionText","dimensions","dimensionsLongest","dimensionsMedian","dimensionsShortest","estMonthlyRevenue","estMonthlySales","imageUrl","listingCreationDate","modelNumber","positionInSearchResults","price","reviewsNumber","reviewsRating","sellersNumber","serviceData","sponsoredProductsASINs","title","url","weight"]})}},169:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return c}));var n=i(2),a=i(7),r=i(0),o=i(1),l=i.n(o),c=function(t){this.__proto__=a.a;const i=this;function o(){let e=document.createElement("a");return e.href=i.config.url,e.origin.split(".").reverse()[0]}"object"==typeof t&&(this.config=e.extend({},this.config,t));const c=o(),h={com:"new",ca:"new",uk:"new",it:"nuovo",de:"neu",fr:"neufs",es:"nuevos",in:"new",mx:"nuevo"};function d(){document.createElement("a").href=i.config.url;let t=i.config.product||{alsoBoughtASINs:[],asin:"",availability:-1,bbSeller:"N/A",brand:"N/A",bsr:-1,bsrList:[],bullets:[],bulletsHtml:"",bulletsNumber:0,bulletsText:"N/A",canonicalAsin:"",canonicalUrl:"",category:"N/A",descriptionHtml:"N/A",descriptionText:"N/A",detailsHtml:"",dimensions:"N/A",dimensionsLongest:0,dimensionsMedian:0,dimensionsShortest:0,estMonthlyRevenue:-1,estMonthlySales:-1,imageUrl:"",listingCreationDate:null,modelNumber:"",price:-1,reviewsNumber:-1,reviewsRating:-1,sellersNumber:1,serviceData:{},sponsoredProductsASINs:[],title:"N/A",url:"",weight:0};t.url=""+i.config.url;let a=i.config.url.match(r.b);a||(a=i.config.url.match(/\/(d)\/[\s\S]+([0-9A-Za-z]{10,})/)),t.asin=a[2];const d=/rel="canonical" href="([^"]+)"/g.exec(i.config.html);if(d&&d[1]){t.canonicalUrl=d[1];let e=t.canonicalUrl.match(r.b);e||(e=t.canonicalUrl.match(/\/(d)\/[\s\S]+([0-9A-Za-z]{10,})/)),t.canonicalAsin=e&&e.length>1?e[2]:""}const f=i.data.clone().find("ul,style,li").remove().end();t.title=(f.find("#productTitle").text()||f.find("#btAsinTitle").text()||f.find("#aiv-content-title").text()||f.find("#title_feature_div").text()||f.find("#ebooksProductTitle").text()||f.find(".AAG_ProductTitle a").attr("title")||f.find("#mas-title").text()||"N/A").trim();const v=/(by|from)\s(\u00BF-\u1FFF\u2C00-\uD7FF\w|\s)[^\n|\r\t]+/i;let b=i.data.find("#brand").text()||i.data.find("span.author a:first").text()||i.data.find("#product-title_feature_div").text().match(v)||i.data.find(".parseasinTitle").siblings("span").last().text().match(v)||i.data.find("#olpProductByline").text().match(v)||i.data.find("#bylineInfo").text()||i.data.find("#brandByline_feature_div").text().match(v)||i.data.find("#brandBylineWrapper").text().match(v)||" ";if(b="object"==typeof b?b[0].replace(/^by/,""):b.replace(/^by/,""),!b.trim()){const e=i.data.find("a#brand")[0];b=e?e.pathname.split("/")[1]:"N/A"}t.brand=function(e){let t=e;return[/^Brand\s?:\s?/,/^Marque\s?:\s?/,/^Marca\s?:\s?/,/^Marke\s?:\s?/,/^Visita la Store de/,/^Visit the/,/ Store$/,/-Store$/,/^Visita lo di/,/^Visiter la boutique/,/^Besuchen Sie den/,/^\s/].forEach(e=>{t=t.replace(e,"")}),t}(b.trim());let y=i.data.find("#merchant-info").text().trim()||i.data.find("#availability_feature_div").text().trim();if(y){const e={com:{amz:"ships\\sfrom\\sand\\ssold\\sby\\samazon",fba:"fulfilled\\sby\\samazon",merchant:"Ships\\sfrom\\sand\\ssold\\sby"},uk:{amz:"dispatched\\sfrom\\sand\\ssold\\sby\\samazon",fba:"Fulfilled\\sby\\sAmazon",merchant:"Dispatched\\sfrom\\sand\\ssold\\sby"},de:{amz:"Verkauf\\sund\\sVersand\\sdurch\\sAmazon",fba:"Versand\\sdurch\\sAmazon",merchant:"Verkauf\\sund\\sVersand\\sdurch"},fr:{amz:"Expédié\\set\\svendu\\spar\\sAmazon",fba:"expédié\\spar\\sAmazon",merchant:"Expédié\\set\\svendu\\spar"},it:{amz:"Venduto\\se\\sspedito\\sda\\sAmazon",fba:"spedito\\sda\\sAmazon",merchant:"Venduto\\se\\sspedito\\sda"},es:{amz:"Vendido\\sy\\senviado\\spor\\sAmazon",fba:"gestionado\\spor\\sAmazon",merchant:"Vendido\\sy\\senviado\\spor"},ca:{amz:"ships\\sfrom\\sand\\ssold\\sby\\samazon",fba:"fulfilled\\sby\\samazon",merchant:"Ships\\sfrom\\sand\\ssold\\sby"},in:{amz:"ships\\sfrom\\sand\\ssold\\sby\\samazon",fba:"Fulfilled\\sby\\sAmazon",merchant:"(Sold\\sby)|(Sold\\sand\\sfulfilled\\sby)"},mx:{amz:"Vendido\\sy\\senviado\\spor\\sAmazon",fba:"enviado\\spor\\sAmazon",merchant:"Vendido\\sy\\senviado\\spor"}},s=o();if(s in e){const i=new RegExp(e[s].amz,"gi").test(y),n=new RegExp(e[s].fba,"gi").test(y),a=new RegExp(e[s].merchant,"gi").test(y);t.bbSeller=i?"AMZ":n?"FBA":a?"MERCH":"N/A"}else t.bbSeller="N/A";if("N/A"===t.bbSeller){const e=i.data.find("#feature-bullets");e&&-1!==(e.text()||"").indexOf("4.5 oz 100% Combed Ringspun Cotton")&&(t.bbSeller="MERCH")}const n=p(i.data.find("#merchant-info"));t.sellerName=n.name,t.sellerId=n.id}else{let e,s;y=i.data.find("#tabular_feature_div table tr td .a-truncate-full"),y.length>=2&&(e=y[0].innerText,s=y[1].innerText),e&&s?e.includes("Amazon")&&s.includes("Amazon")?t.bbSeller="AMZ":e===s?t.bbSeller="MERCH":e.includes("Amazon")?t.bbSeller="FBA":t.bbSeller="N/A":t.bbSeller="N/A";const n=p(y);t.sellerName=n.name,t.sellerId=n.id}let w=i.data.find("#actualPriceValue").text()||i.data.find("#priceblock_ourprice").text()||i.data.find("#priceblock_saleprice").text()||i.data.find("#priceBlock .priceLarge").text()||i.data.find("#buyNewSection .a-color-price.offer-price").text()||i.data.find("div.sims-fbt-checkbox-label span.a-color-price span").eq(0).text()||i.data.find("#olp-new span.a-color-price").text()||i.data.find("#priceblock_dealprice").text()||i.data.find("#olp-upd-new-used .a-color-price").text()||i.data.find("#usedOnlyBuybox .offer-price").text()||i.data.find(".a-color-price .a-text-bold").first().text();const k=/(\$|€|£|CDN\$\s|EUR\s)?[0-9,.]+/i;w=w.match(k)?w.match(k)[0]:"",w=w.replace(/(\$|€|£|CDN\$\s|EUR\s)/i,""),w=w.replace(/(\d+)[,.](?=\d{3}(\D|$))/g,"$1"),w=w.replace(",","."),t.price=w?parseFloat(w):0;let S=i.data.find("#landingImage, #imgBlkFront, #ebooksImgBlkFront").attr("data-a-dynamic-image");S?(S=JSON.parse(S),S=Object.keys(S)[0]?Object.keys(S)[0].trim():null):(S=i.data.find("#main-image").attr("src"),S||(S=i.data.find("#js-masrw-main-image").attr("afr-data-src"))),t.imageUrl=S||"",t.modelNumber=function(e){const t=o(),i={com:"Item model number",uk:"Item model number",de:"Modellnummer",fr:"Numéro du modèle",it:"Numero modello articolo",es:"Número de modelo del producto"};let s,n=e.find(`th:contains("${i[t]}")`).next();n.length?s=n.text().trim():s||(s=e.find(`li:contains("${i[t]}")`).last().clone().find(".a-text-bold, b").remove().end().text().trim());s||(n=e.find(".item-model-number .value"),n.length&&(s=n.text().trim()));"de"===t&&(s=s.replace(/modellnummer\s?:/i,"").trim());return s||""}(i.data),t.listingCreationDate=function(){let t,s=[];const n=o();switch(n){case"com":s=["Date first listed on Amazon","Date First Available","Release date"],t="en-US";break;case"ca":s=["Date first available at Amazon.ca","Date First Available"],t="en-CA";break;case"fr":s=["Date de mise en ligne sur Amazon.fr"],t="fr-FR";break;case"de":s=["Im Angebot von Amazon.de seit","Date First Available"],t="de-DE";break;case"in":s=["Date first available at Amazon.in","Date First Available"],t="en-IN";break;case"it":s=["Disponibile su Amazon.it a partire dal"],t="it-IT";break;case"mx":s=["Producto en Amazon.com.mx desde"],t="es-MX";break;case"es":s=["Producto en Amazon.es desde"],t="es-ES";break;case"uk":s=["Date first available at Amazon.co.uk","Date First Available"],t="en-GB"}let a=function t(s){let n=e(i.data).find(`#detailBullets_feature_div span.a-list-item .a-text-bold:contains("${s[m]}")`).next().text().trim()||e(i.data).find(`#productDetails_detailBullets_sections1 tr:contains("${s[m]}") td`).text().trim()||e(i.data).find(`#productDetails_techSpec_section_1 tr:contains("${s[m]}") td`).text().trim()||e(i.data).find(`#productDetails_techSpec_section_2 tr:contains("${s[m]}") td`).text().trim()||e(i.data).find(`#prodDetails tr:contains("${s[m]}") td`).text().trim()||e(i.data).find("#prodDetails tr.date-first-available .value").text().trim()||(e(i.data).find(`#detail_bullets_id li:contains("${s[m]}")`)[0]?e(i.data).find(`#detail_bullets_id li:contains("${s[m]}")`)[0].childNodes[1].textContent.trim():"");""===n&&s[++m]&&(n=t(s));return n}(s),r=0;a&&("mx"!==n&&"es"!==n||(a=a.replace(/(\d+[.,\s]*)/,"$1 de ")),r=l()(a,"LL",t).format("L"),r="Invalid date"===r?0:r);return r}();const x=o();let _,C=i.data.find("#SalesRank").length>0?i.data.find("#SalesRank"):i.data.find("#prodDetails .attrG .pdTab").last();if(C.length>0){let s,n=!1;if(C.is("tr")?s=i.data.find("#SalesRank .value").clone().find("ul,style,li").remove().end().text().trim():(s=C.clone().find("b,ul,style,li,table").remove().end().text().trim(),s||(s=C.clone().find("b,style,table").remove().end().text().trim(),n=!0)),_=s.match(/((#)|(Nr\.\s)|(n\.\s)|(nº\s?))?[0-9,.]+/i),_){_=_[0].replace(/(#)|(Nr\.)|(n\.)|(nº)|(,)|(\.)/gi,"").trim();let i=C.clone().find("ul,style,li,b,table").remove().end().find("a").last().attr("target","_blank").wrap("<p>").parent().html();n||t.bsrList.push(u(s,i)),C.clone().find("style").remove().end().find("li").each((function(){const i=e(this).clone().find("a").remove().end().text().replace(/ > /g,"").replace(/\s{2,}/g," ").trim(),s=e(this).clone().find("a").last().attr("target","_blank").wrap("<p>").parent().html();t.bsrList.push(u(i,s))}))}}else{let s,n=Object(r.i)(i.data,x),a=0;n&&n.length&&n.find("span").each((function(){const t=e(this).text().split(">").length;(0===a||t<a)&&(a=t,s=e(this))})),s&&(_=s.text().match(/\d+[.,\d]*\d*/s),_=_&&_.length?_[0].replace(/[^\d]/g,""):"",n.find("span").first().find("span").each((function(){let i=e(this).clone().find("a").last().attr("target","_blank");i=i.wrap("<p>").parent().html();let s=e(this).clone().find("a").remove().end().text();t.bsrList.push(u(s,i))}))),!_&&n&&n.length&&n.each((function(){_||(_=e(this).text().match(/\d+[.,\d]*\d*/s),_=_&&_.length?_[0].replace(/[^\d]/g,""):"");let i=e(this).clone().find("a").first().attr("target","_blank");i=i.wrap("<p>").parent().html();let s=e(this).clone().find("a").remove().end().text();i&&s&&t.bsrList.push(u(s,i))}))}const F=i.data.find("#nav-subnav a:first span.nav-a-content"),z=i.data.find('div[data-feature-name="wayfinding-breadcrumbs"] > ul > li:nth-child(1) > span > a'),P=/^(nr\.\s?|#|n.?\s?|\d)[\S]+\s+[ie]n\s+([\s\S]+?)\s?\([\s\S]+$/i;if(C.length>0){if(C.is("tr")){const e=C.clone().children("td.value:first").find("style").remove().end(),i=C.children("td.value:first").children("ul:first").children("li:first").children("span:nth-child(2)").children("a:first");e.children("a").length>0?(t.category=(e.text()||"").trim().replace(P,"$2").trim(),t.serviceData.fromSelector="tr#SalesRank > td.value:first"):i.length>0&&(t.category=(i.text()||"").trim(),t.serviceData.fromSelector="tr#SalesRank > td.value:first > ul:first > li:first > span:nth-child(2) > a:first")}else if(C.is("li")||C.hasClass("pdTab")){const e=C.children("a:first"),i=C.children("ul:first").children("li:first").children("span:nth-child(2)");if(C.children("a").length>0){const i=/(see\s+top\s+100|siehe\s+top\s+100|ver\s+el\s+top\s+100|voir\s+les\s+100|visualizza\s+i\s+top\s+100|voir\s+le\s+top\s+100)\s+([\s\S]*?([ei]n|categoria|la|nella\scategoria)\s+)/i;t.category=(e.text()||"").replace(i,"").trim(),t.serviceData.fromSelector="li#SalesRank > a:first"}else i.length>0&&(i.children("b").length>0?t.category=(i.children("b").last().text()||"").trim().replace(P,"$2").trim():t.category=(i.text()||"").trim().replace(P,"$2").trim(),t.serviceData.fromSelector="li#SalesRank > ul:first > li:first > span:nth-child(2)")}}else z.length>0?(t.category=(z.text()||"").trim(),t.serviceData.fromSelector="#wayfinding-breadcrumbs_feature_div > ul:first > li:first > span >a:first"):F.length>0&&(t.category=(F.text()||"").trim(),t.serviceData.fromSelector="#nav-subnav a:first span.nav-a-content");""===t.category&&(t.category="N/A"),t.bsr=_?Number(_):0;let T=i.data.find("#averageCustomerReviews .a-icon-star").attr("class")||i.data.find("span.asinReviewsSummary .swSprite").attr("class")||i.data.find("#reviewStars").attr("class");T&&(T=T.match(/[1-9]/g),T=T[1]?T[0]+"."+T[1]:T[0]),t.reviewsRating=T?parseFloat(T):-1;let A=i.data.find("#acrCustomerWriteReviewLink:first").text()||i.data.find("#acrCustomerReviewText:first").text()||i.data.find("#reviewLink:first").text()||i.data.find("span.asinReviewsSummary:first").next().text();const O=/\d[0-9.,\s]*/;A=A&&A.match(O)?A.match(O)[0]:"0",A=A.replace(/[,.\s]/g,"")||"0",t.reviewsNumber=parseInt(A.trim());let D=i.data.find("#purchase-sims-feature div[data-a-carousel-options]").first();if(0===D.length&&(D=i.data.find("#purchase-similarities_feature_div div[data-a-carousel-options]").first()),D.length>0)try{const e=JSON.parse(D.attr("data-a-carousel-options"));if(e&&e.ajax&&"object"==typeof e.ajax.id_list)for(let i=0;i<e.ajax.id_list.length;i++)t.alsoBoughtASINs.push(e.ajax.id_list[i])}catch(e){n.a.config.debug&&console.error("Can not parse also bought products for ASIN "+t.asin)}let N=i.data.find("#feature-bullets");N.hasClass("a-section")||(N=i.data.find("#feature-bullets-btf")),N.length>0?(N.find("#replacementPartsFitmentBullet").remove(),t.bullets=N.find("li").toArray().map((function(t){return g(e(t).text())})),t.bulletsNumber=t.bullets.length,t.bulletsText=t.bullets.join(" "),t.bulletsHtml=N.html()):(t.bullets=[],t.bulletsText="",t.bulletsNumber=0,n.a.config.debug&&console.log("Can not find bullets for ASIN "+t.asin));const R=h[c];[i.data.find("#olp_feature_div a").text(),i.data.find("#moreBuyingChoices_feature_div a").text(),i.data.find("#olpLinkWidget_feature_div a").text()].forEach(e=>{if(e.length>0&&e.toLowerCase().includes(R))return t.sellersNumber=e.match(/^\d+|\d+\b|\d+(?=\w)/g),void(t.sellersNumber=t.sellersNumber?Number(t.sellersNumber[0]):null)});let E=i.data.find("#productDescription");E.hasClass("a-spacing-small")||(E=i.data.find("#mas-product-description"));const M=i.data.find("#aplus");if(E.length)E.find("script, style").remove(),t.descriptionHtml=E.html().trim(),t.descriptionText=g(E.text());else if(M.length){const e=i.data.find("#aplus .aplus-v2");e.length>0&&(t.descriptionHtml=e.html().trim(),e.find("script, style").remove(),t.descriptionText=g(e.text().trim()))}else{const a='var iframeContent = "';let r=i.config.html.indexOf(a);if(r>0){r+=a.length;const o=i.config.html.indexOf('"',r);if(o>0){const a=i.config.html.substring(r,o),l=decodeURIComponent(a);let c=s.parseHTML("<div>"+l+"</div>");c=e(c);const h=c.find("#productDescription");h.length>0&&(t.descriptionHtml=h.html().trim());let d=c.find("#productDescription .productDescriptionWrapper");d.length>0?(d.find("style, script").remove(),t.descriptionText=g(d.text())):n.a.config.debug&&console.log("Can not find description for ASIN "+t.asin)}else n.a.config.debug&&console.log("Can not find description for ASIN "+t.asin)}else n.a.config.debug&&console.log("Can not find description for ASIN "+t.asin)}t.detailsHtml=i.data.find("#detail-bullets_feature_div").html()||i.data.find("#detailBulletsWrapper_feature_div").html()||i.data.find("#detail-bullets").html()||i.data.find("#product-details-grid_feature_div").html()||i.data.find("#prodDetails").html()||i.data.find("#descriptionAndDetails").html();const j=i.data.find('th:contains("Item Weight")').next().text().trim();j.length>0&&(t.weight=parseInt(j));const I=i.data.find('th:contains("Product Dimensions")').next().text().trim();if(I.length>0){t.dimensions=I;const e=I.split("x").map((function(e){return parseFloat(e)})).sort((function(e,t){return e-t}));t.dimensionsLongest=e[2],t.dimensionsMedian=e[1],t.dimensionsShortest=e[0]}const W=!i.data.find("#outOfStock").length||-1===i.data.find("#availability").text().indexOf("Currently unavailable.");return t.availability=W,t.html=i.data.html(),t}function p(t){let i={name:"N/A",id:"N/A"};return e(t).find("a").each((function(){if(e(this).attr("href").includes("gp/help/seller/at-a-glance.html")){const t=new URLSearchParams(e(this).attr("href")).get("seller");t&&(i.id=t,i.name=e(this).text())}})),"N/A"===i.name&&e("#buybox-tabular").length&&e('span:contains("Amazon.com")').length&&(i.name="Amazon"),i}function u(e,t){return[/see\s+top\s+100\s+in/i,/ver\s+el\s+top\s+100\s+en/i,/visualizza\s+i\s+top\s+100\s+nella\s+categoria/i,/voir\s+les\s+100\s+premiers\s+en/i,/siehe\s+top\s+100\s+in/i,/ver\s+los\s+100\s+más\s+vendidos/i].forEach(e=>{t=t.replace(e,"")}),e="#"+(e=(e=(e=e.replace(/ > /g,"")).replace("()"," ")).trim()).match(/\d+[.,\d]*\d*/s)[0]+" in ",e+=t}function g(e){return(e=e.replace(/[|;$<>,\s]+/g," ")).trim()}let m=0;this.parse=function(){const t=new s.Event(i.externalEvents.start);if(e(this).trigger(t),t.isDefaultPrevented())return;this.data=e(this.config.html);const n=d();this.data=null;const a=new s.Event(i.externalEvents.finish,{parsedData:n});e(this).trigger(a)},this.getProductDAta=d}}).call(this,i(3),i(3))},17:function(e,t,i){"use strict";(function(e){i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return h}));var s=i(2),n=i(0);let a=!1,r=[],o=[],l=[];function c(){return!1===a&&(a=e("#sellers-table").DataTable({paging:!1,searching:!1,autoWidth:!1,bInfo:!1,createdRow:function(t,i){e(t).addClass("seller-row "+i.key).data("seller",i.key).data("offer",i.offer)},columns:[{name:"Seller",data:"Seller",title:"Seller",className:"h10-sellers-table-seller"},{name:"Stock",data:"Stock",title:"Stock",sType:"numeric",className:"h10-sellers-table-stock stock",render:{_:"display",sort:"value"}},{name:"Price",data:"Price",title:"Price",className:"h10-sellers-table-price",sType:"numeric",render:{_:"display",sort:"value"}},{name:"Fulfillment",data:"Fulfillment",title:"Fulfillment",className:"h10-sellers-table-fulfillment"},{name:"Rating",data:"Rating",title:"Rating",className:"h10-sellers-table-rating",orderable:!1}]}),e(".container6").trigger("resize")),a}function h(t,i,a){t&&t.length?(e("#h10-no-seller-message").remove(),t.forEach((function(t){let i=o.length;o.push(t);let s="seller-"+i,a=t.sellerName,l=Object(n.n)(t.totalPrice,"currency",!0),h="Yes"===t.fulfilmentByAmazon?"Amazon":"Seller",d=t.rating,p=t.recentRatingDetails,u=t.offering;if(r.includes(u))return;u.length>0&&r.push(u);let g=t;g.key=s,g.Seller=a,g.Stock={display:'<i class="fa fa-spinner fa-pulse fa-fw"></i>',value:0},g.Price=l,g.Fulfillment=h,g.Rating="",g.Description=p,g.offer=u,c().row.add(g).draw(!1),e("tr."+s+" td").last().raty({score:d,readOnly:!0,hints:null}).append(" "+t.ratingText)})),e("#il-preloader").addClass("hide"),e("#sellers-table").removeClass("hide"),e("#sellers-table-body .seller-row").each((function(){const t=c()&&c().row(this).data();let i=e(this).find(".stock");const a={offer:t.offer,asin:Object(n.h)(),marketplace:Object(n.m)()};!function(e){return e.asin&&10===e.asin.length?e.offer?!(!e.marketplace||e.marketplace.length<13||e.marketplace.length>14)||(s.a.config.debug&&console.log("%c⇒ FormData error","color: #FF5370","Marketplace is not valid"),!1):(s.a.config.debug&&console.log("%c⇒ FormData error","color: #FF5370","Offer is not valid"),!1):(s.a.config.debug&&console.log("%c⇒ FormData error","color: #FF5370","Asin is not valid"),!1)}(a)||l.includes(a.offer)?(t.Stock={display:"n/a",value:0},i.html("n/a")):(l.push(a.offer),chrome.runtime.sendMessage({type:"get-stock",params:a},({hasLimit:e,stock:n})=>{try{s.a.config.debug&&console.log("get stock"),n?(e&&!i.prev().has(".limited-box").length&&i.prev().append('<br><span class="limited-box">Seller has set max quantity</span>'),t.Stock={display:"999"===n||Number(n)>999?"1000+":n,value:Number(n)}):t.Stock={display:"n/a",value:0},c().cell(this,1).data(t.Stock)}catch(e){console.log("%cGet stock error","color: #FF4081",e),i.html("n/a")}}))}))):(e("#sellers-table").addClass("hide"),e("#il-preloader").addClass("hide"),e("#h10-no-seller-message").length||e("#stock-stats").append(`<div id="h10-no-seller-message" class="no-seller-message">${a}</div>`))}}).call(this,i(3))},170:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return s}));i(161);let s=new e({template:'\n      <div>\n      <div class="top-tabs h10-modal-header">\n      <span class="modal-header-logo">\n      <img :src="heliumLogo" alt="Helium 10" class="brand-icon">\n      </span>\n        <a class="close-btn" href="#"></a>\n      </div>\n      <div v-if="isLoading" class="component-loader" style="height: 720px;">\n        <div class="component-loader-item">\n          <div class="component-loader-item-logo-block1"></div>\n          <div class="component-loader-item-logo-block2"></div>\n          <div class="component-loader-item-logo-block3"></div>\n          <div class="component-loader-item-logo-block4"></div>\n          <div class="component-loader-item-logo-block5"></div>\n          <div class="component-loader-item-logo-block6"></div>\n        </div>\n      </div>\n      <div :class="{ \'h10-modal-hidden\': isLoading }">\n        <div class="h10-modal-body">\n          <h4 class="h10-modal-body-title">\n            You’ve used up your 50 free launches\n          </h4>\n          <p v-if="canApplyCoupon" class="h10-modal-body-description">\n            Unlock access to Xray and other great tools for <strong>50% off</strong> your first month\n          </p>\n          <p class="h10-modal-body-description" v-else>\n            Unlock access to Xray and other great tools by upgrading your plan now\n          </p>\n          <div class="h10-modal-body-table">\n            <div class="h10-modal-body-table-header">\n              <div class="h10-header-cell column-tool-name">Full Access to Essential Features</div>\n              <div class="h10-header-cell column-plan-first">Free<br>Trial Plan</div>\n              <div class="h10-header-cell column-plan-second">\n                Platinum<br>\n                <span class="plan-old-price">$97/mo</span><br>\n                <span class="plan-new-price">$48.50/mo</span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row first-tool">\n              <div class="body-cell column-tool-name">Unlimited Access to the Chrome Extension</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Freedom Ticket Amazon Training Course</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Black Box Product Research</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Trendster Amazon Trends Finder</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Magnet2 Keyword Research</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Scribbles Listing Optimizer</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n            <div class="modal-body-table-content-row">\n              <div class="body-cell column-tool-name">Index Checker</div>\n              <div class="body-cell column-plan-first">\n                <span class="icon h10-icon-times-regular"></span>\n              </div>\n              <div class="body-cell column-plan-second">\n                <span class="icon h10-icon-check-light"></span>\n              </div>\n            </div>\n          </div>\n\n        </div>\n        <div class="h10-modal-footer">\n          <a href="#" class="h10-btn-cancel">No, Thanks</a>\n          <a :href="getRedirectUrl" target="_blank" class="h10-btn-upgrade-plan">Claim Offer</a>\n        </div>\n      </div>\n      </div>',data:()=>({isLoading:!0,canApplyCoupon:!1,heliumLogo:chrome.extension.getURL("html/images/logo-light.svg")}),mounted(){chrome.storage.local.get("invocations",e=>{try{this.canApplyCoupon=e.invocations.upsellInfo.canApplyCoupon,setTimeout(()=>{this.isLoading=!1},500)}catch(e){console.log("%cInvocations error","color: #FF4081",e)}})},computed:{getRedirectUrl(){return this.canApplyCoupon?"https://members.helium10.com/subscribe?coupon=XRAYUNLIM50":"https://members.helium10.com/subscribe"}},methods:{},filters:{}})}).call(this,i(14))},171:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return o}));var n=i(6),a=i(7),r=i(172);function o(t){this.__proto__=n.a;this.externalEvents=e.extend({},this.externalEvents,{profileScraped:"profileScraped.AmazonMerchantScraper",profileNotScraped:"profileNotScraped.AmazonMerchantScraper"}),this.progressCounters=e.extend({},this.progressCounters);var i=this;function o(t){i.result=t.parsedData;var n=new s.Event(i.externalEvents.profileScraped,{profileScrapedData:i.result});e(i).trigger(n)}this.config=e.extend({},{},t||{}),this.result={},this.start=function(t){!function(t){var l="https://www.amazon.com/s?marketplaceID=ATVPDKIKX0DER&merchant="+t,c=new r.a({merchantPage:i.result});e(c).on(a.a.externalEvents.finish,o);var h=new n.b({url:l,parsers:{productPageParser:c}});e(h).on(n.a.externalEvents.afterStart,(function(e){i.progressCounters.total+=1,i.notifyProgress()})),e(h).on(n.a.externalEvents.afterProcess,(function(t){e(h).off(),e(c).off(),c=null,h=null,i.progressCounters.done+=1,i.notifyProgress()})),e(h).on(n.a.externalEvents.errorDataLoad,(function(t){e(h).off(),e(c).off(),c=null,h=null,i.progressCounters.done+=1,i.notifyProgress();var n=new s.Event(i.externalEvents.profileNotScraped,{profileNotScraped:{err:"Can not load data"}});e(i).trigger(n)})),h.start()}(t)}}}).call(this,i(3),i(3))},172:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return a}));var n=i(7),a=function(t){this.__proto__=n.a;var i=this;"object"==typeof t&&(this.config=e.extend({},this.config,t)),this.parse=function(){var t=new s.Event(i.externalEvents.start);if(e(this).trigger(t),!t.isDefaultPrevented()){this.data=e(this.config.html);var n=function(){var t=i.data.find("h4:contains('Brand')"),s={brands:{}};if(t.length)t.each((function(){"Brand"==e(this).text()&&e(this).next().find("a").each((function(){s.brands[e(this).text()]=e(this).attr("href")}))}));else{var n=i.data.find("#leftNav ul li a");n.length&&n.each((function(){s.brands[e(this).text()]=e(this).attr("href")}))}return s.total=i.data.find("#s-result-count").text(),s}();this.data=null;var a=new s.Event(i.externalEvents.finish,{parsedData:n});e(this).trigger(a)}}}}).call(this,i(3),i(3))},173:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return r}));var n=i(6),a=i(7);function r(t){this.__proto__=n.a;this.externalEvents=e.extend({},this.externalEvents,{brandsScraped:"brandsScraped.AmazonBrandsScraper",brandsNotScraped:"brandsNotScraped.AmazonBrandsScraper"}),this.progressCounters=e.extend({},this.progressCounters);var i=this;function r(t){i.result=t.parsedData;var n=new s.Event(i.externalEvents.brandsScraped,{brandsScraped:i.result});e(i).trigger(n)}this.config=e.extend({},{},t||{}),this.result={},this.start=function(t){!function(t){t="https://www.amazon.com/"+t;var n=new amazon_com_brands_page_parser({brandsPage:i.result});e(n).on(a.a.externalEvents.finish,r);var o=new ScraperTask({url:t,parsers:{productPageParser:n}});e(o).on(ScraperTaskProto.externalEvents.afterStart,(function(e){i.progressCounters.total+=1,i.notifyProgress()})),e(o).on(ScraperTaskProto.externalEvents.afterProcess,(function(t){e(o).off(),e(n).off(),n=null,o=null,i.progressCounters.done+=1,i.notifyProgress()})),e(o).on(ScraperTaskProto.externalEvents.errorDataLoad,(function(t){e(o).off(),e(n).off(),n=null,o=null,i.progressCounters.done+=1,i.notifyProgress();var a=new s.Event(i.externalEvents.brandsNotScraped,{brandsNotScraped:{err:"Can not load data"}});e(i).trigger(a)})),o.start()}(t)}}}).call(this,i(3),i(3))},179:function(e,t,i){e.exports=i(180)},18:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return m}));var s=i(2),n=i(16),a=i.n(n),r=i(0),o=i(10),l=i(5),c=i(4),h=i(8);let d,p=[],u=!1;const g=chrome.extension.getURL("html/images/svg/sp.svg");function m(e){u=e}d=new a.a({template:`<div class="h10-container">\n        <div id="asin-grabber-table-summary">\n          <div class="ag-summary-column first-col">\n            <div class="h10-ag-summary-labels" title="Average Best Seller Rank (excluding sponsored listings)">\n              Avg. BSR\n            </div>\n            <div class="h10-ag-summary-numbers" id="h10-ag-avg-sales-rank">\n              <i v-if="avgSalesRankFormatted === null" class="fa fa-spinner fa-pulse fa-fw"> </i>\n              <p v-if="avgSalesRankFormatted !== null">{{ avgSalesRankFormatted }}</p>\n            </div>\n          </div>\n          <div class="ag-summary-column second-col">\n            <div class="h10-ag-summary-labels" title="Average price (excluding sponsored listings)">\n              Avg. Price\n            </div>\n            <td class="h10-ag-summary-numbers" id="h10-ag-avg-price">\n              <i v-if="avgPriceFormatted === null" class="fa fa-spinner fa-pulse fa-fw"> </i>\n              <p v-if="avgPriceFormatted !== null">{{ avgPriceFormatted }}</p>\n            </td>\n          </div>\n          <div class="ag-summary-column third-col">\n            <div class="h10-ag-summary-labels" title="Average number of reviews (excluding sponsored listings)">\n              Avg. Reviews\n            </div>\n            <div class="h10-ag-summary-numbers" id="h10-ag-avg-reviews-number">\n              <i v-if="formattedReviewsNumber === null" class="fa fa-spinner fa-pulse fa-fw"> </i>\n              <p v-if="formattedReviewsNumber !== null">{{ formattedReviewsNumber }}</p>\n            </div>\n        </div>\n    </div>\n\n    <div class="ag-placeholder" id="ag-preloader" v-if="!filteredItems.length && !isNoFilteredItems">\n        ${r.a}\n        <div class="bb-line-1">Wait, not so fast</div>\n        <div class="bb-line-2">For the extension to work correctly, try loading it on a page with tons of products!\n        </div>\n    </div>\n\n    <div class="ag-placeholder" v-if="isNoFilteredItems">\n        <div class="bb-line-2">There are no items from this origin!</div>\n    </div>\n\n    <div id="asin-table-wrapper" v-if="filteredItems.length && !isNoFilteredItems">\n        <div :class="{'product-table' : isProductPage}">\n            <div class="head">\n                <div v-for="field in fields" :class="[field.class, field.isIconLeft ? 'row-reverse': '', 'head-cell']"\n                     :key="field.key" @click="sort(field.key)">\n                    {{ field.label }}\n                    <i class="fa fa-sort sort-icon"\n                       :class="[field.key === sortBy ? sortDesc ? 'fa-sort-desc': 'fa-sort-asc' : '']"\n                    ></i>\n                </div>\n            </div>\n            <div class="body" :style="{'height': asinGrabberTableHeight}">\n                <div v-for="item in filteredItems" :key="item.position" class="row">\n                    <div class="body-cell position-column"\n                         @mouseover="onPositionMouseover(item.position)"\n                         @mouseleave="onPositionMouseleave(item.position)">\n                        <div :class="{hide : item.hover}">\n                            {{ item.position }}\n                        </div>\n                        <i v-if="item.hover"\n                           class="fa fa-trash-o h10-ag-action-delete"\n                           :class="{hide : !item.hover}"\n                           @click="onDeleteClick(item.position)">\n                        </i>\n                    </div>\n                    <div class="body-cell asin-column">\n                        <a :href="'/dp/' + item.asin"\n                           target="_blank">\n                            {{ item.asin }}\n                        </a>\n                    </div>\n                    <div class="body-cell brand-column" :title="item.brand">\n                        {{ item.brand }}\n                    </div>\n                    <div v-if="isProductPage" class="body-cell origin-column" :title="item.originType">\n                        {{ item.originType }}\n                    </div>\n                    <div :class="['body-cell', item.isSponsored ? 'sponsored' : '', 'title-column']"\n                         :title="item.title">\n                        <img class="asin-grabber-sponsored-image" \n                            v-if="item.isSponsored" alt="" src="${g}"/>\n                        {{ item.title }}\n                    </div>\n                    <div class="body-cell price-column" :class="{greyText: item.price === 'n/a'}">\n                        {{ item.price }}\n                    </div>\n                    <div class="body-cell bsr-column" :class="{greyText: item.bsr === 'n/a'}">\n                        {{ item.bsr }}\n                    </div>\n                    <div class="body-cell rating-column" :class="{greyText: item.rating === 'n/a'}">\n                        {{ item.rating }}\n                    </div>\n                    <div class="body-cell reviews-column" :class="{greyText: item.reviews === 'n/a'}">\n                        {{ item.reviews }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div v-if="isFooterShow" id="asin-grabber-footer-wrapper">\n        <div class="popup-footer">\n            <a class="h10-logo-link" href="https://www.helium10.com/" target="_blank">\n                <img id="ag-helium-logo" :src="heliumLogo" style="float: left;padding-left: 2%;" alt="">\n            </a>\n            <i @click="csvReportClick"\n               class="fa fa-download h10-ag-csv-action">\n            </i>\n          </div>\n        </div>\n      </div>\n        `,data:()=>({isProductPage:!1,asinGrabberTableHeight:"338px",sortBy:"position",sortDesc:!1,isLoaded:!1,heliumLogo:null,isFooterShow:!1,formattedReviewsNumber:null,avgSalesRankFormatted:null,avgPriceFormatted:null,fields:[{key:"position",label:"#",sortable:!0,class:"position-column"},{key:"asin",label:"ASIN",sortable:!0,class:"asin-column"},{key:"brand",label:"Brand",sortable:!0,class:"brand-column"},{key:"title",label:"Title",sortable:!0,class:"title-column"},{key:"priceValue",label:"Price",sortable:!0,class:"price-column",isIconLeft:!0},{key:"bsrValue",label:"BSR",sortable:!0,class:"bsr-column",isIconLeft:!0},{key:"ratingValue",label:"Rating",sortable:!0,class:"rating-column",isIconLeft:!0},{key:"reviewsValue",label:"Reviews",sortable:!0,class:"reviews-column",isIconLeft:!0}],items:[],filteredItems:[],isNoFilteredItems:!1,nonScrappedCounter:0,pageCounter:0,filteredItemsCounter:0,asinRecordsCounter:0,isSponsoredLoaded:!1,isFrequentlyBoughtTogetherLoaded:!1,isFourAndAboveLoaded:!1,isMountedAgain:!1}),created(){if(this.isProductPage=Object(r.v)(),this.isProductPage){let e=[...this.fields];e.splice(3,0,{key:"originType",label:"Origin",sortable:!0,class:"origin-column"}),this.fields=e}this.sortBy=r.v?"originType":"position"},mounted(){this.filteredItemsCounter=0,this.pageCounter=0,this.asinRecordsCounter=0,p=[],this.heliumLogo=chrome.extension.getURL("html/images/logo.svg"),u&&!this.isLoaded?(this.prepareAsins(e("html")),this.initAsinGrabber()):(this.isNoFilteredItems=!1,this.isMountedAgain=!0,chrome.storage.local.get("ASINGrabberFilters",this.prepareFromProductPage)),e(".container6").on("resize",this.modalResizeWatch)},methods:{modalResizeWatch(){const t=e(".asin-grabber-modal").height()-43;e("#asin-grabber").height(t),this.asinGrabberTableHeight=t-162+"px"},prepareAsins(t){if(e(t).find("#s-results-list-atf").length||e(t).find(".s-results-list").length||e(t).find(".s-result-list").length){s.a.config.debug&&console.log("page counter",this.pageCounter),this.prepareFromSearch(t),this.pageCounter++;let e=this.haveNextPage(t);e&&this.asinRecordsCounter<100&&u?this.loadAsins(e,this.prepareAsins):this.isLoaded=!0}if(e(t).find("#zg_centerListWrapper").length||e(t).find(".zg-item-immersion .a-list-item").length){this.prepareFromBestSeller(t,this.asinExists,this.getAsinGrabberProductData);let e=this.haveNextPage(t);e&&this.asinRecordsCounter<100&&u&&this.loadAsins(e,this.prepareAsins)}this.isProductPage&&(this.prepareFromVariant(),chrome.storage.local.get("ASINGrabberFilters",this.prepareFromProductPage))},prepareFromProductPage(e){if(this.isOnlySponsored=e.ASINGrabberFilters.isOnlySponsored,this.isOnlyFrequentlyBoughtTogether=e.ASINGrabberFilters.isOnlyBoughtTogether,this.isOnlyFourAndAbove=e.ASINGrabberFilters.isOnlyFourAndAbove,this.isMountedAgain){const t=this.isOnlySponsored&&!this.isSponsoredLoaded,i=this.isOnlyFrequentlyBoughtTogether&&!this.isFrequentlyBoughtTogetherLoaded,s=this.isOnlyFourAndAbove&&!this.isFourAndAboveLoaded;if(t||i||s){this.filterAfterChangeOrigins(e);const n=()=>{this.filterAfterMount(e)};this.isOnlySponsored||this.isOnlyFrequentlyBoughtTogether||this.isOnlyFourAndAbove?(this.nullAvgValues(),this.initAsinGrabber(n)):this.isLoaded=!0,t&&(this.isLoaded=!1,this.prepareFromSponsored()),i&&(this.isLoaded=!1,this.prepareFromFrequentlyBoughtTogether()),s&&(this.isLoaded=!1,this.prepareFromFourAndAbove())}else this.filterAfterMount(e)}else this.isOnlySponsored&&this.prepareFromSponsored(),this.isOnlyFrequentlyBoughtTogether&&this.prepareFromFrequentlyBoughtTogether(),this.isOnlyFourAndAbove&&this.prepareFromFourAndAbove()},filterAfterChangeOrigins(e){const t=e.ASINGrabberFilters,i=this.items.filter(e=>{if(!0===t.isOnlySponsored&&"Sponsored"===e.originType||t.isOnlyBoughtTogether&&"Bought together"===e.originType||!0===t.isOnlyFourAndAbove&&"Four and above"===e.originType||"IS_FROM_SEARCH"===e.originType||"IS_BEST_SELLER"===e.originType||"Variant"===e.originType)return!0});i.length&&(this.filteredItems=i.map((e,t)=>({...e,position:t+1})),this.sort(this.sortBy,!0))},filterAfterMount(e){const t=e.ASINGrabberFilters,i=this.items.filter(e=>{if(!0===t.isOnlySponsored&&"Sponsored"===e.originType||t.isOnlyBoughtTogether&&"Bought together"===e.originType||!0===t.isOnlyFourAndAbove&&"Four and above"===e.originType||"IS_FROM_SEARCH"===e.originType||"IS_BEST_SELLER"===e.originType||"Variant"===e.originType)return!0});i.length?(this.filteredItems=i.map((e,t)=>({...e,position:t+1})),this.sort(this.sortBy,!0),this.calculateAvgValues()):(this.isNoFilteredItems=!0,this.isLoaded=!0,u=!1,this.resetAvgValues())},sort(e,t){this.sortBy===e?t||(this.sortDesc=!this.sortDesc):(this.sortDesc=!1,this.sortBy=e);let i=[...this.filteredItems];const s=typeof i[0][e];i.sort((t,i)=>{let n=t[e].value||t[e],a=i[e].value||i[e];return"string"===s&&("string"==typeof n&&(n=n.toLowerCase()),"string"==typeof a&&(a=a.toLowerCase())),n<a?this.sortDesc?1:-1:n>a?this.sortDesc?-1:1:0}),this.filteredItems=i},prepareFromSearch(t){e(t).find(".s-result-item").each((t,i)=>{if(!i.outerHTML.includes("Prime Video")&&e(i).data("asin")&&p.length<100&&!this.asinExists(e(i).data("asin"))){const t=e(i).data("asin");this.getAsinGrabberProductData(t,i,"IS_FROM_SEARCH")}})},prepareFromBestSeller(t,i,s){e(t).find("#zg_centerListWrapper .zg_itemImmersion").each((function(t,n){let a;const r=e(n).find(".p13n-asin").first();a=r.length&&void 0!==r.data("p13nAsinMetadata")?r.data("p13nAsinMetadata").asin:r.data("p13n-asin-metadata").asin,a&&p.length<100&&(i(a)||s(a,n,"IS_BEST_SELLER"))})),e(t).find(".zg-item-immersion .a-list-item").each((function(t,n){const a=e(this).find("a.a-link-normal").first();if(a.length){let e=a.attr("href"),t=e?e.match(r.b):null;if(!t||!t.length)return!0;let o=t[2];i(o)||s(o,n,"IS_BEST_SELLER")}}))},prepareFromVariant(){const e=Object(h.b)();e&&e.length&&e.forEach(e=>{this.getAsinGrabberProductData(e,null,"Variant")})},prepareFromSponsored(){this.isSponsoredLoaded=!0,e("html").find('#sp_detail, #sp_detail-none, #sp_detail2-none, div[cel_widget_id="sp_detail"]').first().find(".a-carousel-card").each((t,i)=>{const s=e(i).find("div[data-asin]").first().attr("data-asin");this.getAsinGrabberProductData(s,i,"Sponsored")})},prepareFromFrequentlyBoughtTogether(){this.isFrequentlyBoughtTogetherLoaded=!0,e("html").find("#sims-fbt-container").first().find("input").each((t,i)=>{if("session-id"!==e(i).attr("name")){const t=e(i).attr("value");t&&10===t.length&&this.getAsinGrabberProductData(t,i,"Bought together")}})},prepareFromFourAndAbove(){this.isFourAndAboveLoaded=!0,e("html").find("#sp_detail_thematic, #sp_detail_thematic-highly_rated").first().find(".a-carousel-card").each((t,i)=>{const s=e(i).find("div[data-asin]").first().attr("data-asin");this.getAsinGrabberProductData(s,i,"Four and above")})},haveNextPage(t){const i=e("body");let s;return s=void 0===t?i:e(t),(0!==s.find("#pagn").length||0!==s.find(".zg_pagination").length||0!==s.find(".a-pagination").length)&&((0!==s.find(".pagnCur").next().find("a").length||0!==s.find(".zg_page.zg_selected").next().find("a").length||0!==s.find(".a-pagination .a-selected").next().find("a").length)&&(s.find(".pagnCur").next().find("a").length?s.find(".pagnCur").next().find("a").attr("href"):s.find(".zg_page.zg_selected").next().find("a").length?s.find(".zg_page.zg_selected").next().find("a").attr("href"):s.find(".a-pagination .a-selected").next().hasClass("a-normal")?s.find(".a-pagination .a-selected").next().find("a").attr("href"):void 0))},loadAsins(t,i){e.ajax({url:t,type:"GET",success:i})},asinExists(e){const t=this.items.some(t=>e===t.asin),i=this.isAsinExistInOuterList(e);return t||i},isAsinExistInOuterList(e){for(let t=0;t!==p.length;t++){if(void 0===p[t])return!1;if(p[t].asin===e)return!0}return!1},getAsinGrabberProductData(t,i,n){this.asinRecordsCounter++;const a=this.asinRecordsCounter,r=c.b+t;i&&i.outerHTML.includes("Prime Video")||chrome.storage.local.get(r,h=>{this.isLoaded=!0,this.isFooterShow=!0;let d=!1;if(Object.keys(h).length&&(d=h[r]),!d||d.time<Date.now()/1e3-21600){let r=new o.a,h=l.a+"/dp/"+t;r.start(h),e(r).on(r.externalEvents.productNotScraped,()=>{this.nonScrappedCounter++,s.a.config.debug&&console.log("not scrapped "+t)}),e(r).on(r.externalEvents.productScraped,s=>{let r=s.productScrapedData;r.sellersNumber||(r.sellersNumber="1");let o,l={};o=e(r.detailsHtml).text().trim().length>25?r.detailsHtml:r.bulletsHtml,l[c.b+r.asin]={asin:r.asin,bbSeller:r.bbSeller,brand:r.brand,bsr:r.bsr,bsrList:r.bsrList,canonicalAsin:r.canonicalAsin,category:r.category,detailsHtml:o,listingCreationDate:r.listingCreationDate,modelNumber:r.modelNumber,price:r.price,reviewsNumber:r.reviewsNumber,reviewsRating:r.reviewsRating,sellerName:r.sellerName,sellersNumber:r.sellersNumber,title:r.title,time:Date.now()},chrome.storage.local.set(l),d=r;const h=i&&e(i).data("asin");p.push({asin:h||t,title:d.title,position:this.asinRecordsCounter,bsr:d.bsr}),this.addAsinGrabberRow(d,t,a,i,n)})}else this.addAsinGrabberRow(d,t,a,i,n),p.push({asin:e(i).data("asin")||t,title:d.title,position:this.asinRecordsCounter,bsr:d.bsr})})},addAsinGrabberRow(t,i,s,n,a){const o=Object(r.n)(t.price,"currency"),l=Object(r.n)(t.bsr),c=Object(r.n)(t.reviewsNumber),h=e=>0===e.value||"number"!=typeof e.value?"n/a":e.display,d=h(o),p=h(l),u=h(c),g=-1===(m=t.reviewsRating)?"n/a":m;var m;const f=this.isMountedAgain?this.items.length+1:this.filteredItemsCounter+1,v={asin:i,modelNumber:t.modelNumber,title:t.title,price:d,priceValue:o.value,position:f,bsr:p,bsrValue:l.value,brand:Object(r.e)(t.brand),reviews:u,reviewsValue:c.value,rating:g,ratingValue:t.reviewsRating,isSponsored:e(n).hasClass("AdHolder")||!!e(n).find(".s-sponsored-header").length,originType:a};if(this.items.push(v),this.isOnlySponsored&&"Sponsored"===a||this.isOnlyFrequentlyBoughtTogether&&"Bought together"===a||this.isOnlyFourAndAbove&&"Four and above"===a||"IS_FROM_SEARCH"===a||"IS_BEST_SELLER"===a||"Variant"===a){this.filteredItemsCounter++;let e=this.filteredItems;e.push(v),this.filteredItems=e.map((e,t)=>({...e,position:t+1})),this.sort(this.sortBy,!0)}},initAsinGrabber(e){setTimeout(()=>{let t=0;const i=setInterval(()=>{t++,t>50&&(this.isFooterShow=!0),(t>100||this.asinRecordsCounter-this.nonScrappedCounter-this.items.length<=1)&&(clearInterval(i),0===this.filteredItems.length&&(this.isNoFilteredItems=!0,this.isLoaded=!0,u=!1,this.resetAvgValues()),e?e():this.calculateAvgValues())},2e3)},6e3)},calculateAvgValues(){let e=0,t=0,i=0,s=0,n=0,a=0;this.filteredItems.forEach(r=>{const o=parseFloat(r.priceValue);o>0&&(e+=o,t++);const l=parseInt(r.bsr);l>0&&(i+=l,s++);const c=parseInt(r.reviews);c&&(n+=c,a++)}),this.formattedReviewsNumber=a>0?Math.round(n/a):0;let o=s>0?Math.round(i/s):"N/A";o=o.toLocaleString(Object(r.k)().locale),this.avgSalesRankFormatted=o;let l=e/t||"N/A";l=isNaN(l)?"N/A":"en-CA"===Object(r.k)().locale?Object(r.j)(l,!0):l.toLocaleString(Object(r.k)().locale,{style:"currency",currency:Object(r.k)().currency,minimumFractionDigits:2,maximumFractionDigits:2}),this.avgPriceFormatted=l,this.isFooterShow=!0},resetAvgValues(){this.avgSalesRankFormatted="N/A",this.avgPriceFormatted="N/A",this.formattedReviewsNumber="N/A"},nullAvgValues(){this.avgSalesRankFormatted=null,this.avgPriceFormatted=null,this.formattedReviewsNumber=null},csvReportClick(){let e="Position,ASIN,Brand,Title,Price,BSR,Rating,Reviews\r\n";this.filteredItems.forEach(t=>{let i=t.title.replace(/"/g,'""');t.isSponsored&&(i="($) "+i),e+=t.position+","+t.asin+',"'+t.brand.replace(/"/g,'""')+'","'+i+'",'+t.priceValue+","+t.bsrValue+","+t.ratingValue+","+t.reviewsValue+"\r\n"});const t=new Blob([e],{type:"text/csv;charset=utf-8;\ufeff"}),i=document.createElement("a"),s=URL.createObjectURL(t);i.setAttribute("href",s),i.setAttribute("download","ASIN_Grabber_export.csv"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},getIndexByPosition(e){return this.filteredItems.findIndex(t=>t.position===e)},onPositionMouseover(e){const t=[...this.filteredItems];t[this.getIndexByPosition(e)].hover=!0,this.filteredItems=t},onPositionMouseleave(e){const t=[...this.filteredItems];t[this.getIndexByPosition(e)].hover=!1,this.filteredItems=t},onDeleteClick(e){const t=[...this.filteredItems],i=this.getIndexByPosition(e);t.splice(i,1),this.filteredItems=t}}})}).call(this,i(3))},180:function(e,t,i){"use strict";i.r(t),function(e){i.d(t,"feesTimeout",(function(){return h}));var s=i(2),n=i(0),a=i(4),r=i(8),o=i(26),l=i(27),c=i(11),h=(i(161),!1);function d(){console.log("page changed");let t=document.createElement("script");t.type="text/javascript",t.text="("+p.toString()+")()",document.body.appendChild(t),Object(n.A)(!0),setTimeout((function(){Object(n.v)()&&a.c.showBsrGraph&&(e("#helium-charts").html(e(n.a)),Object(r.c)()),Object(n.u)()&&Object(l.a)()}),100)}function p(){let e=window.DetailPage,t=document.getElementsByTagName("body")[0];try{e&&e.StateController?t.setAttribute("data-h10-detail-state",JSON.stringify(e.StateController.getState())):t.setAttribute("data-h10-detail-state","0")}catch(e){console.log(e)}}chrome.storage.sync.get("extensionEnabled",(function(t){if(t.extensionEnabled){if(Object(n.v)()){let t;const i=new MutationObserver((e,i)=>{for(let i of e)if("childList"===i.type&&0!==[...i.addedNodes].length)for(let e of i.addedNodes)e instanceof HTMLElement&&(clearTimeout(t),t=setTimeout((function(){d(),o.a.calculationEvaluationResult()}),1e3))}),s=e("#altImages")[0],n=e("#titleBlock")[0]||e("#title_feature_div")[0];s&&i.observe(s,{childList:!0,subtree:!0}),n&&i.observe(n,{childList:!0,subtree:!0})}if(Object(n.w)()){const e=document.getElementsByClassName("s-result-list-placeholder")[0];if(e){new MutationObserver((e,t)=>{for(let t of e)"attributes"===t.type&&t.target.className.includes("aok-hidden")&&a.c.showExtInfo&&(Object(c.c)(),d())}).observe(e,{attributes:!0})}}}})),chrome.storage.sync.get({options:{showExtInfo:!0,showListingHealth:!0,showBsrGraph:!0,successScore:{multiFactor:!0,twoFactor:!1,revenue:5e3,reviews:75}}},(function(t){Object(a.f)(t.options),s.a.config.debug&&console.log("%c⇒ extensionOptions","color: #82AAFF",a.c),chrome.storage.sync.get(["extensionEnabled","isUserLogged"],(function(t){t.extensionEnabled&&t.isUserLogged&&(Object(n.v)()&&function(){let t,i="76%";if(e("#hqpWrapper").length)t="#hqpWrapper";else if(e("#hqp-bottom").length){t="#hqp-bottom";const s=e("#featurebullets_feature_div");s.length&&(i=s.width()-10+"px")}else e("#ppd").length?t="#ppd":e("#centerCol").length&&(t="#centerCol");e(t).length?e("<div>",{id:"helium-charts",style:"width: "+i+";"}).insertAfter(t):e("#mediaTabsGroup").length?(i="100%",e("<div>",{id:"helium-charts",style:"width: "+i+";"}).insertAfter("#mediaTabsGroup")):e("#bottomRow").length?e("<div>",{id:"helium-charts",style:"margin-right: 320px;"}).insertBefore("#bottomRow"):e("#ppd-left").prepend(e("<div>",{id:"helium-charts"}));a.c.showBsrGraph&&(e("#helium-charts").append(e(n.a)),Object(r.c)());e((function(){a.c.showListingHealth&&(e("body").append(e('<div id="product-score"></div>')),o.a.$mount("#product-score"))}))}(),a.c.showExtInfo&&(Object(n.w)()&&Object(c.c)(),Object(n.u)()&&Object(l.a)()))}))}))}.call(this,i(3))},182:function(e,t,i){var s={"./af":28,"./af.js":28,"./ar":29,"./ar-dz":30,"./ar-dz.js":30,"./ar-kw":31,"./ar-kw.js":31,"./ar-ly":32,"./ar-ly.js":32,"./ar-ma":33,"./ar-ma.js":33,"./ar-sa":34,"./ar-sa.js":34,"./ar-tn":35,"./ar-tn.js":35,"./ar.js":29,"./az":36,"./az.js":36,"./be":37,"./be.js":37,"./bg":38,"./bg.js":38,"./bm":39,"./bm.js":39,"./bn":40,"./bn.js":40,"./bo":41,"./bo.js":41,"./br":42,"./br.js":42,"./bs":43,"./bs.js":43,"./ca":44,"./ca.js":44,"./cs":45,"./cs.js":45,"./cv":46,"./cv.js":46,"./cy":47,"./cy.js":47,"./da":48,"./da.js":48,"./de":49,"./de-at":50,"./de-at.js":50,"./de-ch":51,"./de-ch.js":51,"./de.js":49,"./dv":52,"./dv.js":52,"./el":53,"./el.js":53,"./en-au":54,"./en-au.js":54,"./en-ca":55,"./en-ca.js":55,"./en-gb":56,"./en-gb.js":56,"./en-ie":57,"./en-ie.js":57,"./en-il":58,"./en-il.js":58,"./en-in":59,"./en-in.js":59,"./en-nz":60,"./en-nz.js":60,"./en-sg":61,"./en-sg.js":61,"./eo":62,"./eo.js":62,"./es":63,"./es-do":64,"./es-do.js":64,"./es-us":65,"./es-us.js":65,"./es.js":63,"./et":66,"./et.js":66,"./eu":67,"./eu.js":67,"./fa":68,"./fa.js":68,"./fi":69,"./fi.js":69,"./fil":70,"./fil.js":70,"./fo":71,"./fo.js":71,"./fr":72,"./fr-ca":73,"./fr-ca.js":73,"./fr-ch":74,"./fr-ch.js":74,"./fr.js":72,"./fy":75,"./fy.js":75,"./ga":76,"./ga.js":76,"./gd":77,"./gd.js":77,"./gl":78,"./gl.js":78,"./gom-deva":79,"./gom-deva.js":79,"./gom-latn":80,"./gom-latn.js":80,"./gu":81,"./gu.js":81,"./he":82,"./he.js":82,"./hi":83,"./hi.js":83,"./hr":84,"./hr.js":84,"./hu":85,"./hu.js":85,"./hy-am":86,"./hy-am.js":86,"./id":87,"./id.js":87,"./is":88,"./is.js":88,"./it":89,"./it-ch":90,"./it-ch.js":90,"./it.js":89,"./ja":91,"./ja.js":91,"./jv":92,"./jv.js":92,"./ka":93,"./ka.js":93,"./kk":94,"./kk.js":94,"./km":95,"./km.js":95,"./kn":96,"./kn.js":96,"./ko":97,"./ko.js":97,"./ku":98,"./ku.js":98,"./ky":99,"./ky.js":99,"./lb":100,"./lb.js":100,"./lo":101,"./lo.js":101,"./lt":102,"./lt.js":102,"./lv":103,"./lv.js":103,"./me":104,"./me.js":104,"./mi":105,"./mi.js":105,"./mk":106,"./mk.js":106,"./ml":107,"./ml.js":107,"./mn":108,"./mn.js":108,"./mr":109,"./mr.js":109,"./ms":110,"./ms-my":111,"./ms-my.js":111,"./ms.js":110,"./mt":112,"./mt.js":112,"./my":113,"./my.js":113,"./nb":114,"./nb.js":114,"./ne":115,"./ne.js":115,"./nl":116,"./nl-be":117,"./nl-be.js":117,"./nl.js":116,"./nn":118,"./nn.js":118,"./oc-lnc":119,"./oc-lnc.js":119,"./pa-in":120,"./pa-in.js":120,"./pl":121,"./pl.js":121,"./pt":122,"./pt-br":123,"./pt-br.js":123,"./pt.js":122,"./ro":124,"./ro.js":124,"./ru":125,"./ru.js":125,"./sd":126,"./sd.js":126,"./se":127,"./se.js":127,"./si":128,"./si.js":128,"./sk":129,"./sk.js":129,"./sl":130,"./sl.js":130,"./sq":131,"./sq.js":131,"./sr":132,"./sr-cyrl":133,"./sr-cyrl.js":133,"./sr.js":132,"./ss":134,"./ss.js":134,"./sv":135,"./sv.js":135,"./sw":136,"./sw.js":136,"./ta":137,"./ta.js":137,"./te":138,"./te.js":138,"./tet":139,"./tet.js":139,"./tg":140,"./tg.js":140,"./th":141,"./th.js":141,"./tk":142,"./tk.js":142,"./tl-ph":143,"./tl-ph.js":143,"./tlh":144,"./tlh.js":144,"./tr":145,"./tr.js":145,"./tzl":146,"./tzl.js":146,"./tzm":147,"./tzm-latn":148,"./tzm-latn.js":148,"./tzm.js":147,"./ug-cn":149,"./ug-cn.js":149,"./uk":150,"./uk.js":150,"./ur":151,"./ur.js":151,"./uz":152,"./uz-latn":153,"./uz-latn.js":153,"./uz.js":152,"./vi":154,"./vi.js":154,"./x-pseudo":155,"./x-pseudo.js":155,"./yo":156,"./yo.js":156,"./zh-cn":157,"./zh-cn.js":157,"./zh-hk":158,"./zh-hk.js":158,"./zh-mo":159,"./zh-mo.js":159,"./zh-tw":160,"./zh-tw.js":160};function n(e){var t=a(e);return i(t)}function a(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=a,e.exports=n,n.id=182},19:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return h}));var n=i(2),a=i(0);const r=["dangerousClothingItems","dangerousItems"];let o={smallStandard:{_10orLess:{shippingWeight:.625,packagingWeight:.25,fulfillmentFeePerUnit:2.5},_10to16:{shippingWeight:{from:.625,to:1},packagingWeight:.25,fulfillmentFeePerUnit:2.63}},largeStandard:{_10ozOrLess:{shippingWeight:{from:10,to:"less"},packagingWeight:.25,fulfillmentFeePerUnit:3.31},_10to16oz:{shippingWeight:{from:10,to:16},packagingWeight:.25,fulfillmentFeePerUnit:3.48},_1to2lb:{shippingWeight:{from:1,to:2},packagingWeight:.25,fulfillmentFeePerUnit:4.9},_2to3lb:{shippingWeight:{from:2,to:3},packagingWeight:.25,fulfillmentFeePerUnit:5.42},_3to21lb:{shippingWeight:{from:3,to:21},packagingWeight:.25,fulfillmentFeePerUnit:{cost:5.42,perLb:.38,first:3}}},smallOversize:{shippingWeight:{from:71,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:8.26,perLb:.38,first:2}},mediumOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:11.37,perLb:.39,first:2}},largeOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:75.78,perLb:.79,first:90}},specialOversize:{shippingWeight:"N/A",packagingWeight:1,fulfillmentFeePerUnit:{cost:137.32,perLb:.91,first:90}}};const l={mostGoods:{smallStandard:o.smallStandard,largeStandard:o.largeStandard,smallOversize:o.smallOversize,mediumOversize:o.mediumOversize,largeOversize:o.largeOversize,specialOversize:o.specialOversize},clothes:{smallStandard:{_10orLess:{shippingWeight:.625,packagingWeight:.25,fulfillmentFeePerUnit:2.92},_10to16:{shippingWeight:{from:.625,to:1},packagingWeight:.25,fulfillmentFeePerUnit:3.11}},largeStandard:{_10ozOrLess:{shippingWeight:{from:10,to:"less"},packagingWeight:.25,fulfillmentFeePerUnit:3.7},_10to16oz:{shippingWeight:{from:10,to:16},packagingWeight:.25,fulfillmentFeePerUnit:3.81},_1to2lb:{shippingWeight:{from:1,to:2},packagingWeight:.25,fulfillmentFeePerUnit:5.35},_2to3lb:{shippingWeight:{from:2,to:3},packagingWeight:.25,fulfillmentFeePerUnit:5.95},_3to21lb:{shippingWeight:{from:3,to:21},packagingWeight:.25,fulfillmentFeePerUnit:{cost:5.95,perLb:.38,first:3}}},smallOversize:o.smallOversize,mediumOversize:o.mediumOversize,largeOversize:o.largeOversize,specialOversize:o.specialOversize},dangerousItems:{smallStandard:{_10orLess:{shippingWeight:.625,packagingWeight:.25,fulfillmentFeePerUnit:3.41},_10to16:{shippingWeight:{from:.625,to:1},packagingWeight:.25,fulfillmentFeePerUnit:3.64}},largeStandard:{_10ozOrLess:{shippingWeight:{from:10,to:"less"},packagingWeight:.25,fulfillmentFeePerUnit:4.06},_10to16oz:{shippingWeight:{from:10,to:16},packagingWeight:.25,fulfillmentFeePerUnit:4.23},_1to2lb:{shippingWeight:{from:1,to:2},packagingWeight:.25,fulfillmentFeePerUnit:5.47},_2to3lb:{shippingWeight:{from:2,to:3},packagingWeight:.25,fulfillmentFeePerUnit:5.86},_3to21lb:{shippingWeight:{from:3,to:21},packagingWeight:.25,fulfillmentFeePerUnit:{cost:5.86,perLb:.38,first:3}}},smallOversize:{shippingWeight:{from:71,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:8.98,perLb:.38,first:2}},mediumOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:11.22,perLb:.39,first:2}},largeOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:87.14,perLb:.79,first:90}},specialOversize:{shippingWeight:"N/A",packagingWeight:1,fulfillmentFeePerUnit:{cost:157.12,perLb:.91,first:90}}},dangerousClothingItems:{smallStandard:{_10orLess:{shippingWeight:.625,packagingWeight:.25,fulfillmentFeePerUnit:3.85},_10to16:{shippingWeight:{from:.625,to:1},packagingWeight:.25,fulfillmentFeePerUnit:4.12}},largeStandard:{_10ozOrLess:{shippingWeight:{from:10,to:"less"},packagingWeight:.25,fulfillmentFeePerUnit:4.45},_10to16oz:{shippingWeight:{from:10,to:16},packagingWeight:.25,fulfillmentFeePerUnit:4.56},_1to2lb:{shippingWeight:{from:1,to:2},packagingWeight:.25,fulfillmentFeePerUnit:5.92},_2to3lb:{shippingWeight:{from:2,to:3},packagingWeight:.25,fulfillmentFeePerUnit:6.39},_3to21lb:{shippingWeight:{from:3,to:21},packagingWeight:.25,fulfillmentFeePerUnit:{cost:6.39,perLb:.38,first:3}}},smallOversize:o.smallOversize,mediumOversize:o.mediumOversize,largeOversize:o.largeOversize,specialOversize:o.specialOversize},batteries:{smallStandard:{_10orLess:{shippingWeight:.625,packagingWeight:.25,fulfillmentFeePerUnit:2.61},_10to16:{shippingWeight:{from:.625,to:1},packagingWeight:.25,fulfillmentFeePerUnit:.11}},largeStandard:{_10ozOrLess:{shippingWeight:{from:10,to:"less"},packagingWeight:.25,fulfillmentFeePerUnit:3.42},_10to16oz:{shippingWeight:{from:10,to:16},packagingWeight:.25,fulfillmentFeePerUnit:3.59},_1to2lb:{shippingWeight:{from:1,to:2},packagingWeight:.25,fulfillmentFeePerUnit:4.9+.11},_2to3lb:{shippingWeight:{from:2,to:3},packagingWeight:.25,fulfillmentFeePerUnit:5.53},_3to21lb:{shippingWeight:{from:3,to:21},packagingWeight:.25,fulfillmentFeePerUnit:{cost:5.53,perLb:.38,first:3}}},smallOversize:{shippingWeight:{from:71,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:8.37,perLb:.38,first:2}},mediumOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:11.37+.11,perLb:.39,first:2}},largeOversize:{shippingWeight:{from:151,to:"less"},packagingWeight:1,fulfillmentFeePerUnit:{cost:75.89,perLb:.79,first:90}},specialOversize:{shippingWeight:"N/A",packagingWeight:1,fulfillmentFeePerUnit:{cost:137.43,perLb:.91,first:90}}}};function c(){return{data:{},price:0,meta:{months:1,unitManufacturingCost:0,estFreightCost:200,freightType:"cm",otherCostType:"percent"},amazonUrl:"https://sellercentral.amazon.com/fba/profitabilitycalculator/productmatches?searchKey=%asin%&language=en_US&profitcalcToken={token}",asin:null,referralFee:15,minReferralFee:.3,vat:null,otherCost:0,loading:!0,serverError:!1,selectedCategories:"mostGoods",referralFeePercentages:a.x}}let h=new e({template:'\x3c!--suppress CheckTagEmptyBody --\x3e\n    <div id="helium-calc-app" class="fba-calc-us">\n    <div class="helium-calc-app-header">\n      <div class="helium-calc-app-thumb">\n        <img v-if="data.imageUrl"\n             :src="data.imageUrl"\n             class="helium-calc-app-thumb-img"\n             :alt="data.title"\n             @error="changeImageFormat()">\n      </div>\n      <div class="helium-calc-app-title">{{ data.title }}</div>\n      <div v-if="serverError" class="helium-calc-warning">\n        Sorry something went wrong. <br>\n        You can enter data manually\n      </div>\n      <div v-if="loading" class="timeline-wrapper">\n        <div class="timeline-item">\n          <div class="animated-background">\n            <div class="background-masker vertical-line"></div>\n            <div class="background-masker line-one"></div>\n            <div class="background-masker line-two"></div>\n            <div class="background-masker right-two"></div>\n            <div class="background-masker line-three"></div>\n            <div class="background-masker right-three"></div>\n            <div class="background-masker line-four"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="helium-calc-app-table">\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Dimensions\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Product’s length x width x height"></i>\n        </div>\n        <div class="calc-app-col">\n          <input type="number"\n                 min="0"\n                 step="0.01"\n                 class="helium-calc-app-input"\n                 v-model.number="data.length"> x\n          <input type="number"\n                 min="0"\n                 step="0.01"\n                 class="helium-calc-app-input"\n                 v-model.number="data.width"> x\n          <input type="number"\n                 min="0"\n                 step="0.01"\n                 class="helium-calc-app-input"\n                 v-model.number="data.height"> in.\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Weight\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Total weight of product and packaging"></i>\n        </div>\n        <div class="calc-app-col">\n          <input type="number"\n                 min="0"\n                 step="0.01"\n                 class="helium-calc-app-input"\n                 v-model.number="data.weight"> lbs\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Outbound Shipping Weight\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated total weight for individual product, in pounds, per shipping size tier"></i>\n        </div>\n        <div class="calc-app-col">{{\n          shippingWeight < 1 ? Math.ceil(shippingWeight * 16) + \' oz\' : shippingWeight + \' lbs\'\n          }}\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Size Tier\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Product’s FBA shipping size tier"></i>\n        </div>\n        <div class="calc-app-col">{{ sizeTier }}</div>\n      </div>\n      <div class="helium-calc-app-row-divider"></div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Price\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Selling price"></i>\n        </div>\n        <div class="calc-app-col">\n          $<input type="number"\n                  min="0"\n                  step="0.01"\n                  class="helium-calc-app-input mr-0"\n                  v-model.number="price">\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Est. Time in Storage\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Length of time a product is stored in Amazon’s warehouse"></i>\n        </div>\n        <div class="calc-app-col">\n          <input type="number"\n                 min="0"\n                 step="any"\n                 class="helium-calc-app-input"\n                 v-model.number="meta.months"> mths\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Unit Manufacturing Cost (estimated)\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Per unit cost of making a product, including labor, materials and overhead"></i>\n        </div>\n        <div class="calc-app-col">\n          $<input type="number" min="0" step="0.01"\n                  class="helium-calc-app-input mr-0"\n                  v-model.number="meta.unitManufacturingCost">\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">\n          Est. Freight Cost\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated individual product transportation cost from supplier to Amazon warehouse"></i>\n          <select class="helium-calc-app-input" v-model="meta.freightType">\n            <option value="cm">per cubic meter</option>\n            <option value="ci">per cubic foot</option>\n            <option value="kg">per kilogram</option>\n            <option value="lb">per pound</option>\n          </select>\n        </div>\n        <div class="calc-app-col">\n          $<input type="number"\n                  min="0"\n                  step="0.01"\n                  class="helium-calc-app-input mr-0"\n                  v-model.number="meta.estFreightCost">\n        </div>\n      </div>\n      <div class="helium-calc-app-row-divider"></div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Unit Freight Cost\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Est. freight cost per item"></i>\n        </div>\n        <div class="calc-app-col">$ {{ unitFreightCost | formatNumber }}</div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Storage Fee (Jan.-Sep. / Oct.-Dec.)\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimate of Amazon\'s monthly storage fee based on product dimensions"></i>\n        </div>\n        <div class="calc-app-col">$ {{ storageFeeJS | formatNumber }}\n          /{{ storageFeeOD | formatNumber }}\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">FBA Fee\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated total Amazon fees for packing and shipping the individual product"></i>\n          <select class="helium-calc-app-input" v-model="selectedCategories">\n            <option value="mostGoods">Most goods</option>\n            <option value="clothes">Clothes</option>\n            <option value="dangerousItems">Dangerous items</option>\n            <option value="dangerousClothingItems">Dangerous clothing items</option>\n            <option value="batteries">Batteries</option>\n          </select>\n        </div>\n        <div class="calc-app-col">$ {{ fbaFee | formatNumber }}</div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Referral Fee\n          <i class="fa fa-info-circle h10-calc-tooltip h10-ext-link"></i>\n          <select class="helium-calc-app-input" v-model="referralFee">\n            <option v-for="option in referralFeePercentages.com" v-bind:value="option">\n              {{ option }}%\n            </option>\n          </select>\n        </div>\n        <div class="calc-app-col">$ {{ refFee | formatNumber }}</div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Other Costs\n          <i class="fa fa-info-circle h10-calc-tooltip" title="Additional expenses not yet included"></i>\n          <select class="helium-calc-app-input" v-model="meta.otherCostType">\n            <option value="percent">%</option>\n            <option value="dollars">$</option>\n          </select>\n        </div>\n        <div class="calc-app-col">\n          <input type="number"\n                 step="0.01"\n                 min="0"\n                 class="helium-calc-app-input mr-0"\n                 v-model.number="otherCost">\n        </div>\n      </div>\n      <div class="helium-calc-app-row-divider"></div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Net (Jan.-Sep. / Oct.-Dec.)\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated revenue after discounts and returns"></i>\n        </div>\n        <div class="calc-app-col">\n          $\n          <span :class="isPositive(netProfitJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ loading ? 0 : netProfitJS | formatNumber }}\n            </span> /\n          <span :class="isPositive(netProfitOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ loading ? 0 : netProfitOD | formatNumber }}\n            </span>\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">Margin (Jan.-Sep. / Oct.-Dec.)\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated percentage of the sale price that becomes profit"></i>\n        </div>\n        <div class="calc-app-col">\n            <span :class="isPositive(marginJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ !loading || price !== 0 ? marginJS : \'0\' | formatNumber }}\n            </span> /\n          <span :class="isPositive(marginOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ !loading || price !== 0 ? marginOD : \'0\' | formatNumber }}\n            </span> %\n        </div>\n      </div>\n      <div class="helium-calc-app-row">\n        <div class="calc-app-col">ROI (Jan.-Sep. / Oct.-Dec.)\n          <i class="fa fa-info-circle h10-calc-tooltip"\n             title="Estimated percentage of financial return on total investment"></i>\n        </div>\n        <div class="calc-app-col">\n            <span :class="isPositive(roiJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ loading ? 0 : roiJS | formatNumber }}\n            </span> /\n          <span :class="isPositive(roiOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                {{ loading ? 0 : roiOD | formatNumber }}\n            </span> %\n        </div>\n      </div>\n      <div v-if="loading" class="helium-calc-overlay"></div>\n    </div>\n    </div>\n    ',data:()=>c(),mounted(){this.predefinedAsin?this.asin=this.predefinedAsin:this.asin=Object(a.h)(),this.fetch(this.asin,(e,t)=>{this.asin!==t||Object.keys(this.data).length||(this.price=0,new Promise(e=>{this.getPrice(this.asin,(t,i)=>{if(t)throw t;this.price=i,this.meta.unitManufacturingCost=this.round(this.price/100*20),e()})}).then(()=>{if(!e.error){if(e.imageUrl){let t=new URL(e.imageUrl);t.hostname="m.media-amazon.com",t.protocol="https",e.imageUrl=t.href}this.data=e,this.setDimensions()}}).catch(e=>{this.serverError=!0,console.error("%c⇒ error","color: #FF5370",e)}).finally(()=>{this.loading=!1}),e.error&&(this.serverError=!0))}).then();const e=s(".h10-calc-tooltip").not(".h10-ext-link");e.hasClass("tooltipstered")||e.tooltipster({contentCloning:!0,maxWidth:300});const t=s(".h10-calc-tooltip.h10-ext-link");t.hasClass("tooltipstered")||t.tooltipster({content:`Amazon's (est. 15%) slotting fee, based on sale price. <br>\n                        For exact fee %: <a class="h10-tooltip-link" href="${this.getSellerCentralHelpLink()}" target="_blank">\n                        ${this.getSellerCentralHelpLink()}\n                </a>`,contentAsHTML:!0,trackOrigin:!0,maxWidth:400,interactive:!0})},computed:{shippingWeight(){return this._shippingWeight(this.data.width,this.data.height,this.data.length,this.data.weight,this.storage)},storage(){return this._storage(this.data.length,this.data.width,this.data.height,this.data.weight)},sizeTier(){let e="Special Oversize";switch(this.storage){case 1:e="Small Standard-Size";break;case 2:e="Large Standard-Size";break;case 3:e="Small Oversize";break;case 4:e="Medium Oversize";break;case 5:e="Large Oversize"}return e},storageFeeRate(){let e;return e=!(1===this.storage||2===this.storage),r.includes(this.selectedCategories)?e?{js:.78,od:2.43}:{js:.99,od:3.63}:e?{js:.48,od:1.2}:{js:.75,od:2.4}},storageFeeJS(){return this.round(this.round(this.storageFeeRate.js*this.data.length*this.data.width*this.data.height/12/12/12)*this.meta.months)},storageFeeOD(){return this.round(this.round(this.storageFeeRate.od*this.data.length*this.data.width*this.data.height/12/12/12)*this.meta.months)},fbaFee(){return this._fbaFee(this.storage,this.shippingWeight)},unitFreightCost(){let e=0;switch(this.meta.freightType){case"cm":e=this.round(this.meta.estFreightCost*this.data.length*this.data.height*this.data.width*.0254*.0254*.0254);break;case"ci":e=this.round(this.meta.estFreightCost*this.data.length*this.data.height*this.data.width/12/12/12);break;case"kg":e=this.round(this.meta.estFreightCost*this.data.weight*.453592);break;case"lb":e=this.round(this.meta.estFreightCost*this.data.weight)}return e<.01?.01:e},refFee(){const e=this.round(Number(this.referralFee/100*this.price));return e>this.minReferralFee?e:this.minReferralFee},netProfitJS(){return this.round(this.finalPrice-this.meta.unitManufacturingCost-this.unitFreightCost-this.refFee-this.fbaFee-this.storageFeeJS)},netProfitOD(){return this.round(this.finalPrice-this.meta.unitManufacturingCost-this.unitFreightCost-this.refFee-this.fbaFee-this.storageFeeOD)},marginJS(){return 0!==this.finalPrice?this.round(this.netProfitJS/this.finalPrice*100):0},marginOD(){return 0!==this.finalPrice?this.round(this.netProfitOD/this.finalPrice*100):0},roiJS(){return this.round(100*this.netProfitJS/(this.meta.unitManufacturingCost+this.unitFreightCost+this.storageFeeJS))},roiOD(){return this.round(100*this.netProfitOD/(this.meta.unitManufacturingCost+this.unitFreightCost+this.storageFeeOD))},priceWithOtherCost(){switch(this.meta.otherCostType){case"percent":return this.price-this.otherCost*this.price/100;case"dollars":return this.price-this.otherCost;default:return this.price}},finalPrice(){let e=this.priceWithOtherCost;return this.round(e)}},methods:{_shippingWeight(e,t,i,s){let n=this.round(e*t*i/139),a=.25;(this.storage<=2&&s<=1||6===this.storage)&&(n=s),(this.storage<=2&&s>1||this.storage>=3&&this.storage<6)&&s>n&&(n=s),this.storage>=3&&(a=1);const r=Math.round(100*(n+a))/100;return isNaN(r)?0:r<1?r:Math.ceil(r)},_storage(e,t,i,s){let n=6;const a=this.round(e*t*i/139);const r=[e,t,i].sort((function(e,t){return e-t})),[o,l,c]=r;return s<=.75&&c<=15&&l<=12&&o<=.75?n=1:(s<=1?s:a)<=20&&c<=18&&l<=14&&o<=8?n=2:(s>=a?s:a)<=70&&c<=60&&l<=30&&2*o+2*l+c<=130?n=3:(s>=a?s:a)<=150&&c<=108&&2*l+2*o+c<=130?n=4:(s>=a?s:a)<=150&&c<=108&&2*l+2*o+c<=165&&(n=5),n},_fbaFee(e,t){let i;switch(o=l[this.selectedCategories],e){case 1:if(t<=.625){i=o.smallStandard._10orLess.fulfillmentFeePerUnit;break}if(t<=1){i=o.smallStandard._10to16.fulfillmentFeePerUnit;break}i=o.smallStandard._10to16.fulfillmentFeePerUnit;break;case 2:if(t<=.625){i=o.largeStandard._10ozOrLess.fulfillmentFeePerUnit;break}if(t<=1){i=o.largeStandard._10to16oz.fulfillmentFeePerUnit;break}if(t<=2){i=o.largeStandard._1to2lb.fulfillmentFeePerUnit;break}if(t<=3){i=o.largeStandard._2to3lb.fulfillmentFeePerUnit;break}i=o.largeStandard._3to21lb.fulfillmentFeePerUnit.cost+.38*(t-3);break;case 3:{const e=o.smallOversize.fulfillmentFeePerUnit.cost;if(t<=2){i=e;break}i=e+.38*(t-2);break}case 4:{const e=o.mediumOversize.fulfillmentFeePerUnit.cost;if(t<=2){i=e;break}i=e+.39*(t-2);break}case 5:{const e=o.largeOversize.fulfillmentFeePerUnit.cost;if(t<=90){i=e;break}i=e+.79*(t-90);break}case 6:{const e=o.specialOversize.fulfillmentFeePerUnit.cost;if(t<=90){i=e;break}i=e+.91*(t-90);break}}return this.round(i)},round(e,t){if("number"==typeof e)return t=t||2,+(Math.round(Number(e+"e+"+t))+"e-"+t)},async getPrice(e,t){const i=`https://www.amazon.com/gp/aw/ybh/handlers/rvi-faceouts.html?asins=${btoa(e)}&types=CustomerViewedItems&positions=1&deviceType=desktop`,a=/\$([0-9.]+)/;try{const e=await fetch(i,{method:"GET",credentials:"same-origin"}),n=await e.json(),r=s(n[Object.keys(n)[0]]).find(".p13n-sc-price").text().trim().replace(/,/,"");t(null,r.match(a)?parseFloat(r.match(a)[1]):0)}catch(e){n.a.config.debug&&console.log("%c⇒ getPrice error","color: #FF5370",e)}},async fetch(e,t){a.d?t(this.getFormattedData(a.d),e):chrome.runtime.sendMessage({type:"get-calculator-data",params:{asin:e,marketplaceId:Object(a.m)()}},i=>{i.error?t(i,e):t(this.getFormattedData(i),e)})},getFormattedData:function(e){let t;if(e.status)t={width:this.round(e.packageDimensions.width),height:this.round(e.packageDimensions.height),length:this.round(e.packageDimensions.length),weight:this.round(e.packageDimensions.weight),imageUrl:e.productThumb,title:e.title};else{let i;switch(e.errorCode){case 1:i="Invalid ASIN";break;case 2:i="To unleash the power of Helium 10 please log in or create an account.";break;default:i="Unknown Error"}t={error:!0,errorMessage:i},n.a.config.debug&&console.log("%c⇒ Error","color: #89DDF7",i)}return t},setDimensions:function(){const e=[this.data.length,this.data.width,this.data.height];[this.data.height,this.data.width,this.data.length]=e.sort((e,t)=>e-t)},isPositive:e=>e>0,isNegative:e=>e<0,resetData(){Object.assign(this.$data,c())},changeImageFormat(){this.data.imageUrl=this.data.imageUrl.replace(".jpg",".png")},getSellerCentralHelpLink(){let e;switch(Object(a.l)()){case"de":e="https://sellercentral.amazon.es/gp/help/external/help.html?itemID=GYND54PM5WB84UM&language=es_ES&ref=efph_GYND54PM5WB84UM_cont_200336920";break;case"it":e="https://sellercentral.amazon.es/gp/help/external/help.html?itemID=TM7BFLLKEA8T7C4&language=es_ES&ref=efph_TM7BFLLKEA8T7C4_cont_200336920";break;case"fr":e="https://sellercentral.amazon.es/gp/help/external/help.html?itemID=F9K4BWLZXRPC62U&language=es_ES&ref=efph_F9K4BWLZXRPC62U_cont_200336920";break;case"es":e="https://sellercentral.amazon.es/gp/help/external/help.html?itemID=CZC4GX2L32EKP6F&language=es_ES&ref=efph_CZC4GX2L32EKP6F_cont_200336920";break;case"co.uk":e="https://sellercentral.amazon.co.uk/gp/help/external/help.html?itemID=H78LW99F4XF3Z38&language=en_GB&ref=efph_H78LW99F4XF3Z38_cont_200336920";break;default:e="https://sellercentral.amazon.com/gp/help/external/200336920"}return e}},filters:{formatNumber(e){if(isNaN(e))return 0;let t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}}})}).call(this,i(14),i(3))},2:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));let s={config:{isDEV:!1,debug:!1,sendRequestToBackend:!1,reloadTabsOnInstall:["*://www.amazon.com/*","*://www.amazon.com.mx/*","*://www.amazon.co.uk/*","*://www.amazon.ca/*","*://www.amazon.fr/*","*://www.amazon.de/*","*://www.amazon.it/*","*://www.amazon.es/*","*://www.amazon.in/*","*://www.helium10.com/*","*://members.helium10.com/*"],mainWindow:{title:"Helium 10",historyTableSize:-1,pullHistoryRecordInsteadOfNewScrapingAfter:864e5},profileScraper:{cacheDuration:6048e5},backend:{baseUrl:"https://members.helium10.com",token:"f884da2fb80f785c49152c85f8db14775588f226",processQueueInterval:3e3},memberAccountUrl:"https://members.helium10.com",homepageUrl:"https://helium10.com",modules:{allTools:{url:"/"}}}}},20:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return f}));var n=i(2),a=i(0),r=i(24);const o=Object(a.l)();let l=r;const c={de:(()=>{const e=new Date("07-01-2020").getTime(),t=new Date("01-01-2021").getTime(),i=(new Date).getTime();return i>e&&i<t?16:19})(),es:21,fr:20,it:22,uk:20,ca:5},h=e=>{let t="€";return"co.uk"===e&&(t="£"),"in"===e&&(t="₹"),"ca"===e&&(t="CDN$"),"com.mx"===e&&(t="$"),t},d=e=>"ca"!==e&&"com.mx"!==e&&"in"!==e,p=e=>{let t;return t="in"===e?a.x.in:"ca"===e?a.x.ca:a.x.eu,t},u=e=>{let t;return t="co.uk"===e?"uk":"com.mx"===e?"mx":e,t},g=e=>{const t="in"!==e&&"mx"!==e;return{storageTitle:"Estimate of Amazon's monthly storage fee based on product dimensions "+(t?"(VAT not included)":""),fbaTitle:"Estimated total Amazon fees for packing and shipping the individual product "+(t?"(VAT not included)":"")}};function m(){return{fbaData:r,data:{},price:0,meta:{months:1,unitManufacturingCost:0,otherCostType:"percent",estFreightCost:180,freightType:"cm"},amazonUrl:`https://sellercentral.amazon.${o}/fba/profitabilitycalculator/productmatches?searchKey=%asin%&language=${a.f[o]}&profitcalcToken={token}`,asin:null,referralFee:15,minReferralFee:"co.uk"===o?.25:.3,canadianMinReferralFee:.4,vat:null,shippingWeight:0,otherCost:0,marketplace:u(o),marketplaceDomain:o,location:"in"===o?l.indianLocationFulfilment.amazonFba:l.LocationFulfilment.local,storageFee:null,isEuMarketplace:d(o),fulfilmentFee:0,currency:h(o),volumeUnit:"co.uk"===o?"feet":"metres",loading:!0,serverError:!1,selectedCategories:"standard",indianShippingType:l.indianShippingTypes.local,indianGSTax:l.indianGSTax,indianGST:18,isStorageFeeHaveVariants:"in"!==o,fbaProgramMaxWeight:3e4,indianNationalShippingMaxWeight:12e3,indianShippingFee:0,mexicanWeightWithPackage:0,referralFeePercentage:p(o),indianGSTFeeValue:0,isVat:"in"!==o&&"mx"!==o,titles:g(o),indianFeeWithoutTax:0,canadianCategory:l.canadianCategoryList[0],canadianCategoryList:l.canadianCategoryList}}let f=new e({template:'\x3c!--suppress CheckTagEmptyBody --\x3e\n        <div id="helium-calc-app" class="fba-calc-eu">\n        <div class="helium-calc-app-header">\n            <div class="helium-calc-app-thumb">\n                <img v-if="data.imageUrl"\n                     :src="data.imageUrl"\n                     class="helium-calc-app-thumb-img"\n                     :alt="data.title"\n                     @error="changeImageFormat()">\n            </div>\n            <div class="helium-calc-app-title">{{ data.title }}</div>\n            <div v-if="serverError" class="helium-calc-warning">\n                Sorry something went wrong. <br>\n                You can enter data manually\n            </div>\n            <div v-if="loading" class="timeline-wrapper">\n                <div class="timeline-item">\n                    <div class="animated-background">\n                        <div class="background-masker vertical-line"></div>\n                        <div class="background-masker line-one"></div>\n                        <div class="background-masker line-two"></div>\n                        <div class="background-masker right-two"></div>\n                        <div class="background-masker line-three"></div>\n                        <div class="background-masker right-three"></div>\n                        <div class="background-masker line-four"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="helium-calc-app-table">\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Dimensions\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Product’s length x width x height"></i>\n                </div>\n                <div class="calc-app-col">\n                    <input type="number"\n                           min="0"\n                           step="0.01"\n                           class="helium-calc-app-input"\n                           v-model.number="data.length"> x\n                    <input type="number"\n                           min="0"\n                           step="0.01"\n                           class="helium-calc-app-input"\n                           v-model.number="data.width"> x\n                    <input type="number"\n                           min="0"\n                           step="0.01"\n                           class="helium-calc-app-input mr-0"\n                           v-model.number="data.height"> cm\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Weight\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Total weight of product and packaging"></i>\n                </div>\n                <div class="calc-app-col">\n                    <input type="number"\n                           min="0"\n                           step="0.01"\n                           class="helium-calc-app-input"\n                           v-model.number="data.weight"> kg\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Outbound Shipping Weight\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Estimated total weight for individual product, in kilograms, per shipping size tier"></i>\n                </div>\n                <div class="calc-app-col">{{ shippingWeight / 1000 | formatNumber }} kg</div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Size Tier\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Product’s FBA shipping size tier"></i>\n                </div>\n                <div class="calc-app-col">{{ sizeTier }}</div>\n            </div>\n            <div class="helium-calc-app-row-divider"></div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Price\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Selling price (including VAT)"></i>\n                </div>\n                <div class="calc-app-col">\n                    {{ currency }}<input type="number"\n                                         min="0"\n                                         step="0.01"\n                                         class="helium-calc-app-input mr-0"\n                                         v-model.number="price">\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Est. Time in Storage\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Length of time a product is stored in Amazon’s warehouse"></i>\n                </div>\n                <div class="calc-app-col">\n                    <input type="number"\n                           min="0"\n                           step="any"\n                           class="helium-calc-app-input"\n                           v-model.number="meta.months"> mths\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Unit Manufacturing Cost (estimated)\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Per unit cost of making a product, including labor, materials and overhead"></i>\n                </div>\n                <div class="calc-app-col">\n                    {{ currency }}<input type="number" min="0" step="0.01"\n                                         class="helium-calc-app-input mr-0"\n                                         v-model.number="meta.unitManufacturingCost">\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">\n                    Est. Freight Cost\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Estimated individual product transportation cost from supplier to Amazon warehouse"></i>\n                    <select class="helium-calc-app-input" v-model="meta.freightType">\n                        <option value="cm">per cubic meter</option>\n                        <option value="ci">per cubic foot</option>\n                        <option value="kg">per kilogram</option>\n                        <option value="lb">per pound</option>\n                    </select>\n                </div>\n                <div class="calc-app-col">\n                    {{ currency }}<input type="number"\n                                         min="0"\n                                         step="0.01"\n                                         class="helium-calc-app-input mr-0"\n                                         v-model.number="meta.estFreightCost">\n                </div>\n            </div>\n            <div class="helium-calc-app-row-divider"></div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Unit Freight Cost\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Est. freight cost per item"></i>\n                </div>\n                <div class="calc-app-col">{{ currency }} {{ unitFreightCost | formatNumber }}</div>\n            </div>\n            <div v-if="isEuMarketplace" class="helium-calc-app-row">\n                <div class="calc-app-col">Shipping Method\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Delivery options in EU"></i>\n                </div>\n                <div class="calc-app-col">\n                    <select class="helium-calc-app-input mr-0" v-model="location">\n                        <option :value="fbaData.LocationFulfilment.local">Local</option>\n                        <option :value="fbaData.LocationFulfilment.panEuropean">Pan-European FBA</option>\n                        <option :value="fbaData.LocationFulfilment.efn">European Fulfilment Network</option>\n                    </select>\n                </div>\n            </div>\n            <div v-if="marketplaceDomain === \'in\'" class="helium-calc-app-row">\n                <div class="calc-app-col">Shipping Method\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Delivery options in IN"></i>\n                </div>\n                <div class="calc-app-col">\n                    <select class="helium-calc-app-input mr-0" v-model="location">\n                        <option :value="fbaData.indianLocationFulfilment.easyShip">Easy ship</option>\n                        <option :value="fbaData.indianLocationFulfilment.amazonFba">Amazon FBA</option>\n                    </select>\n                </div>\n            </div>\n            <div v-if="marketplaceDomain === \'in\'" \n                 class="helium-calc-app-row">\n                <div class="calc-app-col">Shipping Type\n                    <i class="fa fa-info-circle h10-calc-tooltip" title="Delivery type in India"></i>\n                </div>\n                <div class="calc-app-col">\n                    <select class="helium-calc-app-input mr-0" v-model="indianShippingType">\n                        <option :value="fbaData.indianShippingTypes.local">Local</option>\n                        <option :value="fbaData.indianShippingTypes.regional">Regional</option>\n                        <option v-if="shippingWeight < indianNationalShippingMaxWeight" \n                                :value="fbaData.indianShippingTypes.national">National</option>\n                    </select>\n                </div>\n            </div>\n            <div v-if="marketplaceDomain === \'in\'" class="helium-calc-app-row">\n                <div class="calc-app-col">Shipping Fee\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Indian shipping fee"></i>\n                </div>\n                <div class="calc-app-col">{{ currency }} {{ indianShippingFee | formatNumber }}\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Storage Fee \n                    <span v-if="isStorageFeeHaveVariants">(Jan.-Sep. / Oct.-Dec.)</span>\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       :title="titles.storageTitle"></i>\n                    <select v-if="isEuMarketplace" class="helium-calc-app-input" v-model="selectedCategories">\n                        <option value="standard">Most goods</option>\n                        <option value="clothingShoesBags">Clothes</option>\n                    </select>\n                </div>\n                <div class="calc-app-col">{{ currency }} {{ storageFeeJS | formatNumber }}\n                    <span v-if="isStorageFeeHaveVariants"> /{{ storageFeeOD | formatNumber }}</span>\n                </div>\n            </div>\n            <div v-if="marketplaceDomain === \'in\'" class="helium-calc-app-row">\n                <div class="calc-app-col">GST Tax\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Indian GST Tax"\n                    ></i>\n                    <select class="helium-calc-app-input" v-model="indianGST">\n                        <option v-for="option in indianGSTax" v-bind:value="option">\n                            {{ option }}%\n                        </option>\n                    </select>\n                </div>\n                <div class="calc-app-col">{{ currency }} {{ indianGSTFeeValue | formatNumber }}</div>\n            </div>\n            <div v-if="marketplaceDomain !== \'in\'" class="helium-calc-app-row">\n                <div class="calc-app-col">FBA Fee\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       :title="titles.fbaTitle"></i>\n                </div>\n                <div v-if="!isEuMarketplace || shippingWeight <= fbaProgramMaxWeight"\n                     class="calc-app-col">{{ currency }} {{ fbaFee | formatNumber }}\n                </div>\n                <div v-if="isEuMarketplace && shippingWeight > fbaProgramMaxWeight">\n                    FBA is unavailable, exceed 30kg limit\n                </div>\n            </div>\n            <div v-if="marketplaceDomain === \'ca\'" class="helium-calc-app-row">\n                <div class="calc-app-col">Category\n                    <i class="fa fa-info-circle h10-calc-tooltip h10-ext-link"></i>\n                    <select class="helium-calc-app-input" v-model="canadianCategory">\n                        <option v-for="option in canadianCategoryList" v-bind:value="option">\n                            {{ option.title }}\n                        </option>\n                    </select>\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Referral Fee\n                    <i class="fa fa-info-circle h10-calc-tooltip h10-ext-link"></i>\n                    <select class="helium-calc-app-input" v-model="referralFee">\n                        <option v-for="option in referralFeePercentage" v-bind:value="option">\n                            {{ option }}%\n                        </option>\n                    </select>\n                </div>\n                <div class="calc-app-col">{{ currency }} {{ refFee | formatNumber }}</div>\n            </div>\n            <div v-if="marketplaceDomain === \'in\'" class="helium-calc-app-row">\n                <div class="calc-app-col">FBA Fee\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       :title="titles.fbaTitle"></i>\n                </div>\n                <div class="calc-app-col">\n                        <span>\n                            without tax: {{ currency }} {{ indianFeeWithoutTax }} /</span>\n                        {{ currency }} {{ fbaFee | formatNumber }}\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Other Costs\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Additional expenses not yet included"></i>\n                    <select class="helium-calc-app-input" v-model="meta.otherCostType">\n                        <option value="percent">%</option>\n                        <option value="dollars">{{ currency }}</option>\n                    </select>\n                </div>\n                <div class="calc-app-col">\n                    <input type="number"\n                           step="0.01"\n                           min="0"\n                           class="helium-calc-app-input mr-0"\n                           v-model.number="otherCost">\n                </div>\n            </div>\n            <div v-if="marketplaceDomain !== \'in\' && marketplaceDomain !== \'com.mx\'" class="helium-calc-app-row">\n                <div class="calc-app-col">VAT (%)\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Value-added--or goods and services--tax (varies by country)"></i>\n                </div>\n                <div class="calc-app-col">\n                    <input type="number"\n                           step="1"\n                           min="0"\n                           class="helium-calc-app-input mr-0"\n                           value="0"\n                           v-model.number="vat">\n                </div>\n            </div>\n            <div class="helium-calc-app-row-divider"></div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Net \n                    <span v-if="isStorageFeeHaveVariants">(Jan.-Sep. / Oct.-Dec.)</span>\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Estimated revenue after discounts and returns"></i>\n                </div>\n                <div class="calc-app-col">\n                    {{ currency }}\n                    <span\n                        :class="isPositive(netProfitJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                        {{ loading ? 0 : netProfitJS | formatNumber }}\n                    </span>\n                    <span\n                        v-if="isStorageFeeHaveVariants"\n                        :class="isPositive(netProfitOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                        / {{ loading ? 0 : netProfitOD | formatNumber }}\n                    </span>\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">Margin \n                    <span v-if="isStorageFeeHaveVariants">(Jan.-Sep. / Oct.-Dec.)</span>\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Estimated percentage of the sale price that becomes profit"></i>\n                </div>\n                <div class="calc-app-col">\n                <span :class="isPositive(marginJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                    {{ !loading || price !== 0 ? marginJS : \'0\' | formatNumber }}\n                </span>\n                <span\n                    v-if="isStorageFeeHaveVariants"\n                    :class="isPositive(marginOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                    / {{ !loading || price !== 0 ? marginOD : \'0\' | formatNumber }}\n                </span> %\n                </div>\n            </div>\n            <div class="helium-calc-app-row">\n                <div class="calc-app-col">ROI \n                    <span v-if="isStorageFeeHaveVariants">(Jan.-Sep. / Oct.-Dec.)</span>\n                    <i class="fa fa-info-circle h10-calc-tooltip"\n                       title="Estimated percentage of financial return on total investment"></i>\n                </div>\n                <div class="calc-app-col">\n                <span :class="(isPositive(roiJS) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\')">\n                    {{ loading ? 0 : roiJS | formatNumber }}\n                </span>\n                <span\n                    v-if="isStorageFeeHaveVariants"\n                    :class="isPositive(roiOD) ? \'helium-calc-app-is-positive\' : \'helium-calc-app-is-negative\'">\n                    / {{ loading ? 0 : roiOD | formatNumber }}\n                </span> %\n                </div>\n            </div>\n            <div v-if="loading" class="helium-calc-overlay"></div>\n        </div>\n        </div>',data:()=>m(),mounted(){this.predefinedAsin?this.asin=this.predefinedAsin:this.asin=Object(a.h)(),this.fetch(this.asin,(e,t)=>{this.asin!==t||Object.keys(this.data).length||(this.price=0,new Promise(e=>{this.getPrice(this.asin,(t,i)=>{if(t)throw t;this.price=i,this.meta.unitManufacturingCost=this.round(this.price/100*20),e()})}).then(()=>{if(!e.error){if(e.imageUrl){let t=new URL(e.imageUrl);t.hostname="m.media-amazon.com",t.protocol="https",e.imageUrl=t.href}this.data=e,this.setDimensions()}}).catch(e=>{this.serverError=!0,console.error("%c⇒ error","color: #FF5370",e)}).finally(()=>{this.loading=!1}),e.error&&(this.serverError=!0))}),this.getVAT();const e=s(".h10-calc-tooltip").not(".h10-ext-link");e.hasClass("tooltipstered")||e.tooltipster({contentCloning:!0,maxWidth:300});const t=s(".h10-calc-tooltip.h10-ext-link");t.hasClass("tooltipstered")||t.tooltipster({content:`Amazon's (est. 15%) slotting fee, based on sale price <br> ${this.isVat?"(VAT not included).":""} \n                        For exact fee %: <a class="h10-tooltip-link" href="${this.getSellerCentralHelpLink()}" target="_blank">\n                        ${this.getSellerCentralHelpLink()}\n                </a>`,contentAsHTML:!0,trackOrigin:!0,maxWidth:400,interactive:!0})},computed:{sizeTier(){let e=this._sizeTier(this.data.length,this.data.width,this.data.height,this.data.weight);return"in"===this.marketplace&&(e=this._indianSizeTier(this.data.length,this.data.width,this.data.height,this.data.weight)),"ca"===this.marketplace&&(e=this._canadianSizeTier(this.data.length,this.data.width,this.data.height,this.data.weight)),"mx"===this.marketplace&&(e=this._mexicanSizeTier(this.data.length,this.data.width,this.data.height,this.data.weight)),e},storageFeeJS(){return this.storageFee?this.round(this.meta.months*this.averageVolume(this.data.length,this.data.width,this.data.height,this.volumeUnit)*this.storageFee.JAN_SEP[this.marketplace]):0},storageFeeOD(){return this.storageFee?this.round(this.meta.months*this.averageVolume(this.data.length,this.data.width,this.data.height,this.volumeUnit)*this.storageFee.OCT_DEC[this.marketplace]):0},fbaFee(){let e;return e="in"===this.marketplaceDomain?this._indianFbaFee():"com.mx"===this.marketplaceDomain?this._mexicanFbaFee():this._fbaFee(),e},refFee(){if("ca"===o){const e=this.round(Number(this.referralFee/100*this.price));return this.canadianCategory.isMinimalFee&&e<this.canadianMinReferralFee?this.canadianMinReferralFee:e}{const e=this.round(Number(this.referralFee/100*this.price));return e>this.minReferralFee?e:this.minReferralFee}},unitFreightCost(){let e=0;switch(this.meta.freightType){case"cm":e=this.round(this.meta.estFreightCost*this.data.length*this.data.height*this.data.width*.01*.01*.01);break;case"ci":e=this.round(this.meta.estFreightCost*this.data.length*this.data.height*this.data.width*.0328084*.0328084*.0328084);break;case"kg":e=this.round(this.meta.estFreightCost*this.data.weight);break;case"lb":e=this.round(this.meta.estFreightCost*this.data.weight*.453)}return e<.01?.01:e},netProfitJS(){return this.round(this.finalPrice-this.fbaFee-this.refFee-this.storageFeeJS-this.unitFreightCost-this.meta.unitManufacturingCost)||0},netProfitOD(){return this.round(this.finalPrice-this.fbaFee-this.refFee-this.storageFeeOD-this.unitFreightCost-this.meta.unitManufacturingCost)||0},marginJS(){return 0!==this.finalPrice?this.round(this.netProfitJS/this.finalPrice*100):0},marginOD(){return 0!==this.finalPrice?this.round(this.netProfitOD/this.finalPrice*100):0},roiJS(){return this.round(100*this.netProfitJS/(this.meta.unitManufacturingCost+this.unitFreightCost+this.storageFeeJS))||0},roiOD(){return this.round(100*this.netProfitOD/(this.meta.unitManufacturingCost+this.unitFreightCost+this.storageFeeOD))||0},calcPriceWithVAT(){return this.round(this.price/(1+this.vat/100))},priceWithOtherCost(){switch(this.meta.otherCostType){case"percent":return this.price-this.otherCost*this.price/100;case"dollars":return this.price-this.otherCost;default:return this.price}},finalPrice(){let e=this.priceWithOtherCost-(this.price-this.calcPriceWithVAT);return this.round(e)}},methods:{_sizeTier(e,t,i,s){s*=1e3;const n=this.sortDimensions({length:e,width:t,height:i});let a=l.SizeTiers.largeOversize;const r=l.sizeTiersValues.standardSize,o=l.sizeTiersValues.oversize;return s<=r.smallEnvelope.shippingWeight&&n.length<=r.smallEnvelope.length&&n.width<=r.smallEnvelope.width&&n.height<=r.smallEnvelope.height?a=l.SizeTiers.smallEnvelope:s<=r.standardEnvelope.shippingWeight&&n.length<=r.standardEnvelope.length&&n.width<=r.standardEnvelope.width&&n.height<=r.standardEnvelope.height?a=l.SizeTiers.standardEnvelope:s<=r.largeEnvelope.shippingWeight&&n.length<=r.largeEnvelope.length&&n.width<=r.largeEnvelope.width&&n.height<=r.largeEnvelope.height?a=l.SizeTiers.largeEnvelope:s<=r.standardParcel.shippingWeight&&n.length<=r.standardParcel.length&&n.width<=r.standardParcel.width&&n.height<=r.standardParcel.height?a=l.SizeTiers.standardParcel:s<=o.smallOversize.shippingWeight&&n.length<=o.smallOversize.length&&n.width<=o.smallOversize.width&&n.height<=o.smallOversize.height?a=l.SizeTiers.smallOversize:s<=o.standardOversize.shippingWeight&&n.length<=o.standardOversize.length&&n.width<=o.standardOversize.width&&n.height<=o.standardOversize.height&&(a=l.SizeTiers.standardOversize),a},_canadianSizeTier(e,t,i,s){const n=100,a=250,r=500;let o=l.canadaSizeTiers.oversize;const c=l.canadaSizeTierValues,h=e*t*i/5,d=1e3*s,p=Math.max(h,d);let u=Math.ceil((p+c.oversize.packagingWeight)/r)*r;const g=this.sortDimensions({length:e,width:t,height:i});return p<=c.envelope.weight&&g.length<=c.envelope.length&&g.height<=c.envelope.height&&g.width<=c.envelope.width?(o=l.canadaSizeTiers.envelope,u=Math.ceil((p+c.envelope.packagingWeight)/n)*n):p<=c.standard.weight&&g.length<=c.standard.length&&g.height<=c.standard.height&&g.width<=c.standard.width?(o=l.canadaSizeTiers.standard,u=Math.ceil((p+c.standard.packagingWeight(p))/a)*a):(g.length>270||s>69||g.length+2*(g.width+g.height)>419)&&(o=l.canadaSizeTiers.specialOversize,u=Math.ceil((p+c.oversize.packagingWeight)/r)*r),this.shippingWeight=u,o},_indianSizeTier(e,t,i,s){let n=l.indianSizeTiers.heavy;const a=l.indianSizeTierValues,r=1e3*s,o=this.sortDimensions({length:e,width:t,height:i}),c=e*t*i/5,h=Math.max(r,c),d=o.length+2*(o.width+o.height);let p=h+a.oversize.packagingWeight;return r<=a.small.weight&&o.length<=a.small.length&&o.height<=a.small.height&&o.width<=a.small.width?(n=l.indianSizeTiers.small,p=r+a.small.packagingWeight):r<=a.standard.weight&&o.length<=a.standard.length&&o.height<=a.standard.height&&o.width<=a.standard.width?(p=r>1e3?h+a.standard.packagingWeight:r+a.standard.packagingWeight,n=l.indianSizeTiers.standard):r<=a.oversize.weight&&o.length<=a.oversize.length&&d<a.oversize.girth&&(n=l.indianSizeTiers.oversize,p=h+a.oversize.packagingWeight),this.shippingWeight=Math.round(p),n},_mexicanSizeTier(e,t,i,s){let n=l.mexicanSizeTiers.oversize;const a=l.mexicanSizeTierValues,r=l.mexicanPackagingWeight,o=1e3*s,c=e*t*i/5,h=Math.max(o,c);let d=r.oversize(h);this.mexicanWeightWithPackage=h+d;let p=500*Math.ceil((h+d)/500);const u=this.sortDimensions({length:e,width:t,height:i}),g=this.roundDimensions(u);return o<=a.envelope.weight&&g.length<=a.envelope.length&&g.height<=a.envelope.height&&g.width<=a.envelope.width?(n=l.mexicanSizeTiers.envelope,d=r.envelope(o),this.mexicanWeightWithPackage=o+d,p=500*Math.ceil((o+d)/500)):o<=a.standard.weight&&g.length<=a.standard.length&&g.height<=a.standard.height&&g.width<=a.standard.width&&(n=l.mexicanSizeTiers.standard,o>500?(d=r.standard(h),this.mexicanWeightWithPackage=h+d,p=500*Math.ceil(this.mexicanWeightWithPackage/500)):(d=r.standard(o),this.mexicanWeightWithPackage=o+d,p=500*Math.ceil(this.mexicanWeightWithPackage/500))),this.shippingWeight=p,n},_fbaFee(){const e=1e3*this.data.weight||0;let t,i;switch(this.location===l.LocationFulfilment.local&&(t=l.standardLocalPEFba,i=l.oversizeLocalFee),this.location===l.LocationFulfilment.efn&&(t=l.standardEFN,i=l.oversizeEFN),this.location===l.LocationFulfilment.panEuropean&&(t=l.standardLocalPEFba,i=l.oversizePEFba),this.sizeTier){case l.SizeTiers.smallEnvelope:this.storageFee=l.storageFee[this.selectedCategories],this.shippingWeight=e+l.sizeTiersValues.standardSize.smallEnvelope.packagingWeight,this.fulfilmentFee=t.smallEnvelope[this.marketplace];break;case l.SizeTiers.standardEnvelope:this.storageFee=l.storageFee[this.selectedCategories],this.shippingWeight=e+l.sizeTiersValues.standardSize.standardEnvelope.packagingWeight,this.shippingWeight<=100?this.fulfilmentFee=t.standardEnvelope[100][this.marketplace]:this.shippingWeight<=250?this.fulfilmentFee=t.standardEnvelope[250][this.marketplace]:this.shippingWeight<=500&&(this.fulfilmentFee=t.standardEnvelope[500][this.marketplace]);break;case l.SizeTiers.largeEnvelope:this.storageFee=l.storageFee[this.selectedCategories],this.shippingWeight=e+l.sizeTiersValues.standardSize.largeEnvelope.packagingWeight,this.fulfilmentFee=t.largeEnvelope[this.marketplace];break;case l.SizeTiers.standardParcel:this.storageFee=l.storageFee[this.selectedCategories],this.shippingWeight=e+l.sizeTiersValues.standardSize.standardParcel.packagingWeight,this.shippingWeight<=250?this.fulfilmentFee=t.standardParcel[250][this.marketplace]:this.shippingWeight<=500?this.fulfilmentFee=t.standardParcel[500][this.marketplace]:this.shippingWeight<=1e3?this.fulfilmentFee=t.standardParcel[1e3][this.marketplace]:this.shippingWeight<=1500?this.fulfilmentFee=t.standardParcel[1500][this.marketplace]:this.shippingWeight<=2e3?this.fulfilmentFee=t.standardParcel[2e3][this.marketplace]:this.shippingWeight<=3e3?this.fulfilmentFee=t.standardParcel[3e3][this.marketplace]:this.shippingWeight<=4e3?this.fulfilmentFee=t.standardParcel[4e3][this.marketplace]:this.shippingWeight<=5e3?this.fulfilmentFee=t.standardParcel[5e3][this.marketplace]:this.shippingWeight<=6e3?this.fulfilmentFee=t.standardParcel[6e3][this.marketplace]:this.shippingWeight<=7e3?this.fulfilmentFee=t.standardParcel[7e3][this.marketplace]:this.shippingWeight<=8e3?this.fulfilmentFee=t.standardParcel[8e3][this.marketplace]:this.shippingWeight<=9e3?this.fulfilmentFee=t.standardParcel[9e3][this.marketplace]:this.shippingWeight<=1e4?this.fulfilmentFee=t.standardParcel[1e4][this.marketplace]:this.shippingWeight<=11e3?this.fulfilmentFee=t.standardParcel[11e3][this.marketplace]:this.shippingWeight<=12e3&&(this.fulfilmentFee=t.standardParcel[12e3][this.marketplace]);break;case l.SizeTiers.smallOversize:this.storageFee=l.storageFee.oversize,this.shippingWeight=e+l.sizeTiersValues.oversize.smallOversize.packagingWeight,this.shippingWeight<=1e3?this.fulfilmentFee=i.small[1e3][this.marketplace]:this.shippingWeight<=1250?this.fulfilmentFee=i.small[1250][this.marketplace]:this.shippingWeight<=1500?this.fulfilmentFee=i.small[1500][this.marketplace]:this.shippingWeight<=1750?this.fulfilmentFee=i.small[1750][this.marketplace]:this.shippingWeight<=2e3&&(this.fulfilmentFee=i.small[2e3][this.marketplace]);break;case l.SizeTiers.standardOversize:this.storageFee=l.storageFee.oversize,this.shippingWeight=e+l.sizeTiersValues.oversize.standardOversize.packagingWeight,this.shippingWeight<=1e3?this.fulfilmentFee=i.standard[1e3][this.marketplace]:this.shippingWeight<=2e3?this.fulfilmentFee=i.standard[2e3][this.marketplace]:this.shippingWeight<=3e3?this.fulfilmentFee=i.standard[3e3][this.marketplace]:this.shippingWeight<=4e3?this.fulfilmentFee=i.standard[4e3][this.marketplace]:this.shippingWeight<=5e3?this.fulfilmentFee=i.standard[5e3][this.marketplace]:this.shippingWeight<=6e3?this.fulfilmentFee=i.standard[6e3][this.marketplace]:this.shippingWeight<=7e3?this.fulfilmentFee=i.standard[7e3][this.marketplace]:this.shippingWeight<=8e3?this.fulfilmentFee=i.standard[8e3][this.marketplace]:this.shippingWeight<=9e3?this.fulfilmentFee=i.standard[9e3][this.marketplace]:this.shippingWeight<=1e4?this.fulfilmentFee=i.standard[1e4][this.marketplace]:this.shippingWeight<=15e3?this.fulfilmentFee=i.standard[15e3][this.marketplace]:this.shippingWeight<=2e4?this.fulfilmentFee=i.standard[2e4][this.marketplace]:this.shippingWeight<=25e3?this.fulfilmentFee=i.standard[25e3][this.marketplace]:this.shippingWeight<=3e4&&(this.fulfilmentFee=i.standard[3e4][this.marketplace]);break;case l.SizeTiers.largeOversize:this.storageFee=l.storageFee.oversize,this.shippingWeight=e+l.sizeTiersValues.oversize.largeOversize.packagingWeight,this.shippingWeight<=5e3?this.fulfilmentFee=i.large[5][this.marketplace]:this.shippingWeight<=1e4?this.fulfilmentFee=i.large[10][this.marketplace]:this.shippingWeight<=15e3?this.fulfilmentFee=i.large[15][this.marketplace]:this.shippingWeight<=2e4?this.fulfilmentFee=i.large[20][this.marketplace]:this.shippingWeight<=25e3?this.fulfilmentFee=i.large[25][this.marketplace]:this.shippingWeight<=3e4&&(this.fulfilmentFee=i.large[30][this.marketplace]);break;case l.canadaSizeTiers.envelope:this.storageFee=l.storageFee.standard,this.fulfilmentFee=l.canadaFbaCalc.envelope(this.shippingWeight);break;case l.canadaSizeTiers.standard:this.storageFee=l.storageFee.standard,this.fulfilmentFee=l.canadaFbaCalc.standard(this.shippingWeight);break;case l.canadaSizeTiers.oversize:this.storageFee=l.storageFee.oversize,this.fulfilmentFee=l.canadaFbaCalc.oversize(this.shippingWeight);break;case l.canadaSizeTiers.specialOversize:this.storageFee=l.storageFee.oversize,this.fulfilmentFee=l.canadaFbaCalc.specialOversize(this.shippingWeight)}return this.fulfilmentFee},_indianFbaFee(){let e;if(this.location===l.indianLocationFulfilment.easyShip){switch(this.sizeTier){case l.indianSizeTiers.small:case l.indianSizeTiers.standard:e=l.indianEasyShipFeeCalc.standard(this.shippingWeight,this.indianShippingType,this.price);break;case l.indianSizeTiers.oversize:e=l.indianEasyShipFeeCalc.oversize(this.shippingWeight,this.indianShippingType,this.price);break;case l.indianSizeTiers.heavy:e=l.indianEasyShipFeeCalc.heavy(this.shippingWeight,this.indianShippingType,this.price)}this.storageFee=0}if(this.location===l.indianLocationFulfilment.amazonFba){switch(this.sizeTier){case l.indianSizeTiers.small:e=l.indianAmazonFbaFeeCalc.small(this.shippingWeight,this.indianShippingType,this.price);break;case l.indianSizeTiers.standard:e=l.indianAmazonFbaFeeCalc.standard(this.shippingWeight,this.indianShippingType,this.price);break;case l.indianSizeTiers.oversize:e=l.indianAmazonFbaFeeCalc.oversize(this.shippingWeight,this.indianShippingType,this.price);break;case l.indianSizeTiers.heavy:e=l.indianAmazonFbaFeeCalc.heavy(this.shippingWeight,this.indianShippingType,this.price)}this.storageFee=l.storageFee.standard}this.indianShippingFee=e.shippingFee,this.fulfilmentFee=e.fba+this.refFee,this.indianFeeWithoutTax=this.fulfilmentFee.toFixed(2);const t=this.fulfilmentFee*(this.indianGST/100);this.indianGSTFeeValue=t.toFixed(2);return(this.fulfilmentFee+t).toFixed(2)},_mexicanFbaFee(){this.data.weight;const e=l.mexicanSizeTiers;switch(this.sizeTier){case e.envelope:this.fulfilmentFee=l.mexicanFBA.envelope(this.mexicanWeightWithPackage),this.storageFee=l.storageFee.standard;break;case e.standard:this.fulfilmentFee=l.mexicanFBA.standard(this.mexicanWeightWithPackage),this.storageFee=l.storageFee.standard;break;case e.oversize:this.fulfilmentFee=l.mexicanFBA.oversize(this.mexicanWeightWithPackage),this.storageFee=l.storageFee.oversize}return this.fulfilmentFee},round:function(e,t){return t=t||2,+(Math.round(Number(e+"e+"+t))+"e-"+t)},getPrice(e,t){const i=`https://www.amazon.${o}/gp/aw/ybh/handlers/rvi-faceouts.html?asins=${btoa(e)}&types=CustomerViewedItems&positions=1&deviceType=desktop`,a=/(\d+[.,]?(?:\d+)?)/,r=/(?<=\d)[,.\s](?=\d+[.,])/;s.ajax({url:i,dataType:"text"}).then(e=>{const i=s(JSON.parse(e)[Object.keys(JSON.parse(e))[0]]).find(".p13n-sc-price").first().text().replace(r,""),o=i.match(a)?parseFloat(i.match(a)[1].replace(/,/,".")):0;n.a.config.debug&&console.log("%cprice","color: #1DE9B6",o),t(null,o)})},async fetch(e,t){a.d?t(this.getFormattedData(a.d),e):chrome.runtime.sendMessage({type:"get-calculator-data",params:{asin:e,marketplaceId:Object(a.m)()}},i=>{i.error?t(i,e):t(this.getFormattedData(i),e)})},getFormattedData(e){let t;if(e.status)t={width:this.round(e.packageDimensions.width),height:this.round(e.packageDimensions.height),length:this.round(e.packageDimensions.length),weight:this.round(e.packageDimensions.weight,3),imageUrl:e.productThumb,title:e.title};else{let i;switch(e.errorCode){case 1:i="Invalid ASIN";break;case 2:i="To unleash the power of Helium 10 please log in or create an account.";break;default:i="Unknown Error"}t={error:!0,errorMessage:i},n.a.config.debug&&console.log("%c⇒ Error","color: #89DDF7",i)}return t},setDimensions(){const e=[this.round(this.data.length),this.round(this.data.width),this.round(this.data.height)];[this.data.height,this.data.width,this.data.length]=e.sort((e,t)=>e-t)},roundDimensions:e=>({length:Math.round(e.length),width:Math.round(e.width),height:Math.round(e.height)}),sortDimensions(e){const t=[e.length,e.width,e.height],[i,s,n]=t.sort((e,t)=>e-t);return{length:n,width:s,height:i}},averageVolume(e,t,i,s){switch(s){case"feet":return Number((e*t*i/l.cubicFtDivisor).toFixed(5))||0;case"metres":return Number((e*t*i/1e6).toFixed(5))||0;default:return null}},isPositive:e=>e>0,isNegative:e=>e<0,getVAT(){const e=window.location.origin.split(".").reverse()[0];Object.keys(c).includes(e)&&(this.vat=c[e])},resetData(){Object.assign(this.$data,m())},changeImageFormat(){this.data.imageUrl=this.data.imageUrl.replace(".jpg",".png")},getSellerCentralHelpLink(){let e;switch(o){case"de":e="https://sellercentral.amazon.de/gp/help/external/GYND54PM5WB84UM";break;case"it":e="https://sellercentral.amazon.it/gp/help/external/TM7BFLLKEA8T7C4";break;case"fr":e="https://sellercentral.amazon.fr/gp/help/external/F9K4BWLZXRPC62U";break;case"es":e="https://sellercentral.amazon.es/gp/help/external/CZC4GX2L32EKP6F";break;case"co.uk":e="https://sellercentral.amazon.co.uk/gp/help/external/H78LW99F4XF3Z38";break;case"ca":e="https://sellercentral.amazon.ca/gp/help/external/200336920";break;case"in":e="https://sellercentral.amazon.in/gp/help/external/G200336920";break;default:e="https://sellercentral.amazon.com.mx/gp/help/external/200336920"}return e}},filters:{formatNumber(e){if(isNaN(e))return 0;let t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}}})}).call(this,i(14),i(3))},24:function(e,t,i){"use strict";i.r(t),i.d(t,"standardLocalPEFba",(function(){return s})),i.d(t,"standardEFN",(function(){return n})),i.d(t,"oversizeLocalFee",(function(){return a})),i.d(t,"oversizePEFba",(function(){return r})),i.d(t,"oversizeEFN",(function(){return o})),i.d(t,"mexicanFBA",(function(){return l})),i.d(t,"sizeTiersValues",(function(){return c})),i.d(t,"canadaSizeTierValues",(function(){return h})),i.d(t,"mexicanSizeTierValues",(function(){return d})),i.d(t,"mexicanPackagingWeight",(function(){return p})),i.d(t,"canadaFbaCalc",(function(){return u})),i.d(t,"indianEasyShipSizeTierValues",(function(){return g})),i.d(t,"indianSizeTierValues",(function(){return m})),i.d(t,"indianShippingTypes",(function(){return f})),i.d(t,"calcEasyShipClosingFee",(function(){return v})),i.d(t,"calcAmazonFbaClosingFee",(function(){return b})),i.d(t,"indianEasyShipFeeCalc",(function(){return y})),i.d(t,"indianGSTax",(function(){return _})),i.d(t,"indianAmazonFbaFeeCalc",(function(){return C})),i.d(t,"storageFee",(function(){return F})),i.d(t,"cubicFtDivisor",(function(){return z})),i.d(t,"referralFeePercentage",(function(){return P})),i.d(t,"vat",(function(){return T})),i.d(t,"SizeTiers",(function(){return A})),i.d(t,"indianSizeTiers",(function(){return O})),i.d(t,"indianEasyShipSizeTiers",(function(){return D})),i.d(t,"canadaSizeTiers",(function(){return N})),i.d(t,"mexicanSizeTiers",(function(){return R})),i.d(t,"LocationFulfilment",(function(){return E})),i.d(t,"indianLocationFulfilment",(function(){return M})),i.d(t,"canadianCategoryList",(function(){return j})),i.d(t,"VolumeUnits",(function(){return I}));const s={smallEnvelope:{uk:1.38,de:1.63,fr:2.24,it:2.59,es:2.13,ca:2.1},standardEnvelope:{100:{uk:1.51,de:1.79,fr:2.37,it:2.72,es:2.37,ca:2.1},250:{uk:1.66,de:1.92,fr:3,it:3.01,es:2.65,ca:2.1},500:{uk:1.76,de:2.04,fr:3.37,it:3.19,es:2.85,ca:2.1}},largeEnvelope:{uk:2.21,de:2.4,fr:3.95,it:3.44,es:2.97,ca:2.1},standardParcel:{250:{uk:2.18,de:2.53,fr:3.94,it:3.52,es:2.82,ca:2.1},500:{uk:2.32,de:2.81,fr:4.59,it:3.94,es:3.3,ca:2.1},1e3:{uk:2.49,de:3.22,fr:5.32,it:4.59,es:3.6,ca:2.1},1500:{uk:2.65,de:3.76,fr:5.51,it:4.94,es:4.05,ca:2.1},2e3:{uk:2.9,de:4.09,fr:5.62,it:5.16,es:4.11,ca:2.1},3e3:{uk:4.14,de:4.57,fr:6.9,it:5.98,es:4.67,ca:2.1},4e3:{uk:4.53,de:4.95,fr:7.34,it:6.7,es:5.58,ca:2.1},5e3:{uk:4.62,de:5.02,fr:7.36,it:7.11,es:5.64,ca:2.1},6e3:{uk:5.28,de:5.41,fr:7.99,it:7.96,es:6.04,ca:2.1},7e3:{uk:5.28,de:5.41,fr:7.99,it:7.96,es:6.04,ca:2.1},8e3:{uk:5.42,de:5.55,fr:8.19,it:8.22,es:6.19,ca:2.1},9e3:{uk:5.42,de:5.55,fr:8.19,it:8.25,es:6.19,ca:2.1},1e4:{uk:5.42,de:5.55,fr:8.19,it:8.42,es:6.19,ca:2.1},11e3:{uk:5.43,de:5.74,fr:8.24,it:8.42,es:6.19,ca:2.1},12e3:{uk:5.63,de:5.75,fr:8.25,it:8.44,es:6.2,ca:2.1}}},n={smallEnvelope:{uk:3.71,de:4.13,fr:4.13,it:4.13,es:4.13},standardEnvelope:{100:{uk:3.86,de:4.3,fr:4.3,it:4.3,es:4.3},250:{uk:4.14,de:4.6,fr:4.6,it:4.6,es:4.6},500:{uk:4.2,de:4.67,fr:4.67,it:4.67,es:4.67}},largeEnvelope:{uk:4.5,de:5,fr:5,it:5,es:5},standardParcel:{250:{uk:4.52,de:5.02,fr:5.02,it:5.02,es:5.02},500:{uk:5.52,de:6.13,fr:6.13,it:6.13,es:6.13},1e3:{uk:6.5,de:7.23,fr:7.23,it:7.23,es:7.23},1500:{uk:7.14,de:7.94,fr:7.94,it:7.94,es:7.94},2e3:{uk:8.18,de:9.09,fr:9.09,it:9.09,es:9.09},3e3:{uk:9.1,de:10.12,fr:10.12,it:10.12,es:10.12},4e3:{uk:9.92,de:11.03,fr:11.03,it:11.03,es:11.03},5e3:{uk:10.42,de:11.58,fr:11.58,it:11.58,es:11.58},6e3:{uk:10.42,de:11.58,fr:11.58,it:11.58,es:11.58},7e3:{uk:10.42,de:11.58,fr:11.58,it:11.58,es:11.58},8e3:{uk:11.02,de:12.25,fr:12.25,it:12.25,es:12.25},9e3:{uk:11.3,de:12.56,fr:12.56,it:12.56,es:12.56},1e4:{uk:13.52,de:15.03,fr:15.03,it:15.03,es:15.03},11e3:{uk:13.52,de:15.03,fr:15.03,it:15.03,es:15.03},12e3:{uk:13.52,de:15.03,fr:15.03,it:15.03,es:15.03}}},a={small:{1e3:{uk:4.08,de:5.33,fr:7.48,it:7.8,es:5.31},1250:{uk:4.55,de:5.45,fr:7.75,it:7.98,es:5.31},1500:{uk:4.91,de:5.49,fr:7.84,it:8.26,es:5.76},1750:{uk:5,de:5.49,fr:7.84,it:8.31,es:5.76},2e3:{uk:5.06,de:5.57,fr:8.36,it:8.36,es:5.97}},standard:{1e3:{uk:4.97,de:5.33,fr:7.52,it:8.26,es:5.35},2e3:{uk:5.29,de:5.57,fr:8.59,it:8.4,es:5.97},3e3:{uk:5.4,de:6.5,fr:9.02,it:8.41,es:6.61},4e3:{uk:5.43,de:6.55,fr:9.4,it:8.99,es:6.67},5e3:{uk:5.47,de:6.55,fr:9.46,it:9.03,es:6.89},6e3:{uk:6.46,de:6.76,fr:10.02,it:10.02,es:8.76},7e3:{uk:6.52,de:6.86,fr:10.13,it:10.02,es:8.92},8e3:{uk:6.55,de:6.91,fr:10.19,it:10.16,es:9.19},9e3:{uk:6.55,de:6.91,fr:10.19,it:10.22,es:9.73},1e4:{uk:6.58,de:6.94,fr:10.24,it:10.28,es:10.13},15e3:{uk:7,de:7.53,fr:10.94,it:11.39,es:10.9},2e4:{uk:7.35,de:8,fr:11.5,it:11.74,es:11.83},25e3:{uk:8.14,de:9.06,fr:11.5,it:12.49,es:11.83},3e4:{uk:8.14,de:9.06,fr:12.81,it:13.12,es:13.14}},large:{5:{uk:8.26,de:7.11,fr:13.12,it:11.05,es:7.92},10:{uk:9.96,de:8.2,fr:15.91,it:12.58,es:11.65},15:{uk:10.53,de:8.78,fr:16.84,it:13.86,es:12.59},20:{uk:11.03,de:9.28,fr:17.67,it:14.31,es:13.6},25:{uk:12.01,de:10.27,fr:19.31,it:16.05,es:14.75},30:{uk:12.04,de:10.29,fr:19.77,it:16.15,es:16.92}}},r={small:{1e3:{uk:4.89,de:5.33,fr:9.48,it:9.8,es:7.31},1250:{uk:5.35,de:5.45,fr:9.75,it:9.98,es:7.31},1500:{uk:5.7,de:5.49,fr:9.84,it:10.26,es:7.76},1750:{uk:5.79,de:5.49,fr:9.84,it:10.31,es:7.76},2e3:{uk:5.85,de:5.57,fr:10.36,it:10.36,es:7.97}},standard:{1e3:{uk:5.76,de:5.33,fr:9.52,it:10.26,es:7.35},2e3:{uk:6.08,de:5.57,fr:10.59,it:10.4,es:7.97},3e3:{uk:6.18,de:6.5,fr:11.02,it:10.41,es:8.61},4e3:{uk:6.21,de:6.55,fr:11.4,it:10.99,es:8.67},5e3:{uk:6.25,de:6.55,fr:11.46,it:11.03,es:8.89},6e3:{uk:7.22,de:6.76,fr:12.02,it:12.02,es:10.76},7e3:{uk:7.28,de:6.86,fr:12.13,it:12.02,es:10.92},8e3:{uk:7.31,de:6.91,fr:12.19,it:12.16,es:11.19},9e3:{uk:7.31,de:6.91,fr:12.19,it:12.22,es:11.73},1e4:{uk:7.34,de:6.94,fr:12.24,it:12.28,es:12.13},15e3:{uk:7.75,de:7.53,fr:12.94,it:13.39,es:12.9},2e4:{uk:8.1,de:8,fr:13.5,it:13.74,es:13.83},25e3:{uk:8.87,de:9.06,fr:13.5,it:14.49,es:13.83},3e4:{uk:8.87,de:9.06,fr:14.81,it:15.12,es:15.14}},large:{5:{uk:8.99,de:7.11,fr:15.12,it:13.05,es:9.92},10:{uk:10.65,de:8.2,fr:17.91,it:14.58,es:13.65},15:{uk:11.21,de:8.78,fr:18.84,it:15.86,es:14.59},20:{uk:11.7,de:9.28,fr:19.67,it:16.31,es:15.6},25:{uk:12.66,de:10.27,fr:21.31,it:18.05,es:16.75},30:{uk:12.69,de:10.29,fr:21.77,it:18.15,es:18.92}}},o={small:{1e3:{uk:9.97,de:11.08,fr:11.08,it:11.08,es:11.08},1250:{uk:10.28,de:11.43,fr:11.43,it:11.43,es:11.43},1500:{uk:10.32,de:11.47,fr:11.47,it:11.47,es:11.47},1750:{uk:10.37,de:11.53,fr:11.53,it:11.53,es:11.53},2e3:{uk:10.4,de:11.56,fr:11.56,it:11.56,es:11.56}},standard:{1e3:{uk:11.69,de:13,fr:13,it:13,es:13},2e3:{uk:12.03,de:13.38,fr:13.38,it:13.38,es:13.38},3e3:{uk:12.84,de:14.27,fr:14.27,it:14.27,es:14.27},4e3:{uk:12.91,de:14.35,fr:14.35,it:14.35,es:14.35},5e3:{uk:13.01,de:14.46,fr:14.46,it:14.46,es:14.46},6e3:{uk:14.27,de:15.87,fr:15.87,it:15.87,es:15.87},7e3:{uk:14.39,de:16,fr:16,it:16,es:16},8e3:{uk:14.39,de:16,fr:16,it:16,es:16},9e3:{uk:14.39,de:16,fr:16,it:16,es:16},1e4:{uk:14.72,de:16.37,fr:16.37,it:16.37,es:16.37},15e3:{uk:15.61,de:17.35,fr:17.35,it:17.35,es:17.35},2e4:{uk:16.98,de:18.88,fr:18.88,it:18.88,es:18.88},25e3:{uk:18.21,de:20.24,fr:20.24,it:20.24,es:20.24},3e4:{uk:18.47,de:20.54,fr:20.54,it:20.54,es:20.54}},large:{5:{uk:18.07,de:20.09,fr:20.09,it:20.09,es:20.09},10:{uk:21.64,de:24.06,fr:24.06,it:24.06,es:24.06},15:{uk:23,de:25.57,fr:25.57,it:25.57,es:25.57},20:{uk:25.36,de:28.2,fr:28.2,it:28.2,es:28.2},25:{uk:27.52,de:30.6,fr:30.6,it:30.6,es:30.6},30:{uk:27.52,de:30.6,fr:30.6,it:30.6,es:30.6}}},l={envelope:e=>{let t=0;return e<=250?t=53.65:e<=500&&(t=54.37),t.toFixed(2)},standard:e=>{let t=0;return e<=250?t=57.09:e<=500?t=57.15:e<=1e3?t=62.65:e<=2e3?t=66.7:e<=5e3?t=76.21:(t=76.21,t+=2.8*Math.ceil((e-5e3)/500)),t.toFixed(2)},oversize:e=>{let t=0;return e<=1e3?t=75.38:e<=2e3?t=80.99:e<=5e3?t=88.25:(t=88.25,t+=3.13*Math.ceil((e-5e3)/500)),t.toFixed(2)}},c={standardSize:{smallEnvelope:{length:20,width:15,height:1,shippingWeight:100,packagingWeight:20},standardEnvelope:{length:33,width:23,height:2.5,shippingWeight:500,packagingWeight:40},largeEnvelope:{length:33,width:23,height:5,shippingWeight:1e3,packagingWeight:40},standardParcel:{length:45,width:34,height:26,shippingWeight:12e3,packagingWeight:100}},oversize:{smallOversize:{length:61,width:46,height:46,shippingWeight:2e3,packagingWeight:240},standardOversize:{length:120,width:60,height:60,shippingWeight:3e4,packagingWeight:240},largeOversize:{length:150,width:null,height:null,shippingWeight:3e4,packagingWeight:240}}},h={envelope:{length:38,width:27,height:2,weight:500,packagingWeight:25},standard:{length:45,width:35,height:20,weight:9e3,packagingWeight:e=>{let t;return t=e<250?40:e<500?60:125,t}},oversize:{packagingWeight:500},specialOversize:{length:270,girth:419,weight:69}},d={envelope:{length:38,width:27,height:2,weight:500},standard:{length:45,width:35,height:20,weight:9e3}},p={envelope:e=>{let t;return e<=250?t=25:e<=500&&(t=50),t},standard:e=>{let t;return t=e<=250?50:e<500?75:125,t},oversize:e=>{let t;return t=e<=1e3?300:500,t}},u={envelope:e=>{let t=3.37;return t+=.31*Math.ceil((e-100)/100),t.toFixed(2)},standard:e=>{let t=0;return e<=250?t=5.44:e<=500?t=5.57:e<=1e3?t=6.4:e<=1500?t=7.06:(t=7.06,t+=.43*Math.ceil((e-1500)/500)),t.toFixed(2)},oversize:e=>{let t=9.71;return t+=.44*Math.ceil((e-1e3)/500),t.toFixed(2)},specialOversize:e=>{let t=9.71;return t+=.44*Math.ceil((e-1e3)/500),t+=125,t.toFixed(2)}},g={standard:{weight:5e3},oversize:{weight:12e3}},m={small:{length:30.48,width:20.32,height:10.16,weight:1e3,packagingWeight:80},standard:{length:50.8,width:40.64,height:25.4,weight:12e3,packagingWeight:100},oversize:{length:183,girth:300,weight:22500,packagingWeight:500},heavy:{packagingWeight:500}},f={local:"local",regional:"regional",national:"national"},v=e=>e<=250?2:e<=500?5:e<=1e3?25:50,b=e=>e<=250?25:e<=500?20:e<=1e3?12:26,y={standard:(e,t,i)=>{let s=0;t===f.local&&(s+=38),t===f.regional&&(s+=46),t===f.national&&(s+=66),e>=1e3&&(t===f.local&&(s+=16),e>1e3&&(s+=10*(Math.ceil(e/1e3)-1)),t===f.regional&&(s+=21),e>1e3&&(s+=15*(Math.ceil(e/1e3)-1)),t===f.national&&(s+=25),e>1e3&&(s+=20*(Math.ceil(e/1e3)-1)));const n=s;return s+=v(i),{fba:s,shippingFee:n.toFixed(2)}},oversize:(e,t,i)=>{let s=0;t===f.local&&(s+=101),t===f.regional&&(s+=116),t===f.national&&(s+=166),e>5e3&&(t===f.local&&(s+=10*(Math.ceil(e/1e3)-5)),t===f.regional&&(s+=11*(Math.ceil(e/1e3)-5)),t===f.national&&(s+=14*(Math.ceil(e/1e3)-5)));const n=s;return s+=v(i),{fba:s,shippingFee:n.toFixed(2)}},heavy:(e,t,i)=>{let s=0;t===f.local&&(s+=241),t===f.regional&&(s+=321),e>12e3&&(t===f.local&&(s+=3*(Math.ceil(e/1e3)-12)),t===f.regional&&(s+=4*(Math.ceil(e/1e3)-12)));const n=s;return s+=v(i),{fba:s,shippingFee:n.toFixed(2)}}},w=10,k=10,S=25,x=50,_=[3,5,12,18,28,40,88],C={small:(e,t,i)=>{let s=0;t===f.local?(s+=28,e>500&&(s+=16,e>1e3&&(s+=10*Math.ceil((e-1e3)/1e3)))):t===f.regional?(s+=36,e>500&&(s+=21,e>1e3&&(s+=15*Math.ceil((e-1e3)/1e3)))):t===f.national&&(s+=56,e>500&&(s+=25,e>1e3&&(s+=20*Math.ceil((e-1e3)/1e3))));const n=s;return s+=b(i),s+=w,{fba:s,shippingFee:n.toFixed(2)}},standard:(e,t,i)=>{let s=0;t===f.local?(s+=28,e>500&&(s+=16,e>1e3&&(s+=10*Math.ceil((e-1e3)/1e3)))):t===f.regional?(s+=36,e>500&&(s+=21,e>1e3&&(s+=15*Math.ceil((e-1e3)/1e3)))):t===f.national&&(s+=56,e>500&&(s+=25,e>1e3&&(s+=20*Math.ceil((e-1e3)/1e3))));const n=s;return s+=b(i),s+=k,{fba:s,shippingFee:n.toFixed(2)}},oversize:(e,t,i)=>{let s=0;t===f.local?(s+=67,e>5e3&&(s+=10*(Math.ceil(e/1e3)-5))):t===f.regional?(s+=82,e>5e3&&(s+=11*(Math.ceil(e/1e3)-5))):t===f.national&&(s+=132,e>5e3&&(s+=14*(Math.ceil(e/1e3)-5)));const n=s;return s+=b(i),s+=S,{fba:s,shippingFee:n.toFixed(2)}},heavy:(e,t,i)=>{let s=0;t===f.local?(s+=161,e>12e3&&(s+=3*(Math.ceil(e/1e3)-12))):t===f.regional&&(s+=241,e>12e3&&(s+=4*(Math.ceil(e/1e3)-12)));const n=s;return s+=b(i),s+=x,{fba:s,shippingFee:n.toFixed(2)}}},F={standard:{JAN_SEP:{uk:.66,de:26,fr:26,it:26,es:26,ca:24,in:706,mx:310},OCT_DEC:{uk:.93,de:36,fr:36,it:36,es:36,ca:33,in:706,mx:440}},clothingShoesBags:{JAN_SEP:{uk:.4,de:15.6,fr:15.6,it:15.6,es:15.6},OCT_DEC:{uk:.56,de:21.6,fr:21.6,it:21.6,es:21.6}},oversize:{JAN_SEP:{uk:.46,de:18,fr:18,it:18,es:18,ca:17,mx:310},OCT_DEC:{uk:.64,de:25,fr:25,it:25,es:25,ca:23,mx:440}}},z=28316.84,P=15,T={uk:20,de:19,fr:20,it:22,es:21};let A;!function(e){e.smallEnvelope="Standard-size small envelope",e.standardEnvelope="Standard-size envelope",e.largeEnvelope="Standard-size large envelope",e.standardParcel="Standard-size parcel",e.smallOversize="Small oversize",e.standardOversize="Standard oversize",e.largeOversize="Large oversize"}(A||(A={}));const O={small:"Small Size",standard:"Standard Size",oversize:"Oversize",heavy:"Heavy and Bulky"},D={standard:"Standard Size",oversize:"Oversize",heavy:"Heavy and Bulky"},N={envelope:"Envelope",standard:"Standard-Size",oversize:"Oversize",specialOversize:"Oversize Special"},R={envelope:"Envelope",standard:"Standard",oversize:"Oversize"};let E;!function(e){e.local="local",e.efn="efn",e.panEuropean="panEuropean"}(E||(E={}));const M={easyShip:"easyShip",amazonFba:"amazonFba"},j=[{title:"Everything Else",isMinimalFee:!0},{title:"Amazon Device Accessories",isMinimalFee:!0},{title:"Baby",isMinimalFee:!0},{title:"Books",isMinimalFee:!1},{title:"Camera and Photo",isMinimalFee:!0},{title:"Cell Phones",isMinimalFee:!0},{title:"Consumer Electronics",isMinimalFee:!0},{title:"DVDs",isMinimalFee:!1},{title:"Electronics Accessories",isMinimalFee:!0},{title:"Furniture",isMinimalFee:!0},{title:"Home & Garden",isMinimalFee:!0},{title:"Industrial & Scientific",isMinimalFee:!0},{title:"Music",isMinimalFee:!1},{title:"Musical Instruments",isMinimalFee:!0},{title:"Office Products",isMinimalFee:!0},{title:"Personal Computers",isMinimalFee:!0},{title:"Software & Computer Games",isMinimalFee:!1},{title:"Sports & Outdoors",isMinimalFee:!0},{title:"Tools & Home Improvement",isMinimalFee:!0},{title:"Toys & Games",isMinimalFee:!0},{title:"Video Game Consoles",isMinimalFee:!1},{title:"Video Games",isMinimalFee:!1},{title:"Videos",isMinimalFee:!1},{title:"Automotive & Powersports",isMinimalFee:!0},{title:"Beauty",isMinimalFee:!0},{title:"Clothing & Accessories",isMinimalFee:!0},{title:"Grocery & Gourmet Food",isMinimalFee:!0},{title:"Health & Personal Care",isMinimalFee:!0},{title:"Jewellery",isMinimalFee:!0},{title:"Luggage & Bags",isMinimalFee:!0},{title:"Major Appliances",isMinimalFee:!0},{title:"Shoes & Handbags",isMinimalFee:!0},{title:"Watches",isMinimalFee:!0},{title:"Extended Warranties",isMinimalFee:!1}];let I;!function(e){e.feet="feet",e.metres="metres"}(I||(I={}))},25:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return g}));var s=i(2),n=i(4),a=i(9),r=i.n(a),o=i(23),l=i.n(o),c=i(174),h=i.n(c),d=i(0);let p;function u(t){const i=e("#zg_centerListWrapper").length||e("#zg-center-div").length;if(!t&&!i)return!1;if(Object(d.h)())return!1;let a,r="search";if(t){a=e("#s-result-count").text()||e(".s-desktop-toolbar span").first().text(),a=a.replace(/(\d+-\d*)/,"");const t=a.match(/(\d+(?:[.,\s]\d+)?)/);a=t?t[1].replace(/[,.\s]/,""):-1,a=parseInt(a,10),s.a.config.debug&&console.log("%c⇒ resultsNumber","color: #82AAFF",a)}i&&(t=-1,a=100,r="bestseller");const o=Object(n.d)().rows().data();let l=[],c=0;o.each((function(e){l.push({asin:e.ASIN,price:e.Price.value,fees:e.Margin.value,fulfillment:e.Fulfillment,salesCount:e.Sales.value,rating:e.Rating,reviews:e.Reviews,isSponsored:e.isSponsored?1:0,revenue:e.Revenue.value}),e.isLimit&&c++}));const h=e("#h10-bb-viability-score");if(h.addClass("h10-bb-viability-score-column"),!s.a.config.isDEV){const t=e("#h10-success-score-container");if(0===e("#h10-success-score-container .h10-bb-summary-labels").length){const i=e('<div class="h10-bb-summary-labels">Success Score (beta)</div>');i.tooltipster({content:"Likelihood of successful as 0-5 star rating and 0-100 numeric score."}),t.append(i),h.addClass("h10-p-score")}}if(c>l.length/2)h.html(" "),h.append(" (n/a)");else{const i={keyword:t,products:l,resultsNumber:a,source:r,marketplace:Object(d.m)()};chrome.runtime.sendMessage({type:"get-black-box-viability-score",params:i},t=>{try{if("success"!==t.status)throw t;{e("#h10-bb-activity-indicator").hide(),h.html(" ");const i=Math.round(t.score/10);h.html("<span></span>");let n=0;for(;n<i;)n+=2,n<=i?e("#h10-bb-viability-score span").append('<i class="fa fa-star" ></i>'):e("#h10-bb-viability-score span").append('<i class="fa fa-star-half-o" ></i>');if(n<10){const t=(10-n)/2;for(let i=0;i<t;i++)e("#h10-bb-viability-score span").append('<i class="fa fa-star-o" ></i>')}h.append(" ("+t.score+")"),t.message&&e("#h10-bb-viability-score span").tooltipster({content:t.message,contentAsHTML:!0,trackOrigin:!0,maxWidth:400,interactive:!0,delay:200});const a=[{title:"Sales: Average",description:"Low demand"},{title:"Price: Standard Deviation",description:"Extreme variation in pricing."},{title:"Number of sponsored results",description:"No sponsored products indicate restricted, or declining niche."},{title:"Review Count: Standard Deviation",description:"Market dominated by small group of sellers. Mature, or restricted market."},{title:"FBA fee %, average",description:"Significant distribution and fulfillment cost."},{title:"Price : Average",description:"Low cost, low profit niche."},{title:"Number of competing products",description:"Too few competing products. Search term too narrow, or very high barrier to entry."},{title:"Seller distribution (AMZ vs MFN vs FBA)",description:"Significant presence of MFN indicates logistical challenges."}];if(s.a.config.isDEV){const i=t.list&&t.list.map(e=>({score:e.impact,title:e.title,description:e.description}));let s=[];a.forEach(e=>{const t=i.find(t=>t.title===e.title);s.push(t||{score:0,...e})}),function(t){const i=document.getElementById("h10-success-score-container");e(".h10-chart-container").remove();const s=document.createElement("div");s.className="h10-chart-container",i.appendChild(s),t.forEach((t,i)=>{const n="score-"+i;let a=document.createElement("div");a.id=n,e(a).tooltipster({content:`<h4>${t.title}</h4><p>${t.description}</p>`,contentAsHTML:!0,maxWidth:200,delay:200}),s.appendChild(a),m(n,t,!0)})}(s)}}}catch(t){if(console.log("%cMulti factor score fetch error","color: #FF4081",t),e("#h10-bb-activity-indicator").hide(),h.html(" "),"error"===t.status){for(let t=0;t<5;t++)e("#h10-bb-viability-score").append('<i class="fa fa-question-circle-o " ></i>');h.append(" (n/a)"),console.log(t.errMsg)}}})}}function g(t){try{v(t).then(t=>{const{score:i,revenueCount:a,reviewsCount:r}=b(t),o=e("#h10-bb-viability-score");o.html("").addClass("relative");let l=`<div class="h10-score-result">\n                                       <div class="h10-score-value">${y(i.id)}</div>\n                                       <div class="h10-related-keywords">Related Keywords</div>\n                                   </div>`;o.append(l);!function(t){const i=t,s=document.getElementById("h10-success-score-container");s.classList.add("two-factor-score"),e(".h10-chart-container").remove();const n=document.createElement("div");n.className="h10-chart-container",s.appendChild(n),i.forEach((t,i)=>{const s="score-"+i;let a=document.createElement("div");a.id=s,e(a).tooltipster({content:`<p>${t.description}</p>`,contentAsHTML:!0,maxWidth:200,delay:200}),n.appendChild(a),m(s,t,!1)})}([{score:a,description:`${a} of the top 10 products has revenue over ${n.c.successScore.revenue}`},{score:r,description:`${r} of the top 10 products has review under ${n.c.successScore.reviews}`}]);const c=e('input[name="field-keywords"]').val();p={score:i,keyword:c},e("#suggestions-score-popup").remove(),e("#h10-bb-viability-score").append(`<div class="suggestions-score-popup" id="suggestions-score-popup">\n            <div class="suggestions-score-popup-header">\n                <h3>Related Keywords</h3>\n                <div class="h10-original-search">\n                    <div class="h10-label">Original Search</div>\n                    <div class="h10-row">\n                        <div class="h10-col h10-keyword">${p.keyword}</div>\n                        <div class="h10-col h10-score">\n                            ${y(p.score.id)}\n                        </div>\n                        <div class="h10-col h10-score-title">\n                            ${p.score.title}\n                        </div>\n                    </div>\n                </div>\n                <div class="h10-popup-close"></div>\n            </div>\n            <div class="suggestions-score-popup-body">\n                <div id="h10-score-loader" class="h10-score-loader"><i class="fa fa-spinner fa-pulse"></i></div>            \n            </div>\n        </div>`),function(){let t=!0;const i=e("#suggestions-score-popup");e(".h10-related-keywords").on("click",(function(){i.hasClass("show")?i.removeClass("show"):(t&&(!function(t){let i;const n=document.cookie.match(new RegExp("(^| )session-id=([^;]+)"));n&&(i=n[2]);const a=Object(d.m)(),r=Object(d.l)(),o="com"===r||"ca"===r||"com.mx"===r?"com":"co.uk",l={"session-id":i,"page-type":"Search",lop:d.f[Object(d.l)()],"site-variant":"desktop",mid:a,alias:"aps",prefix:t,limit:11,"suggestion-type":"KEYWORD"};chrome.runtime.sendMessage({type:"get-suggestions",params:l,domain:o},t=>{try{if(e("#h10-score-loader").remove(),t.suggestions){const i=t.suggestions.filter(e=>!e.scopes&&e.value!==p.keyword);if(s.a.config.debug&&console.log("%c⇒ suggestions","color: #82AAFF",i),0===i.length){const t=e('<div class="h10-row">\n                                                    <div class="h10-col h10-keyword">No suggestions</div>\n                                                </div>');e("#suggestions-score-popup .suggestions-score-popup-body").append(t)}i.forEach(t=>{const i=t.value,n=`https://amazon.${r}/s?k=${i.replace(" ","+")}`,a=e(`<div class="h10-row">\n                                                    <div class="h10-col h10-keyword">\n                                                        <a class="h10-search-link" href="${n}" target="_blank">${i}</a>\n                                                    </div>\n                                                    <div class="h10-col h10-score"><i class="fa fa-pulse fa-spinner"></i></div>\n                                                    <div class="h10-col h10-score-title"></div>\n                                                </div>`);e("#suggestions-score-popup .suggestions-score-popup-body").append(a);let o={k:i};chrome.runtime.sendMessage({type:"get-search-keyword-page",params:o,domain:r},e=>{try{let t=document.implementation.createHTMLDocument("amazon");t.documentElement.innerHTML=e;const i=function(e){try{let t;e.querySelectorAll('[data-component-type="s-search-results"] .s-result-list').forEach(e=>{e.querySelectorAll(":scope > .s-result-item").length&&(t=e)});const i=t&&t.querySelectorAll(":scope > .s-result-item");let s=[],n=10;return i.forEach(e=>{const t=!!e.querySelector('[data-component-type="sp-sponsored-result"]');n>0&&!t&&e.dataset.asin&&(s.push(e.dataset.asin),n--)}),s}catch(e){return console.log("%ce","color: #FF4081",e),[]}}(t);try{v(i).then(e=>{const t=b(e).score;a.find(".fa-pulse").replaceWith(y(t.id)),a.find(".h10-score-title").append(t.title)})}catch(e){s.a.config.debug&&console.log("%ce","color: #FF4081",e)}}catch(e){a.find(".fa-pulse").replaceWith("&ndash;"),s.a.config.debug&&console.log("%c⇒ Fetch search page error","color: #82AAFF",{module:"Suggestions",error:e})}})})}else f()}catch(e){s.a.config.debug&&console.log("%cGet suggestions fetch error","color: #FF4081",{module:"Suggestions",error:e}),f()}})}(p.keyword),t=!1),i.addClass("show"))})),e("#suggestions-score-popup .h10-popup-close").on("click",(function(){i.removeClass("show")}))}()})}catch(e){console.log("%ce","color: #FF4081",e)}}function m(e,t,i){const s=i?0!==t.score?1/t.score*10:0:t.score,n=Math.floor(s/2)-(s%2==0?1:0),a={width:i?34:48,className:"h10-score-chart",backgroundColor:"#dbe2e8",min:0,max:10,outerRadius:"100%",innerRadius:"85%",label:{className:"h10-label",decimals:0,style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Open Sans", Arial, sans-serif',fontWeight:"normal",fontSize:i?"12px":"15.6px"}},colors:["#ff5722","#ffc107","#cddc39","#8bc34a","#4caf50"]};r.a.setOptions({colors:a.colors}),r.a.chart(e,{credits:!1,chart:{type:"solidgauge",height:"100%",width:a.width,spacing:[0,0,0,0],className:a.className},title:null,tooltip:{enabled:!1},pane:{size:"100%",startAngle:0,endAngle:360,background:[{outerRadius:a.outerRadius,innerRadius:a.innerRadius,backgroundColor:a.backgroundColor,borderWidth:0}]},yAxis:{min:a.min,max:a.max,lineWidth:0,tickPositions:[]},plotOptions:{solidgauge:{dataLabels:{borderWidth:0,enabled:!0,useHTML:!0,className:a.label.className,style:a.label.style,formatter:function(){return r.a.numberFormat(i?10*s:t.score,a.label.decimals)}},linecap:"round",stickyTracking:!1,rounded:!0}},series:[{name:t.title||null,data:[{color:r.a.getOptions().colors[n],radius:a.outerRadius,innerRadius:a.innerRadius,y:s}]}]})}function f(){const t=e('<div class="h10-row">\n                                        <div class="h10-col h10-keyword">Related keywords could not be found.<br>\n                                        Please re-type your search phrase into amazon search bar and press enter to refresh.</div>\n                                    </div>');e("#suggestions-score-popup .suggestions-score-popup-body").append(t)}function v(e){return new Promise((function(t){const i={asins:JSON.stringify(e),marketplace:Object(d.m)(),hash:n.e};chrome.runtime.sendMessage({type:"get-black-box-sales",params:i},e=>{t(e)})})).then(e=>{if("success"===e.status)return e;throw e}).then(e=>{let t=[],i=[];if("success"===e.status){const n=e.data;for(let e in n)if(n.hasOwnProperty(e)){const a=n[e].data,r=a.reviewHistory,o=Object.keys(r),l=o.length?r[o[o.length-1]].count:0,c=(a.productData.price||0)*(a.salesHistory.hasOwnProperty("last30DaysSales")?a.salesHistory.last30DaysSales:0),h=new Promise((function(t,i){chrome.runtime.sendMessage({type:"get-average-customer-review",asin:e,marketplaceDomain:Object(d.l)()},s=>{try{let i=document.implementation.createHTMLDocument("amazon");i.documentElement.innerHTML=s;const n=i.querySelector('[data-hook="total-rating-count"]').innerText,a=/\d[\d\s.,]*/;let r=n&&n.match(a)?n.match(a)[0]:"0";r=r.replace(/[,.\s]/g,""),t({asin:e,reviewsLatest:r})}catch(e){i(e)}})}));i.push(h),t.push({asin:e,revenue:c,reviewsCount:l}),s.a.config.debug&&console.log("%c⇒ "+e,"color: #82AAFF",`revenue: ${c}, reviewsCount: ${l}`,"error"===n[e].status?"Error message: "+a.error:"")}}return Promise.all(i).then(e=>{const i=t.reduce((e,t)=>(e[t.asin]=t,e),{});return e.forEach(e=>{i[e.asin]&&(i[e.asin]={...i[e.asin],reviewsLatest:e.reviewsLatest})}),Object.values(i)}).catch(e=>{throw e})}).catch(e=>(s.a.config.debug&&console.log("%cSales error","color: #FF4081",e),[]))}function b(e){let t,i,s=0,a=0;e.forEach(e=>{e.revenue>n.c.successScore.revenue&&s++,e.reviewsLatest<n.c.successScore.reviews&&a++}),s<7&&a<7&&(t=0,i=0),7===s&&7===a&&(t=2,i=2),s>=7&&a<7&&(t=1,i=5),s<7&&a>=7&&(t=1,i=1),7===s&&a>7&&(t=3,i=6),s>7&&7===a&&(t=3,i=3),s>7&&a>7&&(t=4,i=4);return{score:{id:t,title:{0:"Low Demand, High Competition",1:"Low Demand, Low Competition",2:"High Demand, Low Competition",3:"Very High Demand, Low Competition",4:"Very High Demand, Very Low Competition",5:"High Demand, High Competition",6:"High Demand, Very Low Competition"}[i]},revenueCount:s,reviewsCount:a}}function y(e){let t="";for(let i=1;i<=4;i++){t+=`<span class="h10-score-icon ${i<=e?"icon-check-ok":"icon-check-grey"}"></span>`}return t}l()(r.a),h()(r.a)}).call(this,i(3))},26:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return r}));var n=i(2),a=i(0);let r=new e({template:'\n            <div id="h10-score-popup" class="h10-score-popup">\n                <div class="h10-score-title">Product Images</div>\n                <div class="h10-row">\n                    <div class="h10-col">\n                        <div class="h10-label">Number of images:</div>\n                    </div>\n                    <div class="h10-col h10-item-score">{{ imagesCount }}</div>\n                    <div class="h10-col h10-score-description" :class="imagesCount < 7 ? \'wrong\' : null">\n                        <span>*</span>{{ imagesCount < 7 ? \'Fewer than 7 images\' : \'7 or more images\' }}\n                    </div>\n                </div>\n                <div class="h10-row">\n                    <div class="h10-col">\n                        <div class="h10-label">Main image background:</div>\n                    </div>\n                    <div class="h10-col h10-item-score">{{ imageBgScore ? \'white\' : \'not white\' }}</div>\n                    <div class="h10-col h10-score-description" :class="!imageBgScore ? \'wrong\' : null">\n                        <span>*</span> {{ imageBgScore ? \'Main image on a white background\' : \'Main image not on a white background\' }}\n                    </div>\n                </div>\n                <div class="h10-row h10-mb-10 border-0">\n                    <div class="h10-col">\n                        <div class="h10-label">Image dimensions:</div>\n                    </div>\n                    <div class="h10-col h10-item-score" v-html="imageDimensions"></div>\n                    <div class="h10-col h10-score-description" :class="!imageSizeScore ? \'wrong\' : null">\n                        <span>*</span> {{imageSizeScore ? \'Smaller side 1000 pixels or greater\' : \'Smaller side less than 1000 pixels\'}}\n                    </div>\n                </div>\n                <div class="h10-score-title">Listing Text</div>\n                <div class="h10-label">Title</div>\n                <div class="h10-row">\n                    <div class="h10-col">Character count:</div>\n                    <div class="h10-col h10-item-score">{{ titleCount }}</div>\n                    <div class="h10-col h10-score-description" :class="titleCount < titleQuota ? \'wrong\' : null">\n                        <span>*</span> {{ titleCount < titleQuota ? \'Title shorter than 150 characters\' : \'150 characters or longer\' }}\n                    </div>\n                </div>\n                <div class="h10-label">Bullets</div>\n                <div class="h10-row">\n                    <div class="h10-col">Number of bullets:</div>\n                    <div class="h10-col h10-item-score">{{ featuresCount }}</div>\n                    <div class="h10-col h10-score-description" :class="featuresCount < 5 ? \'wrong\' : null">\n                        <span>*</span>{{ featuresCount < 5 ? \'Fewer than 5 bullets\' : \'5 bullets\' }}\n                    </div>\n                </div>\n                <div class="h10-label">Description</div>\n                <div class="h10-row h10-mb-10 border-0">\n                    <div class="h10-col">Character count:</div>\n                    <div class="h10-col h10-item-score">{{ enhancedBrandContent ? \'&#10003;\' : descriptionCount }}</div>\n                    <div class="h10-col h10-score-description"\n                         :class="enhancedBrandContent ? null : descriptionCount < descriptionQuota ? \'wrong\' : null">\n                        <span>*</span>{{ enhancedBrandContent ? \'Enhanced Brand Content\' : descriptionCount < descriptionQuota ? \'Fewer than 1,000 characters\' : \'1,000 or more characters\'}}\n                    </div>\n                </div>\n                <div class="h10-score-title">Reviews & Rating</div>\n                <div class="h10-row">\n                    <div class="h10-col">\n                        <div class="h10-label">Rating:</div>\n                    </div>\n                    <div class="h10-col h10-item-score">{{ rating }}</div>\n                    <div class="h10-col h10-score-description" :class="rating < 4 ? \'wrong\' : null">\n                        <span>*</span>{{ rating < 4 ? \'Rating lower than 4.0\' : \'Rating 4.0 or above\' }}\n                    </div>\n                </div>\n                <div class="h10-row mb-0 border-0">\n                    <div class="h10-col">\n                        <div class="h10-label">Reviews:</div>\n                    </div>\n                    <div class="h10-col h10-item-score">{{ reviewsCount }}</div>\n                    <div class="h10-col h10-score-description" :class="reviewsCount < 10 ? \'wrong\' : null">\n                        <span>*</span>{{ reviewsCount < 10 ? \'Fewer than 10 reviews\' : \'10 or more reviews\' }}\n                    </div>\n                </div>\n                \x3c!--<a class="h10-more-btn" href="#">More</a>--\x3e\n            </div>',data:()=>({data:{},loading:!0,serverError:!1,maxItemScore:1.25,imagesCount:0,imageCountScore:0,titleCount:0,titleQuota:150,titleScore:0,featuresCount:0,descriptionQuota:1e3,descriptionCount:0,descriptionScore:0,mainImageSrc:"",imageSizeScore:0,imageDimensions:"",imageSizeMinSide:1e3,imageBgScore:0,enhancedBrandContent:!1,rating:0,reviewsCount:0,amazonProductScript:"",asinVariationValues:{},asin:""}),mounted(){const e=this,t=s("#main-image-container")[0];if(t&&t.innerHTML&&t.innerHTML.match(/(src=").*(.gif")/g))this.imagesCount=0;else{if(this.getImagesCount(),0===this.imagesCount){const e=this.getThumbnailCount();this.imagesCount=e||0}let e=parseInt(s(".item #altIngressText").text().trim(),10);e=isNaN(e)||s("#heroImage").length?0:e,this.imagesCount=this.imagesCount+e,this.getMainImgSrc()}this.descriptionScore=this.getDescriptionScore(),Promise.all([this.getImageSizeScorePromise(),this.getImageBgScorePromise()]).then(t=>{[this.imageSizeScore,this.imageBgScore]=t;const i=s("#main-image-container"),n=`<div id="h10-product-score" class="h10-score-badge ${this.getBadgeColorClass()}">\n                                            <span>Evaluation result</span>\n                                            <span class="h10-score"><span id="h10-score-value">${this.totalScore}</span> of 10</span>\n                                        </div>`;i.append(s(n));const a=s("#h10-score-popup");let r;s("#h10-product-score").on("mouseenter",(function(){e.setPopupPosition(a),r=setTimeout(()=>{s(window).one("scroll",(function(){a.removeClass("show")})),a.addClass("show")},200)})).on("mouseleave",(function(){clearTimeout(r);const e=setTimeout(()=>{a.on("mouseleave",(function(){s(this).removeClass("show")})),a.is(":hover")||(a.removeClass("show"),clearTimeout(e))},200)}))}).catch(e=>console.log("%ce","color: #82AAFF",e))},computed:{_imageCountScore(){return this.imagesCount<8?Math.round(this.imagesCount/7*this.maxItemScore*100)/100:this.maxItemScore},totalScore(){return Math.round(100*(this._imageCountScore+this.getTitleScore()+this.getFuturesScore()+this.descriptionScore+this.imageSizeScore+this.imageBgScore+this.getRatingScore()+this.getReviewCountScore()))/100}},methods:{getBadgeColorClass(){const e=this.totalScore;return e<=3?"h10-score-badge red":e<=5?"h10-score-badge orange":e<=7?"h10-score-badge purple":e<=9?"h10-score-badge indigo":void 0},calculationEvaluationResult(){this.getTitleScore(),this.getFuturesScore();const e=s("#main-image-container")[0];e&&e.innerHTML&&e.innerHTML.match(/(src=").*(.gif")/g)?this.imagesCount=0:(this.imagesCount=this.getThumbnailCount(),this.getMainImgSrc()),this.descriptionScore=this.getDescriptionScore(),Promise.all([this.getImageSizeScorePromise(),this.getImageBgScorePromise()]).then(e=>{[this.imageSizeScore,this.imageBgScore]=e,s("#h10-score-value").text(this.totalScore),s("#h10-product-score").removeClass(),s("#h10-product-score").addClass("h10-score-badge "+this.getBadgeColorClass())})},getImagesCount(){const e=s("#altImages").find('[data-action="thumb-action"]');s.each(e,(e,t)=>{const i=s(t).data();!i.thumbAction.type||"image"!==i.thumbAction.type&&"chromeful-video"!==i.thumbAction.type||this.imagesCount++})},imageCount(){const e=this;return new Promise((t,i)=>{const s=new MutationObserver((function(n){try{n.forEach((function(i){if("UL"===i.target.tagName&&"childList"===i.type)throw t(e.getThumbnailCount()),"break"}))}catch(e){i(e),s.disconnect()}})),n=document.getElementById("altImages");n&&s.observe(n,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})})},getThumbnailCount(){const e=this.getThumbnailDataFromScript(),t=e&&e.videoIngressATFSlateThumbURL?1:0,i=s("#imageBlock").find(".imageThumbnail, .videoThumbnail"),a=s(".item .a-button-thumbnail");return n.a.config.debug&&console.log("%c⇒ [.a-button-thumbnail] count","color: #89DDF7",a.length),n.a.config.debug&&console.log("%c⇒ [.imageThumbnail, .videoThumbnail] count","color: #89DDF7",i.length),s("#heroImage").length&&e?e.colorImages.initial.length+t:i.length?i.length:a.length+t},getThumbnailDataFromScript(){const e=s("#imageBlock_feature_div script");if(e.length){let t=e.text().trim();if(t.length&&(t=t.match(/(?:var data.{0,3})({(.|\n)*?});/),t&&t.length>1))try{const e=JSON.parse(t[1].replace(/'/g,'"').replace(/,(\s|\n)+}/,"}").replace(/A\.\$\.parseJSON((.|\n)*?\))/,'""'));return n.a.config.debug&&console.log("%c⇒ Parsed data from amazon page","color: #89DDF7",e),e||null}catch(e){return console.log("%c⇒ ParseJSON error","color: #89DDF7",e),null}}},getMainImgSrc(){if(this.asin=Object(a.r)()||Object(a.h)(),this.getAmazonScript(),null!==this.amazonProductScript&&(this.getAsinVariationValues(),this.asinVariationValues&&(this.getImageFromScript(),this.mainImageSrc)))return;let e=s(".imgTagWrapper").eq(2).children("img");void 0===e.data()&&(e=s("#landingImage"));const t=e.data();if(t&&t.oldHires)this.mainImageSrc=t.oldHires;else if(e.length)this.mainImageSrc=e.attr("src");else if(void 0!==this.getThumbnailDataFromScript()){let e=this.getThumbnailDataFromScript();this.mainImageSrc=e?e.colorImages.initial[0].hiRes:null,null===this.mainImageSrc&&(this.mainImageSrc=e?e.colorImages.initial[0].large:null)}else{const e=s("#booksImageBlock_feature_div script");if(e.length){let t=e.text().trim();if(t.length&&(t=t.match(/(?:imageGalleryData.{0,4})(\[.+])/),t&&t.length>1)){const e=JSON.parse(t[1]);n.a.config.debug&&console.log("⇒ data from amazon script",e),this.mainImageSrc=e[0].mainUrl,this.imagesCount=e.length}}}},getImageSizeScorePromise(){return new Promise(e=>{let t=new Image;t.onload=function(){const[t,i]=[this.height,this.width].sort((e,t)=>e-t);r.imageDimensions=`${t}x${i}`;const s=t<r.imageSizeMinSide?0:r.maxItemScore;e(s)},this.mainImageSrc?t.src=this.mainImageSrc:(r.imageDimensions="&ndash;",e(0))})},getImageBgScorePromise(){let e=document.createElement("canvas"),t=new Image;t.crossOrigin="Anonymous";const i=new Promise(i=>{t.onload=function(){e.width=t.width,e.height=t.height;let s=e.getContext("2d");s.drawImage(t,0,0);const n={width:e.width,height:e.height},a=[{left:0,top:0,width:n.width,height:5},{left:n.width-5,top:0,width:5,height:n.height},{left:0,top:n.height-5,width:n.width,height:5},{left:0,top:0,width:5,height:n.height}];let o=0,l=0;a.forEach(e=>{const t=r.calculatePixelBrightness(e,s);t.brightness.mean>.99&&l++,o+=t.brightness.mean}),l>=2&&i(r.maxItemScore);const c=o/Object.keys(a).length;i(c<=.9?0:r.maxItemScore)}});return this.mainImageSrc?(t.src=this.mainImageSrc,i):new Promise(e=>e(0))},getTitleScore(){const e=s("#productTitle").text().trim();return this.titleCount=e.length,this.titleCount<this.titleQuota?Math.round(this.titleCount/this.titleQuota*r.maxItemScore*100)/100:r.maxItemScore},getFuturesScore(){const e=s("#feature-bullets li").not("[class=aok-hidden], [class='']");return this.featuresCount=e.length,this.featuresCount<6?Math.round(this.featuresCount/5*this.maxItemScore*100)/100:this.maxItemScore},getDescriptionScore(){let e="";if(e=s("#productDescription").text().trim().replace(/\s{2,}/g," "),!e.length){const t=s("#iframe-wrapper");if(t.length){let i=t.prev().text().trim();if(i.length&&(i=i.match(/iframeContent.+"(.+)"/),i&&i.length>1)){const t=i[1];let n=document.implementation.createHTMLDocument();n.documentElement.innerHTML=decodeURIComponent(t),e=s(n).find("#productDescription .productDescriptionWrapper").text().trim()}}}this.descriptionCount=e.length;const t=s("#aplus");if(t.length){if(t.clone().find("script,style").remove().end().text().trim().replace(/\s{2,}/g," ").length>0)return this.enhancedBrandContent=!0,1.25}return this.descriptionCount<this.descriptionQuota?Math.round(this.descriptionCount/this.descriptionQuota*this.maxItemScore*100)/100:this.maxItemScore},getRatingScore(){const e=s("#cmrsSummary-popover-data-holder").data("title"),t=s("#averageCustomerReviews_feature_div .reviewCountTextLinkedHistogram");let i=s("[data-hook=rating-out-of-text]");return i&&i.length?i=i.text():t.length?i=t.attr("title"):e&&(i=e),"object"==typeof i&&i.length>0&&(i=i[0].outerText),i=i&&i.length?i.match(/([\d.,]+)\s/):0,i=i&&i.length?i[0].replace(",","."):0,this.rating=Number(i),this.rating<4?0:this.maxItemScore},getReviewCountScore(){const e=s("#cmrsSummary-popover-data-holder").data("total-count");let t=s("[data-hook=total-review-count]");return e?t=e||0:t&&t.length?(t=t.text(),t=t&&t.length?t.replace(/[,.\s]/g,""):0,t=t&&t.length?t.match(/\d+/):0):t=0,this.reviewsCount=Number(t),this.reviewsCount<10?0:this.maxItemScore},calculatePixelBrightness(e,t){let i=90,s=30,n=50;const a=0,r=255,o=0,{left:l,top:c,width:h,height:d}=e;let p,u,g,m,f=0,v=0,b=0,y=0;if(h>0&&d>0){u=t.getImageData(l,c,h,d).data;for(let e=0;e<u.length;e+=4)u[e]===a&&u[e+1]===r&&u[e+2]===o?y++:(f++,p=.2126*u[e]+.7152*u[e+1]+.0722*u[e+2],g=p-b,v+=g*g,b+=g/f);if(y<=u.length/4*(1-n/100)){m=Math.sqrt(v/f)/255,b/=255;const e={mean:b,variance:m};return m>s/100?{brightness:e,dark:!0,light:!0}:b<=i/100?{brightness:e,dark:!0,light:!1}:{brightness:e,dark:!1,light:!0}}}},resetData(){Object.assign(this.$data,{data:{},loading:!0,serverError:!1,maxItemScore:1.25,imagesCount:0,imageCountScore:0,titleCount:0,titleQuota:150,titleScore:0,featuresCount:0,descriptionQuota:1e3,descriptionCount:0,descriptionScore:0,mainImageSrc:"",imageSizeScore:0,imageDimensions:"",imageSizeMinSide:1e3,imageBgScore:0,enhancedBrandContent:!1,rating:0,reviewsCount:0,amazonProductScript:"",asinVariationValues:{},asin:""})},setPopupPosition(e){const t=document.getElementById("h10-product-score").getBoundingClientRect(),i=document.querySelector("body").getBoundingClientRect();e.attr("style",`top: ${t.top-i.top+50}px; left: ${t.left-i.left}px`)},getAmazonScript:function(){const e=s("#imageBlockVariations_feature_div script");if(e.length){let t=e.text().trim();const i=/(?:jQuery.parseJSON).*/;t=String(t).match(i),t=String(t).replace("jQuery.parseJSON('",""),t=String(t).replace(/\\./g,""),t=String(t).slice(0,-3),this.amazonScript=JSON.parse(t)}},getAsinVariationValues(){const e=s("#bottomRow script");if(e.length)try{let t=e.text().trim();const i=/"dimensionValuesDisplayData".*}/;let s=t.match(i);s=String(s).replace(/'/g,""),s=String(s).replace(/\\./g,""),this.asinVariationValues=JSON.parse("{"+String(s)+"}")}catch{this.asinVariationValues={}}},getImageFromScript(){let e;try{e=void 0!==this.asinVariationValues.dimensionValuesDisplayData[this.asin][1]?"One Size"!==this.asinVariationValues.dimensionValuesDisplayData[this.asin][0]?this.asinVariationValues.dimensionValuesDisplayData[this.asin][0]+" "+this.asinVariationValues.dimensionValuesDisplayData[this.asin][1]:this.asinVariationValues.dimensionValuesDisplayData[this.asin][1]:this.asinVariationValues.dimensionValuesDisplayData[this.asin][0],void 0!==this.amazonScript.colorImages[e][0].hiRes?this.mainImageSrc=this.amazonScript.colorImages[e][0].hiRes:void 0!==this.amazonScript.colorImages[e][0].large?this.mainImageSrc=this.amazonScript.colorImages[e][0].large:void 0!==this.amazonScript.colorImages[e][0].thumb&&(this.mainImageSrc=this.amazonScript.colorImages[e][0].thumb)}catch(e){this.mainImageSrc=""}}}})}).call(this,i(14),i(3))},27:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return o}));var s=i(5),n=i(0),a=i(10),r=i(11);function o(){const t='<div class="helium-container">\n            <div class="helium-spinner timeline-wrapper">\n                <div class="timeline-item">\n                    <div class="animated-background">\n                        <div class="background-masker right-one"></div>\n                        <div class="background-masker line-one"></div>\n                        <div class="background-masker right-two"></div>\n                        <div class="background-masker line-two"></div>\n                        <div class="background-masker right-three"></div>\n                    </div>\n                </div>\n            </div>\n        </div>';function i(e){return(Date.now()-(e=parseInt(e)))/1e3<=21600}function r(t,i){let r=new a.a,o=s.a+"/dp/"+t;r.start(o),e(r).on(r.externalEvents.productNotScraped,(function(e){console.log(e)})),e(r).on(r.externalEvents.productScraped,(function(e){let t=e.productScrapedData;t.sellersNumber||(t.sellersNumber="1");let s={};s[t.asin]=Object(n.q)(t),chrome.storage.local.set(s),l(t,i)}))}Object(n.z)(chrome.runtime.id),Object(s.d)(),e(document).on("click",".helium-fee",(function(){let t=e(this).data("asin");return Object(s.e)(t),!1})),e(".p13n-asin").each((function(){let s=e(this),n=e(this).data("p13n-asin-metadata");if(!e(this).parents(".zg_itemImmersion").length)return;e(this).prepend(t);let a=n.asin;e(this).attr("id","h10-asin-"+a);let o="asin-fees-"+a;chrome.storage.local.get(a,(function(e){Object.keys(e).length&&e[a].time&&i(e[a].time)?(l(e[a],s),chrome.storage.local.get(o,(function(e){Object.keys(e).length&&s.find(".helium-fee").text(e[o])}))):r(a,s)}))})),e(".zg-item-immersion .a-list-item").each((function(){let s=e(this).find("a").first().attr("href");if(!s)return;let a=e(this),o=a.parent();o.css("height",o.height()+80);let c=s.match(n.b);if(!c||0===c.length)return!1;let h=c[2];e(this).attr("id","h10-asin-"+h),e(this).prepend(t);let d="asin-fees-"+h;chrome.storage.local.get(h,(function(t){Object.keys(t).length&&t[h].time&&i(t[h].time)?(l(t[h],a),chrome.storage.local.get(d,(function(t){if(Object.keys(t).length){e("#h10-asin-"+h).parent().find(".helium-fee").text(t[d])}}))):r(h,a)}))}))}function l(e,t){let i=1===Number(e.sellersNumber)?"Seller":"Sellers";const a=`${s.a}/gp/offer-listing/${e.asin}/ref=dp_olp_new_mbc?ie=UTF8&amp;condition=all`;let o=`<div class="helium-root">\n            <div class="helium-data">\n                <span class="helium-data-item"><strong>ASIN:</strong> ${e.asin}</span>\n                <a class="helium-data-item helium-preview" href="javascript:void(0)">\n                    <img src="${r.d}" class="helium-data-icon" alt=""/>Show</a>\n                <div>\n                    <a class="helium-data-item helium-sellers-link" href="${a}" target="_blank">\n                        <img src="${r.b}" class="helium-data-icon" alt=""/>Sold by ${e.bbSeller}</a>\n                    <a class="helium-data-item helium-sellers-link" href="${a}" target="_blank">\n                        <img src="${r.a}" class="helium-data-icon" alt=""/>${e.sellersNumber} ${i}</a>\n                </div>\n            </div>`;n.c.includes(Object(n.m)())&&(o+=`<div class="helium-fee-wrapper">\n                <span class="helium-fee" data-asin="${e.asin}">Calculate fees</span>\n            </div>\n        </div>`),t.find(".helium-spinner").remove(),Object(s.c)(t,e,o)}}).call(this,i(3))},4:function(e,t,i){"use strict";(function(e){i.d(t,"e",(function(){return c})),i.d(t,"b",(function(){return w})),i.d(t,"c",(function(){return k})),i.d(t,"d",(function(){return C})),i.d(t,"a",(function(){return O})),i.d(t,"f",(function(){return I}));var s=i(2),n=i(0),a=i(8),r=i(10),o=i(5),l=i(25);i(166),i(22),i(162),i(163),i(164),i(165);let c=null,h=[],d={total:0,left:[]},p=!1,u=0;const g=Object(n.w)();let m=[],f=[],v=0,b={};const y=chrome.extension.getURL("html/images/svg/setting.svg"),w="asin-"+o.a+"-";let k,S=!1,x=!1;const _=["Small Standard-Size","Large Standard-Size","Small Oversize","Medium Oversize","Large Oversize","Special Oversize"];function C(){if(!1===p){const t=e("#black-box-table");p=t.DataTable({bInfo:!1,paging:!1,searching:!1,autoWidth:!1,deferRender:!0,scrollY:332,scrollX:!0,scrollCollapse:!0,scroller:!1,fixedColumns:{leftColumns:5,rightColumns:1},createdRow:z,rowCallback:T,drawCallback:P,columns:[{name:"Checkbox",data:"Checkbox",title:"",className:"h10-bb-checkbox",orderable:!1,render:function(){return'<input disabled class="h10-bb-checkbox-input" type="checkbox"/>'}},{name:"#",data:"Include in analysis",title:"#",className:"h10-bb-inc-in-analysis-wrapper"},{name:"ASIN",data:{_:"ASIN",sort:"ASIN"},title:"ASIN",className:"h10-bb-asin",width:"200px",render:function(e){return`<a href="/dp/${e}?psc=1" target="_blank" >${e}</a>`}},{name:"Brand",data:"Brand",title:"Brand",className:"h10-bb-brand",render:function(e){return e||console.log("%cbrand","color: #82AAFF",e),`<div title="${e}">${e}</div>`}},{name:"Title",data:"Title",title:"Title",className:"h10-bb-title",render:function(e,t,i){return i.isSponsored?`<div class="sponsored" title="${e}">${e}</div>`:`<div title="${e}">${e}</div>`}},{name:"Category",data:"Category",title:"Category",className:"h10-bb-category",render:function(e){return`<div title="${e}">${e}</div>`}},{name:"Seller",data:"Seller",title:"BuyBox",className:"h10-bb-seller",render:function(e){return`<div title="${e}">${e}</div>`}},{name:"SellersNumber",data:"SellersNumber",title:"#",className:"h10-bb-sellers-number",orderable:!0},{name:"Fulfillment",data:"Fulfillment",title:'<i class="fa fa-truck" aria-hidden="true"></i>',className:"h10-bb-fulfillment",render:function(e){switch(e){case 1:return"AMZ";case 2:return"FBA";case 3:return"MFN";case 4:return'<span class="h10-bb-blur">FLF</span>';default:return"N/A"}}},{name:"Price",data:"Price",title:"Price",className:"h10-bb-price",orderSequence:["desc","asc"],sType:"numeric",render:{_:"display",sort:"value"}},{name:"Margin",data:"Margin",title:"FBA fee",className:"h10-bb-unit-margin",orderSequence:["desc","asc"],sType:"numeric",render:{_:"display",sort:"value"}},{name:"Sales",data:"Sales",title:"Sales",className:"h10-bb-sales",orderSequence:["desc","asc"],sType:"numeric",render:{_:"display",sort:"value"}},{name:"Sales 30",data:"Sales 30",title:'Sales <i class="fa fa-line-chart"></i>',className:"h10-bb-salesGraph",orderable:!1},{name:"Revenue",data:{_:"Revenue.display",sort:"Revenue.value"},title:"Revenue",sType:"numeric",className:"h10-bb-monthly-revenue",orderSequence:["desc","asc"]},{name:"BSR",data:"BSR",title:'BSR <i class="fa fa-line-chart"></i>',className:"h10-bb-bsr",orderSequence:["desc","asc"],render:function(e){return isNaN(e)?e:Math.round(100*e)/100}},{name:"Rating",data:{_:"Rating",sort:"Rating"},sType:"numeric",title:"Rating",className:"h10-bb-rating",render:function(e){return new Intl.NumberFormat(Object(n.k)().locale).format(e)}},{name:"Reviews",data:"Reviews",title:'Review Count <i class="fa fa-line-chart"></i>',className:"h10-bb-reviews"},{name:"Review Velocity",data:"Review Velocity",title:"Review Velocity",className:"h10-bb-reviews-velocity",sType:"numeric",render:{_:"display",sort:"value"}},{name:"Dimensions",data:"Dimensions",title:"Dimensions",className:"h10-bb-dimensions"},{name:"Weight",data:"Weight",title:"Weight",className:"h10-bb-weight",render:function(e){return e}},{name:"Size Tier",data:"Size Tier",title:"Size Tier",className:"h10-bb-size-tier",orderSequence:["desc","asc"],render:function(e){return e>0?_[e-1]:null}},{name:"Images",data:"Images",title:"Images",className:"h10-bb-images",render:function(e){return e.toString()}},{name:"listingCreationDate",data:"listingCreationDate",title:"Listing Creation Date",className:"h10-bb-creation-date",sType:"numeric",orderSequence:["desc","asc"],render:{_:"display",sort:"value"}},{name:"Pin",data:"Pin",title:'<img class="h10-bb-settings" src="'+y+'" alt=""/>',className:"h10-bb-pin",orderable:!1,render:function(){return'<i class="fa fa-thumb-tack"></i>'}}]}),p.on("column-visibility.dt",(function(){e(".DTFC_RightBodyLiner td.h10-bb-pin .fa").not(".clicked").parent().tooltipster({content:"Save to my list"}),e(".DTFC_RightBodyLiner td.h10-bb-pin .fa.clicked").parent().tooltipster({content:"Remove from my list"}),p.draw()})),t.on("draw.dt",(function(){e(".DTFC_LeftBodyLiner td.h10-bb-brand div").tooltipster(),e(".DTFC_LeftBodyLiner td.h10-bb-title div").tooltipster({maxWidth:200}),e(".DTFC_RightBodyLiner td.h10-bb-pin .fa").not(".clicked").parent().tooltipster({content:"Save to my list"}),e(".DTFC_RightBodyLiner td.h10-bb-pin .fa.clicked").parent().tooltipster({content:"Remove from my list"})}));const i=setTimeout((function(){e("th.h10-bb-seller").tooltipster({content:"BuyBox owner"}),e("th.h10-bb-sellers-number").tooltipster({content:"Number of active sellers"}),e("th.h10-bb-fulfillment").tooltipster({content:"Fulfillment: Amz (Amazon), FBA (Fulfilled by Amazon) or MFN (Fulfilled by seller/merchant)"}),e("th.h10-bb-unit-margin").tooltipster({content:"Estimated FBA fee"}),e("th.h10-bb-bsr").tooltipster({content:"Recent BSR (Click for trend chart)"}),e("th.h10-bb-sales").tooltipster({content:"Estimated number of sales over the last 30 days"}),e("th.h10-bb-monthly-revenue").tooltipster({content:"Estimated revenue over the last 30 days"}),e("th.h10-bb-rating").tooltipster({content:"Amazon star rating"}),e("th.h10-bb-reviews").tooltipster({content:"Total number of reviews"}),e("th.h10-bb-reviews-velocity").tooltipster({content:"Change in review count over the last 30 days"}),clearTimeout(i)}),500);let a;e(document).on("click",".h10-bb-settings",(function(){e(".h10-bb-settings-popup").toggleClass("hide")})),e(document).on("click","td.h10-bb-bsr ",(function(){const t=e(this).parent(),i=`${s.a.config.backend.baseUrl}/chart/index?asin=${t.data("asin")}&marketplace=${Object(n.m)()}&range=30`;F(t,i,"BSR Chart")})),e(document).on("click","td.h10-bb-reviews ",(function(){const t=e(this).parent(),i="https://members.helium10.com/black-box/review-chart?asin="+t.data("asin")+"&range=30&marketplace="+Object(n.m)();F(t,i,"Reviews Chart")})),e(document).on("click","td.h10-bb-salesGraph",(function(){if(!e(this).find("canvas").get(0))return!1;const t=e(this).parent(),i="https://members.helium10.com/black-box/sales-chart?days=30&asin="+t.data("asin")+"&marketplace="+Object(n.m)();F(t,i,"Sales Chart")})),e(".h10-overlay, .h10-bb-graph-popup-header-close, .h10-bb-graph-popup-overlay, .close-btn").on("click",(function(t){t.target===this&&e(".h10-bb-graph-popup-overlay").is(":visible")&&(e(".h10-bb-graph-popup-overlay").hide(),e("#h10-bb-10-chart-iframe").attr("src",null),e(".h10-bb-graph-popup").addClass("hide"),e("#black-box-tab").css("opacity",1))})),e(document).on("click",".h10-bb-screenshot-action",(function(){let t=[],i=[];e("#black-box-table thead th").each((function(){return!!e(this).is(".h10-bb-pin")||(!!e(this).is(".h10-bb-checkbox")||void(e(this).hasClass("h10-bb-fulfillment")?i.push("Fulfillment"):i.push(e(this).text().trim())))})),t.push(i),e("#black-box-table tbody tr").each((function(){if("bb-graph-wrapper"===e(this).attr("id"))return!0;if("h10-bb-load-second-page"===e(this).attr("id"))return!0;i=[];let s=e(this).data("isLimit");e(this).find("td").each((function(){if(e(this).is(".h10-bb-pin"))return!0;if(e(this).is(".h10-bb-checkbox"))return!0;if(e(this).hasClass("h10-bb-salesGraph"))return e(this).find("canvas").get(0)?i.push(e(this).find("canvas").get(0).toDataURL()):i.push(""),!0;let t=e(this).text().trim();e(this).is(".h10-bb-price , .h10-bb-sales , .h10-bb-bsr , .h10-bb-monthly-revenue , .h10-bb-unit-margin , .h10-bb-fulfillment")&&s&&(t="Xray limit reached"),e(this).is(".h10-bb-asin , .h10-bb-brand , .h10-bb-title , .h10-bb-seller , .h10-bb-category ")&&(t="[blur]"),i.push(t)})),t.push({isSponsored:e(this).data("isSponsored"),rowData:i})}));const s={"screenshot-data":t,"search-volume":e("#h10-bb-search-volume").text()};chrome.storage.local.set(s,(function(){chrome.runtime.sendMessage({type:"get-screenshot-page"})}))})),e(document).on("click",".h10-bb-csv-action",(function(){let t="";e("#black-box-table th").each((function(){const i=e(this).text().trim();e(this).hasClass("h10-bb-salesGraph")||e(this).hasClass("h10-bb-inc-in-analysis-wrapper")||e(this).hasClass("h10-bb-checkbox")||(e(this).hasClass("h10-bb-fulfillment")?t+="Fulfillment ,":t+=i+",")})),t+="\r\n",e("#black-box-table tbody tr").each((function(){const i=e(this).data("isSponsored"),s=e(this).data("isLimit");e(this).find("td").each((function(){if(e(this).attr("colspan"))return;let n=e(this).text().trim();e(this).hasClass("h10-bb-salesGraph")||e(this).hasClass("h10-bb-inc-in-analysis-wrapper")||e(this).hasClass("h10-bb-checkbox")||(e(this).is(".h10-bb-title , .h10-bb-seller , .h10-bb-brand , .h10-bb-category")&&(n=n.replace(/"/g,"'"),i&&(n="($) "+n)),e(this).is(".h10-bb-price , .h10-bb-reviews , .h10-bb-sales , .h10-bb-bsr , .h10-bb-monthly-revenue , .h10-bb-unit-margin")&&(n=n.replace(/[^0-9.,-]+/g,"")),s&&e(this).is(".h10-bb-price , .h10-bb-sales , .h10-bb-bsr , .h10-bb-monthly-revenue , .h10-bb-unit-margin , .h10-bb-fulfillment")&&(n="Xray limit reached"),n=""!==n?`"${n}"`:"",t+=n+",")})),t+="\r\n"}));const i=new Blob([t],{type:"text/csv;charset=utf-8;\ufeff"}),s=document.createElement("a"),n=URL.createObjectURL(i);s.setAttribute("href",n),s.setAttribute("download","Helium_10_Xray_export.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)})),e(document).on("change","td.h10-bb-checkbox",(function(){const t="."+e(this).parent("tr").attr("class").replace(/^(\S*).*/,"$1"),i=e("#black-box-table "+t).first().data("asin"),s=h.findIndex(e=>e===i);-1===s&&h.length<10?(h.push(i),P(),h.length>=10&&e("input.h10-bb-checkbox-input:not(:checked)").attr("disabled","disabled")):(h.splice(s,1),P(),h.length<10&&e("input.h10-bb-checkbox-input:not(:checked)").removeAttr("disabled")),0===h.length?e("#cerebro-button").addClass("disabled"):e("#cerebro-button").removeClass("disabled"),e("#asin-selected").text("ASIN Selected: "+h.length)})),e(document).on("click","#cerebro-button",(function(){if(h.length){let e="";h.forEach((t,i)=>{e=i!==h.length-1?e.concat(t+","):e.concat(t)});const t=`${s.a.config.memberAccountUrl}/cerebro/index-extension?asin=${e}&amazonstore=${Object(n.l)()}`;window.open(t,"_blank").focus()}})),e(document).on("click","td.h10-bb-pin",(function(){const t=e(this).find("i"),i="."+e(this).parent("tr").attr("class").replace(/^(\S*).*/,"$1"),s=e("#black-box-table "+i).first().data("asin"),a=t.hasClass("clicked"),r={asin:s,marketplace:Object(n.m)()};chrome.runtime.sendMessage({type:a?"remove-products-from-list":"add-products-to-list",params:r},t=>{try{if("success"!==t.status)throw"error"===t.status&&t.errMsg?t.errMsg:t;e(i+" .fa").toggleClass("clicked"),e(".DTFC_RightBodyWrapper "+i+" .h10-bb-pin").tooltipster("content",a?"Save to my list":"Remove from my list")}catch(e){"Can not remove product from your Ideas. Please try again later."===e?j():console.log("%c⇒ My list adding error","color: #FF5370",e)}})})),e(document).on("mouseover",".DTFC_LeftBodyWrapper td.h10-bb-asin",(function(){a=setTimeout(()=>{const t="#black-box-table ."+e(this).closest("tr").attr("class").replace(/^(\S*).*/,"$1"),i=e(t).first(),s=i.find(".h10-bb-title").text(),a=i.find(".h10-bb-rating").text(),r=i.find(".h10-bb-reviews").text(),o=i.find(".h10-bb-price").text();let l=e(`.s-result-item[data-asin="${i.data("asin")}"] .s-image`).attr("src");if(l||(l=i.data("imageUrl")),e(".h10-bb-asin-preview img.h10-bb-asin-preview-img").attr("src",l),e(".h10-bb-asin-preview-rating").raty({score:a,readOnly:!0,hints:null}),e(".h10-bb-asin-preview-title").text(s),e(".h10-bb-asin-preview-rating-count").text(r),"en-CA"===Object(n.k)().locale){document.getElementsByClassName("h10-bb-asin-preview-price")[0].classList.add("h10-small-price")}e(".h10-bb-asin-preview-price").text(o),e(".h10-bb-asin-preview").removeClass("hide")},100)})),e(document).on("mouseout",".DTFC_LeftBodyWrapper td.h10-bb-asin",(function(){clearTimeout(a),e(".h10-bb-asin-preview").addClass("hide")}))}return p}function F(t,i,s){e(".h10-bb-graph-popup-content .component-loader").show();new Promise((function(t){e("#h10-bb-10-chart-iframe").on("load",(function(){t()})).attr("src",i)})).then((function(){e(".h10-bb-graph-popup-content .component-loader").hide()})),e(".h10-bb-graph-popup-header-title").html(`<strong>${s}</strong> `).append(t.find(".h10-bb-title").text()),t.find(".h10-bb-title").text().length>90&&e(".h10-bb-graph-popup-header-title").tooltipster({content:t.find(".h10-bb-title").text()}),e(".h10-bb-graph-popup").removeClass("hide"),e("#black-box-tab").css("opacity",.2),e(".h10-bb-graph-popup-overlay").show()}function z(t,i){if(e(t).addClass("asin-row-"+i.key).data("asin",i.key).data("imageUrl",i.imageUrl).data("isSponsored",i.isSponsored).data("isLimit",i.isLimit).data("error",i.error).data("position",i["Include in analysis"]),i.imageUrl){(new Image).src=i.imageUrl}i.chartPoints&&function t(i,s){const n=e(s).find("td.h10-bb-salesGraph");n.is(":visible")?n.sparkline(i.chartPoints,{type:"line",lineColor:"#a3bff6",fillColor:"#ebf1fe",lineWidth:1,spotColor:"#a3bff6",minSpotColor:"#a3bff6",maxSpotColor:"#a3bff6",highlightSpotColor:"#a3bff6",highlightLineColor:"#a3bff6",spotRadius:0,disableTooltips:!0,disableInteraction:!0,height:19}):setTimeout((function(){t(i,s)}),1e3)}(i,t);const a=w+i.key;chrome.storage.local.get(a,(function(i){Object.keys(i).length?function(t,i){let s=C().row(t).data();1===s.Fulfillment?s.Seller="Amazon":s.Seller=i.sellerName;s.Brand=i.brand,s.Title=i.title,s.isLimit||s.Price.value||(s.Price=i.price>1e3?Object(n.n)(i.price,"currency",!1):Object(n.n)(i.price,"currency",!0));i.bsr>0&&(s.BSR=i.bsr);s.Category||(s.Category=i.category);s.Rating=i.reviewsRating>0?i.reviewsRating:0,s.Reviews=i.reviewsNumber,C().row(t).data(s),e(t).find(".h10-bb-category div").tooltipster({maxWidth:200}),e(t).find(".h10-bb-seller div").tooltipster({maxWidth:200})}(t,i[a]):s.a.config.debug&&console.log("cache error for "+a)}))}function P(){e(".h10-bb-checkbox-input").prop("checked",!1),h.forEach(t=>{e(`.asin-row-${t} .h10-bb-checkbox-input`).prop("checked",!0)})}function T(t,i){i.SellersNumber<0&&e(t).find("td.h10-bb-sellers-number").html('<span class="h10-grey-color">n/a</span>');const s=e(t).find(".h10-bb-monthly-revenue");-1===i.Revenue.value&&(s.html('<span class="h10-grey-color">n/a</span>'),!s.hasClass("tooltipstered")&&i.error&&s.tooltipster({content:i.error,maxWidth:400}));e(t).find(".h10-bb-rating").html(new Intl.NumberFormat(Object(n.k)().locale).format(i.Rating));e(t).find(".h10-bb-reviews").html(new Intl.NumberFormat(Object(n.k)().locale).format(i.Reviews)),i.Price.value||e(t).find("td.h10-bb-price").html('<span class="h10-grey-color">n/a</span>');const a=e(t).find("td.h10-bb-bsr");if(i.BSR)if(i.isLimit)a.html(`<span class="h10-bb-blur">${i.BSR}</span>`);else{const e=new Intl.NumberFormat(Object(n.k)().locale).format(i.BSR);a.html(e)}else a.html('<span class="h10-grey-color">n/a</span>'),a.hasClass("tooltipstered")||a.tooltipster({content:i.error,maxWidth:400});i["Size Tier"]&&-1!==i["Size Tier"]||e(t).find(".h10-bb-size-tier").html('<span class="h10-grey-color">n/a</span>');const r=e(t).find("td.h10-bb-sales");-1===i.Sales.value&&!r.hasClass("tooltipstered")&&i.error&&r.tooltipster({content:i.error,maxWidth:400}),Number(i.Weight)<0&&e(t).find(".h10-bb-weight").html('<span class="h10-grey-color">n/a</span>'),i.Dimensions||e(t).find(".h10-bb-dimensions").html('<span class="h10-grey-color">n/a</span>')}function A(t,i){let a=new URL(t),r=new URLSearchParams(a.search),o=r.get("page");o||(o="1"),r.set("page",String(Number(o)+1)),s.a.config.debug&&console.log("second page");const l=a.origin+a.pathname+"?"+r.toString();fetch(l,{method:"GET",credentials:"same-origin"}).then(e=>{if(200===e.status)return e.text();throw e}).then(t=>{O(!0,function(t,i){let s={},a=[];e(t).find("#zg_centerListWrapper").length>0&&e(t).find("#zg_centerListWrapper .zg_itemImmersion").each((function(t,n){const r=e(n).find(".p13n-asin").data("p13n-asin-metadata").asin;r&&!s[r]&&(s[r].noSponsored=!0,a.push({asin:r,position:++i,isSponsored:!1}))})),e(t).find(".zg-item-immersion .a-list-item").length>0&&e(t).find(".zg-item-immersion .a-list-item").each((function(){let t=e(this).find("a.a-link-normal").first().attr("href").match(n.b);if(!t||0===t.length)return!1;let r=t[2];r&&!s[r]&&(s[r].noSponsored=!0,a.push({asin:r,position:++i,isSponsored:!1}))})),(e(t).find("#s-results-list-atf").length>0||e(t).find(".s-results-list").length>0)&&e(t).find(".s-result-item.celwidget").each((function(t,n){const r=e(n).data("asin"),o=e(n).hasClass("AdHolder")||!!e(n).find(".s-sponsored-header").length,l={asin:r,isSponsored:o};r&&!s[r]?(s[r]={sponsored:o,noSponsored:!o},l.position=++i,a.push(l)):r&&(o&&!s[r].sponsored&&(s[r].sponsored=!0,l.position=++i,a.push(l)),o||s[r].noSponsored||(s[r].noSponsored=!0,l.position=++i,a.push(l)))}));const r=e(t).find(".s-result-list > .s-result-item");return r.length>0&&r.each((function(t,n){if(n.outerHTML.includes("Prime Video"))return;const r=e(n).data("asin"),o=e(n).hasClass("AdHolder")||!!e(n).find(".s-sponsored-header").length,l={asin:r,isSponsored:o};r&&!s[r]?(s[r]={sponsored:o,noSponsored:!o},l.position=++i,a.push(l)):r&&(o&&!s[r].sponsored&&(s[r].sponsored=!0,l.position=++i,a.push(l)),o||s[r].noSponsored||(s[r].noSponsored=!0,l.position=++i,a.push(l)))})),a}(t,i))}).catch(e=>{console.log("%cError","color: #FF4081",e)})}function O(t,i){chrome.storage.local.get("invocations",o=>{try{const h=o.invocations;if(200===h.status){let d;!function(t){const i=t.invocations.left;i>0&&(e(".h10-modal-countdown-banner-container").removeClass("hide"),e(".h10-modal-countdown").text("Free Launches Left: "+i))}(o),c=h.hash,e("#h10-bb-load-second-page").remove(),e("#h10-bb-activity-indicator").show();let p={};if(!t){x=!!e("ul.a-pagination").length||!!e("#pagnNextString").length;let t="";if((e("li.s-result-item").length>0||e("div.s-result-item.sg-col").length>0)&&(t=e('input[name="field-keywords"]').val()),t){e(".h10-bb-viability-score-column").show();let i=t;t.length>40&&(i=t.substr(0,40)+"..."),e("#h10-bb-search-term").attr("title",t).text(" - "+i).tooltipster();const s={keyword:t,marketplace:Object(n.m)()};chrome.runtime.sendMessage({type:"get-black-box-search-volume",params:s},t=>{try{const i=e("#h10-bb-search-volume");let s;switch(t.status){case"error":case"no-data":case"limit":i.text(" (search volume: n/a)");break;case"success":s=t.data.exact.toLocaleString(Object(n.k)().locale),i.text(" (search volume: "+s+")")}}catch(e){console.log("%cSearch volume error","color: #FF4081",e)}})}else e("#zg_centerListWrapper").length>0||e("#zg-center-div").length>0||e(".h10-bb-viability-score-column").hide();if(C().clear().draw(),e("#black-box-table_wrapper").hide(),e("#black-box-content").removeClass("hide"),i=[],d=0,Object(n.h)()){const t=Object(n.h)(),s=e("body").attr("data-h10-detail-state");if(a.a&&a.a.length)e.each(a.a,(function(e,t){p[t]={sponsored:!1,noSponsored:!0},i.push({asin:t,position:++d,isSponsored:!1})}));else if(s&&s.length>10){const t=JSON.parse(s),n=Object.keys(t.asin_variation_values);e.each(n,(function(e,t){p[t]={sponsored:!1,noSponsored:!0},i.push({asin:t,position:++d,isSponsored:!1})}))}else p[t]={sponsored:!1,noSponsored:!0},i.push({asin:t,position:++d,isSponsored:!1}),e(".swatchSelect ,.swatchAvailable").map((function(){const s=e(this).data("defaultasin");if(s!==t)return p[s]={sponsored:!1,noSponsored:!0},i.push({asin:s,position:++d,isSponsored:!1}),s})).get(),e(".twisterShelf_swatch").map((function(){const s=e(this).data("dp-url").match("/([A-Z0-9]{10})(?:[#/?]|$)");if(s&&0!==s.length&&(p[s[1]]={sponsored:!1,noSponsored:!0},i.push({asin:s[1],position:++d,isSponsored:!1})),s&&s[1]&&s[1]!==t)return s[1]})).get()}else{e("#zg_centerListWrapper").length>0&&e("#zg_centerListWrapper .zg_itemImmersion").each((function(t,s){const n=e(s).find(".p13n-asin").data("p13n-asin-metadata").asin;n&&!p[n]&&(p[n]={sponsored:!1,noSponsored:!0},i.push({asin:n,position:++d,isSponsored:!1}))})),e(".zg-item-immersion .a-list-item").length>0&&e(".zg-item-immersion .a-list-item").each((function(){let t=e(this).find("a.a-link-normal").first().attr("href");if(!t)return;let s=t.match(n.b);if(!s||0===s.length)return;let a=s[2];a&&!p[a]&&(p[a]={sponsored:!1,noSponsored:!0},i.push({asin:a,position:++d,isSponsored:!1}))}));let t=!1;try{const s=window.SearchPageAccess;if(s){s.asinResults().each((function(t,s){const n=e(s).data("asin"),a=e(s).hasClass("AdHolder")||!!e(s).find(".s-sponsored-header").length,r={asin:n,isSponsored:a};n&&!p[n]?(p[n]={sponsored:a,noSponsored:!a},r.position=++d,i.push(r)):n&&(a&&!p[n].sponsored&&(p[n].sponsored=!0,r.position=++d,i.push(r)),a||p[n].noSponsored||(p[n].noSponsored=!0,r.position=++d,i.push(r)))})),t=!0}}catch(e){s.a.config.debug&&console.log("error",e)}(e("#s-results-list-atf").length>0||e(".s-results-list").length>0||t)&&e(".s-result-item.celwidget").each((function(t,s){const n=e(s).data("asin"),a=e(s).hasClass("AdHolder")||!!e(s).find(".s-sponsored-header").length,r={asin:n,isSponsored:a};n&&!p[n]?(p[n]={sponsored:a,noSponsored:!a},r.position=++d,i.push(r)):n&&(a&&!p[n].sponsored&&(p[n].sponsored=!0,r.position=++d,i.push(r)),a||p[n].noSponsored||(p[n].noSponsored=!0,r.position=++d,i.push(r)))}));const a=e(".s-result-list > .s-result-item");(a.length>0||t)&&a.each((function(t,s){if(s.outerHTML.includes("Prime Video"))return;const n=e(s).data("asin"),a=e(s).hasClass("AdHolder")||!!e(s).find(".s-sponsored-header").length,r={asin:n,isSponsored:a};n&&!p[n]?(p[n]={sponsored:a,noSponsored:!a},r.position=++d,i.push(r)):n&&(a&&!p[n].sponsored&&(p[n].sponsored=!0,r.position=++d,i.push(r)),a||p[n].noSponsored||(p[n].noSponsored=!0,r.position=++d,i.push(r)))}))}}let v=[];for(let e=0,t=0;e<i.length&&t<10;e++){const s=i[e];s.isSponsored||(v.push(s.asin),t++)}const y=e('input[name="field-keywords"]').val();k.successScore.twoFactor&&y&&!Object(n.h)()&&!S&&Object(l.b)(v);let _=[];e.each(i,(function(e,t){_.push(w+"bb-row-"+t.asin+"-isSponsored-"+t.isSponsored)})),Object.keys(p).length>1&&!g&&!Object(n.u)()?e("#black-box-summary").html('\n                       <div class="h10-bb-sales-rank">\n                            <div class="h10-bb-summary-labels"\n                                 title="Best Seller Rank (excluding sponsored listings)">\n                                BSR\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-sales-rank">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-avg-reviews">\n                            <div class="h10-bb-summary-labels"\n                                 title="Number of reviews (excluding sponsored listings)">\n                                Reviews\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-reviews-number">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-score">\n                            <div class="h10-success-score" id="h10-success-score-container">\n                                <div id="h10-bb-viability-score"></div>\n                            </div>\n                        </div>'):e("#black-box-summary").html('\n                        <div class="h10-bb-sales">\n                            <div class="h10-bb-summary-labels"\n                                 title="Total revenue (excluding sponsored listings)">\n                                Total Revenue\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-sales-number">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-monthly-sales">\n                            <div class="h10-bb-summary-labels"\n                                 title="Average revenue (excluding sponsored listings)">\n                                Avg. Revenue\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-monthly-sales">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-sales-rank">\n                            <div class="h10-bb-summary-labels"\n                                 title="Average Best Seller Rank (excluding sponsored listings)">\n                                Avg. BSR\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-sales-rank">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-avg-price">\n                            <div class="h10-bb-summary-labels"\n                                 title="Average price (excluding sponsored listings)">\n                                Avg. Price\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-price">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-avg-reviews">\n                            <div class="h10-bb-summary-labels"\n                                 title="Average number of reviews (excluding sponsored listings)">\n                                Avg. Reviews\n                            </div>\n                            <div class="h10-bb-summary-numbers" id="h10-bb-avg-reviews-number">\n                                <i class="fa fa-spinner fa-pulse fa-fw"></i>\n                            </div>\n                        </div>\n                        <div class="h10-bb-score">\n                            <div class="h10-success-score" id="h10-success-score-container">\n                                <div id="h10-bb-viability-score"></div>\n                            </div>\n                        </div>'),chrome.storage.local.get(_,(function(t){new Promise((s,n)=>{Object.keys(t).length||n(),e.each(t,(function(t,s){if(!s||s.time<Date.now()/1e3-21600)return!0;const n=s.rowData.ASIN;let a=s.rowData,r=-1;const o=e.grep(i,(function(e,t){if(e&&e.asin===n&&e.isSponsored===a.isSponsored)return r=t,!0}));i.splice(r,1),o[0]&&(a.isSponsored=o[0].isSponsored,a["Include in analysis"]=o[0].position),C().row.add(s.rowData)})),s()}).then(()=>{e("#bb-preloader").addClass("hide"),e("#black-box-table_wrapper").show(),C().order([1,"asc"]).draw(!1)}).catch(()=>{}),u=i.length,e.each(i,(function(t,i){const s=w+i.asin;chrome.storage.local.get(s,(function(t){let a=!1;if(Object.keys(t).length&&(a=t[s]),!a||a.time<Date.now()/1e3-21600){let t=new r.a;let s=window.location.origin+"/dp/"+i.asin;t.start(s),e(t).on(t.externalEvents.productNotScraped,(function(){u--})),e(t).on(t.externalEvents.productScraped,(function(e){u--;let t=e.productScrapedData;t.sellersNumber||(t.sellersNumber="1");let s={};s[w+t.asin]=Object(n.q)(t),chrome.storage.local.set(s),R(t,i),b[i.asin]={data:t,asinDataFromPage:i}}))}else u--,R(a,i),b[i.asin]={data:a,asinDataFromPage:i}}))}));const a=e("#bb-preloader");a.length&&(a.addClass("hide"),e("#black-box-table_wrapper").show(),C().order([1,"asc"]).draw(!1));let o=0;const c=setInterval((function(){o++,s.a.config.debug&&console.log(`Asins remains to process: ${Number(u)} | Interval counter: ${o}`),(!u||o>90)&&(clearInterval(c),setTimeout((function(){e.when.apply(e,m).always((function(){setTimeout((function(){C().order([1,"asc"]).draw(!1),s.a.config.debug&&console.log("finished non sponsored asins"),N(d,!1),s.a.config.debug&&console.log("⇒ %cNon Sponsored Resize","color: #982;"),m=[],Object(n.A)(!1),e.when.apply(e,f).always((function(){setTimeout((function(){s.a.config.debug&&console.log("finished sponsored asins"),C().rows().data().length>0?C().order([1,"asc"]).draw(!1):(e("#bb-preloader").remove(),e("#black-box-content").addClass("hide"),e("#black-box-summary").after('<div id="bb-preloader" class="bb-preloader"><div class="bb-line-1">Products not found</div></div>')),N(d,!0),s.a.config.debug&&console.log("⇒ %cSponsored Resize","color: green;"),f=[],M();const t=e("#zg_centerListWrapper").length||e("#zg-center-div").length;(y||t)&&k.successScore.multiFactor&&Object(l.a)(y),e("#h10-bb-activity-indicator").hide(),Object(n.A)(!1)}),1e3)}))}),1e3)}))}),100))}),1e3)}))}else if(401===h.status){D(`\n                        <div>\n                            <strong class="helium-login-notification">\n                                To unleash the power of Helium 10 please log in or create an account.\n                            </strong>\n                            <div class="show-more-block">\n                                <a class="show-more"\n                                   href="${s.a.config.memberAccountUrl}"\n                                   style="width: 30%"\n                                   target="_blank">\n                                    Log In to Helium 10</a>\n                            </div>\n                        </div>`),Object(n.A)(!1)}else if(403===h.status){D(`\n                        <div>You've used up all 50 trial uses. Get 50% off your FIRST month,\n                        join thousands of power-users by upgrading to our best-valued Platinum plan\n                         and unleash the power of Helium 10 by clicking\n                         <a target="_blank" href="${s.a.config.memberAccountUrl}/extension/pricing-page">HERE</a>.\n                         This offer can only be guaranteed through today.</div>`),Object(n.A)(!1)}else D("<div>Something went wrong. Please try again later</div>")}catch(e){console.log("%cInvocations error","color: #FF4081",e),403===e.status?D(`<div>Please make sure that you are logged in at \n                                <a href="${s.a.config.memberAccountUrl}" target="_blank">Helium10</a>!</div>`):D("<div>Something went wrong. Please try again later</div>")}})}function D(t){e("#h10-bb-export-wrapper").addClass("hide"),e("#bb-preloader").addClass("hide"),e("#black-box-summary").addClass("hide"),e("#black-box-content").addClass("black-box-message").html(t).removeClass("hide")}function N(t,i){const n=setTimeout((function(){e(document).off("click",".DTFC_LeftBodyLiner .h10-bb-action-delete"),e(document).off("mouseenter mouseleave",".DTFC_LeftBodyLiner td.h10-bb-inc-in-analysis-wrapper"),e(document).off("click","#h10-bb-load-second-page"),e(document).on("mouseenter",".DTFC_LeftBodyLiner td.h10-bb-inc-in-analysis-wrapper",(function(){e(this).html('<i class="fa fa-trash-o h10-bb-action-delete"></i>')})),e(document).on("click",".DTFC_LeftBodyLiner .h10-bb-action-delete",(function(){const t=e(this).parents("tr").attr("class").match(/(?<=asin-row-)[\S]{10}/)[0],i=h.findIndex(e=>e===t);-1!==i&&(h.splice(i,1),h.length<10&&e("input.h10-bb-checkbox-input:not(:checked)").removeAttr("disabled"),0===h.length&&e("#cerebro-button").addClass("disabled"),e("#asin-selected").text("ASIN Selected: "+h.length)),C().row(e(this).parents("tr")).remove().draw(!1);const s=e("#h10-bb-activity-indicator");s.show(),M(),s.hide()})),e(document).on("mouseleave",".DTFC_LeftBodyLiner td.h10-bb-inc-in-analysis-wrapper",(function(){const t=e("#black-box-table ."+e(this).parents("tr").attr("class").replace(/^(\S*).*/,"$1")).first();e(this).html(t.data("position"))})),e(document).on("click","#h10-bb-load-second-page",(function(){e("input.h10-bb-checkbox-input").attr("disabled","disabled");const t=e(this).data("position"),i=window.location.href;e(this).remove(),e("#h10-bb-activity-indicator").show(),S=!0,A(i,t),S=!1})),g&&x&&!e("#h10-bb-load-second-page").length&&t&&(s.a.config.debug&&console.log("append second page"),e(".container6").trigger("resize"),e(".DTFC_ScrollWrapper").append(`<div id="h10-bb-load-second-page" data-position="${t}">\n                    <i class="fa fa-angle-double-up"></i>\n                    Load more results\n                    <i class="fa fa-angle-double-up"></i>\n                </div>`)),clearTimeout(n)}),500);chrome.storage.local.set({limitdata:d}),i||j()}function R(e,t){const i=new Promise((function(t){const i={asins:JSON.stringify([e.asin]),marketplace:Object(n.m)(),hash:c};chrome.runtime.sendMessage({type:"get-black-box-sales",params:i},e=>{t(e)})}));t.isSponsored?f.push(i):m.push(i),i.then(e=>{if("error"!==e.status)return e;throw e}).then(i=>{const a=Object(n.k)().locale,r=Object(n.k)().currency,o=t.asin;let l,c,h,p=i.data,u={};u={ASIN:o,BSR:e.bsr,Brand:e.brand,Dimensions:"",Fulfillment:"",Images:"","Include in analysis":t.position,Pin:"",Checkbox:!1,Rating:e.reviewsRating,"Review Velocity":E("N/A"),Reviews:e.reviewsNumber,Seller:"",SellersNumber:-1,"Size Tier":"",Title:e.title,Weight:null,listingCreationDate:Object(n.n)(e.listingCreationDate,"date"),error:!1,isLimit:!1,isSponsored:t.isSponsored,key:o},"limit"===i.status?(u.isLimit=!0,l=!1,p={},p[o]={status:"error"}):l=p[t.asin].data;try{d.total=i.total,d.left.push(i.left)}catch(e){s.a.config.debug&&console.log(e)}let g,m=0;switch(e.bbSeller){case"AMAZON":g=1;break;case"FBA":g=2;break;case"MERCH":g=3;break;case"FLF":g=4;break;default:g=0}if("error"===p[o].status){if(u.error=!l||l.error,u.Revenue={display:0,value:-1},u.chartPoints=!1,"en-CA"===Object(n.k)().locale?u.Margin={display:Object(n.j)(0,!0),value:0}:u.Margin={display:new Intl.NumberFormat(a,{style:"currency",currency:r}).format(0),value:0},u.Sales={display:'<span class="h10-grey-color">n/a</span>',value:-1},u.Title="",u.Category="",l&&l.category&&l.productData){u.imageUrl=l.productData.imageUrl||e.imageUrl||"",u.Title=l.productData.title||"",u.Category=l.category.name||"",u.Fulfillment=g||l.productData.sellerType||0,u.SellersNumber=e.sellersNumber||l.productData.sellersNumber||-1,m=l.productData.price,(!m||m<=0)&&(m=" ");const t=l.productData.fbaFee>0?l.productData.fbaFee/100:0;"en-CA"===Object(n.k)().locale?u.Margin={display:Object(n.j)(t,!0),value:t}:u.Margin={display:new Intl.NumberFormat(a,{style:"currency",currency:r}).format(t),value:t}}u.Price=m>1e3?Object(n.n)(m,"currency",!1):Object(n.n)(m,"currency",!0),u.BSR="",u["Sales 30"]=""}else{const t=l.bsrHistory.history,i=l.salesHistory.history;let s=[];i&&Object.keys(i).filter((function(e){const t=new Date(e),i=new Date;return i.setDate((new Date).getDate()-30),t.getTime()>i.getTime()})).forEach((function(e){s.push(i[e])})),u.chartPoints=s,u.imageUrl=l.productData.imageUrl||e.imageUrl||"",u.Title=l.productData.title||"",u.Fulfillment=g||l.productData.sellerType||0,u.Category=l.category.name||"",u.SellersNumber=e.sellersNumber||l.productData.sellersNumber||-1;let o=" ";t&&(o=t[Object.keys(t)[Object.keys(t).length-1]]||" "),u.BSR=o,u["Sales 30"]=" ",m=e.price||l.productData.price,(!m||m<=0)&&(m=" ");const c=l.productData.fbaFee>0?l.productData.fbaFee/100:0;"en-CA"===Object(n.k)().locale?u.Margin={display:Object(n.j)(c,!0),value:c}:u.Margin={display:new Intl.NumberFormat(a,{style:"currency",currency:r}).format(c),value:c};let h=m*l.salesHistory.last30DaysSales;(isNaN(h)||!h||h<0)&&(h=0);const d=new Intl.NumberFormat(a,{minimumFractionDigits:2}).format(h);u.Revenue={display:d,value:h},u.Price=m>1e3?Object(n.n)(m,"currency",!1):Object(n.n)(m,"currency",!0),u.Sales={display:new Intl.NumberFormat(a).format(l.salesHistory.last30DaysSales||0),value:l.salesHistory.last30DaysSales||0}}if(l&&l.productData&&l.productData.dimensions){h=l.productData.dimensions;let e=!0;for(let t in h)h.hasOwnProperty(t)&&"weight"!==t&&-1===h[t]&&(e=!1);u.Dimensions=e?h.width.toFixed(1)+"x"+h.length.toFixed(1)+"x"+h.height.toFixed(1):null,u.Weight=Math.round(100*h.weight)/100,u["Size Tier"]=l.productData.sizeTier||"",u.Images=l.productData.numberOfImages||""}if(l&&l.reviewHistory){c=l.reviewHistory;try{if(!Array.isArray(c)){const e=Object.keys(c);u["Review Velocity"]=E(c[e[e.length-1]].count-c[e[0]].count)}}catch(e){s.a.config.debug&&console.log("e",e)}}if("limit"===i.status)u.SellersNumber='<span class="h10-bb-blur">'+new Intl.NumberFormat(a).format(Math.floor(10*Math.random()+5))+"</span>",u.Price={display:'<span class="h10-bb-blur">'+new Intl.NumberFormat(a,{style:"currency",currency:r}).format(Math.floor(100*Math.random()+1))+"</span>",value:0},u.Margin={display:'<span class="h10-bb-blur">'+new Intl.NumberFormat(a,{style:"currency",currency:r}).format(Math.floor(100*Math.random()+1))+"</span>",value:0},u.Sales={display:'<span class="h10-bb-blur">'+new Intl.NumberFormat(a).format(Math.floor(1e4*Math.random()+1))+"</span>",value:0},u.Revenue={display:'<span class="h10-bb-blur">'+new Intl.NumberFormat(a,{style:"currency",currency:r}).format(Math.floor(1e4*Math.random()+1))+"</span>",value:0},u.BSR=new Intl.NumberFormat(a).format(Math.floor(1e4*Math.random()+1)),u.Fulfillment=4;else{let e={};e[w+"bb-row-"+o+"-isSponsored-"+t.isSponsored]={rowData:u,time:Math.floor(Date.now()/1e3)},chrome.storage.local.set(e)}return new Promise(e=>{C().row.add(u);const t=setTimeout(()=>{v++,e(v),clearTimeout(t)},200)})}).then(e=>{e%3==0&&C().order([1,"asc"]).draw(!1)}).catch(e=>{console.log("%cSales error","color: #FF4081",e)})}function E(e){if(isNaN(e))return{display:'<span class="h10-grey-color">n/a</span>',value:-999999999};let t="h10-grey-color";return e>0&&(t="h10-green-color"),e<0&&(t="h10-red-color"),{display:`<span class="${t}">${e}</span>`,value:e}}function M(){e("input.h10-bb-checkbox-input").removeAttr("disabled"),h.forEach(t=>{e(`.asin-row-${t} .h10-bb-checkbox-input`).prop("checked",!0)});const t=C().rows().data();s.a.config.debug&&console.log("⇒ %ccalculateTotals","color:red;");let i=0,a=0,r=0,o=0,l=0,c=0,d=0,p=0,u=0;t.each((function(e){if(e.isSponsored)return!0;const t=e.Price.value;t&&"number"==typeof t&&(i+=t,a++);const s=e.Revenue.value,n=e.Sales.value;s&&"number"==typeof s&&-1!==s&&n&&"number"==typeof n&&-1!==n&&(o++,l+=s,r+=n);const h=e.BSR;h&&"number"==typeof h&&(c+=h,d++);const g=e.Reviews;g&&"number"==typeof g&&(p+=g,u++)}));const g=u?Math.round(p/u):null;e("#h10-bb-avg-reviews-number").text(g?g.toLocaleString(Object(n.k)().locale):"N/A");const m=parseInt(r/o)||"N/A";e("#h10-bb-avg-monthly-sales").text(m.toLocaleString(Object(n.k)().locale));let f=parseInt(c/d)||"N/A";if("N/A"!==f){let t=new Intl.NumberFormat(Object(n.k)().locale,{maximumFractionDigits:0});f>1e6&&e(".h10-bb-summary-numbers").addClass("h10-small-numbers"),f=t.format(f)}e("#h10-bb-avg-sales-rank").text(f);let v=i/a||"N/A";v=isNaN(v)?"N/A":v<1e3?"en-CA"===Object(n.k)().locale?Object(n.j)(v,!0):v.toLocaleString(Object(n.k)().locale,{style:"currency",currency:Object(n.k)().currency,minimumFractionDigits:2,maximumFractionDigits:2}):"en-CA"===Object(n.k)().locale?Object(n.j)(v,!1):v.toLocaleString(Object(n.k)().locale,{style:"currency",currency:Object(n.k)().currency,minimumFractionDigits:0,maximumFractionDigits:0}),e("#h10-bb-avg-price").text(v);const b=parseFloat(l/o)||"N/A";"en-CA"===Object(n.k)().locale?e("#h10-bb-sales-number").text(Object(n.j)(l,!1)):e("#h10-bb-sales-number").text(l.toLocaleString(Object(n.k)().locale,{style:"currency",currency:Object(n.k)().currency,minimumFractionDigits:0,maximumFractionDigits:0})),"en-CA"===Object(n.k)().locale?isNaN(b)?e("#h10-bb-avg-monthly-sales").text("N/A"):e("#h10-bb-avg-monthly-sales").text(Object(n.j)(b,!1)):e("#h10-bb-avg-monthly-sales").text(b.toLocaleString(Object(n.k)().locale,{style:"currency",currency:Object(n.k)().currency,minimumFractionDigits:0,maximumFractionDigits:0})),"en-CA"===Object(n.k)().locale&&e(".h10-bb-summary-numbers").addClass("h10-small-numbers")}function j(){const t={marketplace:Object(n.m)()};chrome.runtime.sendMessage({type:"get-black-box-products-list",params:t},t=>{if("error"===t.statusText||"error"===t.status)return void(s.a.config.debug&&console.log("%cProducts from ideas error","color: #FF4081"));const i=t.data;e("i.fa.fa-thumb-tack").removeClass("clicked"),i.forEach((function(t){e(".asin-row-"+t.asin+" i").addClass("clicked")}))})}function I(e){k=e}chrome.storage.local.get("limitdata",(function(e){Object.keys(e).length&&(d=e.limitdata)}))}).call(this,i(3))},5:function(e,t,i){"use strict";(function(e,s){i.d(t,"a",(function(){return u})),i.d(t,"f",(function(){return f})),i.d(t,"b",(function(){return v})),i.d(t,"e",(function(){return b})),i.d(t,"d",(function(){return y})),i.d(t,"c",(function(){return w}));var n=i(2),a=i(12),r=i(0),o=i(4),l=i(17),c=i(18),h=i(170),d=i(19),p=i(20);i(162),i(163),i(164),i(165);e.config.silent=!0;let u=window.location.origin;Object(r.z)(chrome.runtime.id);const g=s("body");function m({data:e,text:t,type:i}){"sellers-found"===i?Object(l.a)(e):Object(l.a)(null,null,t)}function f(){chrome.runtime.sendMessage({type:"send-launch-information",key:"inventory"}),k("#stock-stats"),S(".inventory-level-modal");const e=Object(r.h)();!function(e){s("#il-preloader").removeClass("hide"),s("#product-preview").addClass("hide"),s("#sellers-table").addClass("hide");const t=`https://www.amazon.${Object(r.l)()}/dp/${e}`;fetch(t,{method:"GET",credentials:"same-origin"}).then(e=>{if(200===e.status)return e.text();throw e.status}).then(i=>{const n=s(i),a=(n.find("#productTitle").text()||self.data.find("#btAsinTitle").text()||self.data.find("#aiv-content-title").text()||self.data.find("#title_feature_div").text()||self.data.find("#ebooksProductTitle").text()||self.data.find(".AAG_ProductTitle a").attr("title")||"N/A").trim();let o=n.find("#landingImage, #imgBlkFront, #ebooksImgBlkFront").attr("data-a-dynamic-image");o?(o=JSON.parse(o),o=Object.keys(o)[0]?Object.keys(o)[0].trim():null):(o=n.find("#main-image").attr("src"),o||(o=n.find("#js-masrw-main-image").attr("afr-data-src")));let l=function(e){try{const t=Object(r.l)();let i,n=e.find("#SalesRank").length>0?e.find("#SalesRank"):e.find("#prodDetails .attrG .pdTab").last();if(n.length>0){let t;n.is("tr")?t=e.find("#SalesRank .value").clone().find("ul,style,li").remove().end().text().trim():(t=n.clone().find("b,ul,style,li,table").remove().end().text().trim(),t||(t=n.clone().find("b,style,table").remove().end().text().trim())),i=t.match(/((#)|(Nr\.\s)|(n\.\s)|(nº\s?))?[0-9,.]+/i),i&&(i=i[0].replace(/(#)|(Nr\.)|(n\.)|(nº)|(,)|(\.)/gi,"").trim())}else{let n,a=Object(r.i)(e,t),o=0;a&&a.length&&a.find("span").each((function(){const e=s(this).text().split(">").length;(0===o||e<o)&&(o=e,n=s(this))})),n&&(i=n.text().match(/\d+[.,\d]*\d*/s),i=i&&i.length?i[0].replace(/[^\d]/g,""):""),!i&&a&&a.length&&a.each((function(){i||(i=s(this).text().match(/\d+[.,\d]*\d*/s),i=i&&i.length?i[0].replace(/[^\d]/,""):"")}))}return i=i?isNaN(i)?i:Intl.NumberFormat(Object(r.k)().locale).format(i):"n/a",i}catch(e){return console.log("%cError","color: #FF4081",e),"n/a"}}(n);s("#product-title").text(a).attr("href",t),s(".media-object").attr("src",o),s("#product-asin").text(e),s("#product-bsr").text(l),s("#product-preview").removeClass("hide")}).catch(e=>{console.log("%cError","color: #FF4081",e)})}(e),Object(l.b)().clear(),chrome.runtime.sendMessage({type:"get-sellers",asin:e,amazonDomain:u},m)}function v(){function e(){chrome.storage.local.get("invocations",e=>{0===e.invocations.left?(Object(r.A)(!1),k("#xray-limit-modal-tab"),S(".xray-limit-modal"),h.a.$mount("#xray-limit-modal-tab .h10-container")):function(){k("#black-box-tab"),S(".xray-modal"),Object(r.p)()&&Object(o.a)(!1);s(".container6").trigger("resize")}()})}Object(r.p)()?chrome.runtime.sendMessage({type:"get-invocations"},t=>{chrome.storage.local.set({invocations:t},()=>{e()})}):e()}function b(e){switch(chrome.runtime.sendMessage({type:"send-launch-information",key:"profitability-calculator"}),k("#profitability-calculator-tab"),S(".profitability-calculator-modal"),s("#profitability-calculator-tab .h10-container"),Object(r.m)()){case"ATVPDKIKX0DER":d.a.predefinedAsin=e||null,d.a.$mount("#profitability-calculator-tab .h10-container");break;case"A1F83G8C2ARO7P":case"A1PA6795UKMFR9":case"APJ6JRA9NG5V4":case"A1RKKUPIHCS9HS":case"A13V1IB3VIYZZH":case"A21TJRUUN4KGV":case"A2EUQ1WTGCTBG2":case"A1AM78C64UM0Y8":p.a.predefinedAsin=e||null,p.a.$mount("#profitability-calculator-tab .h10-container")}}function y(){const e=s("#search"),t=s("#searchTemplate"),i=s("#search-results");let n;e.length?n=e:t.length?n=t:i.length?n=i:(console.log("%c⇒ Not found container ID on search page","color: #FF4081"),n=s("#a-page")),0===s(".helium-overlay").length&&(s('<div class="helium-overlay"><div id="helium-popup"></div></div>').appendTo(n).hide(),s("#helium-popup").draggable({handle:".helium-popup-top",containment:"window",cancel:".helium-popup-close",start:function(){s(this).find(".h10-popup-container").addClass("helium-hide-content"),s("#helium-popup").addClass("h10-popup-grabbed")},stop:function(){s(this).find(".h10-popup-container").removeClass("helium-hide-content"),s("#helium-popup").removeClass("h10-popup-grabbed"),s(this).position().top<0&&s(this).css("top",0)}}))}function w(e,t,i){let a=`${n.a.config.backend.baseUrl}/chart/index?asin=${t.asin}&marketplace=${Object(r.m)()}&range=30`;e.each((function(){let e=s("#helium-popup");"N/A"===t.title&&(t.title=s(this).find("h2").text().trim()||s(this).find(".p13n-sc-truncated").text().trim()||""),s(this).find(".helium-spinner").remove(),s(this).find(".helium-root").length||(s(this).find(".helium-container").prepend(i),s(this).find(".helium-preview").on("click",(function(i){if(i.preventDefault(),!e.is(":visible")){let i,n=t.detailsHtml?s("<div>"+t.detailsHtml+"</div>"):"";n.length&&(n.find(".a-declarative").addClass("helium-inactive-link"),n.find(".a-declarative a").addClass("helium-inactive-link"),n.find("i.a-icon-popover").remove(),n.find('h1:contains("Feedback"), h1:contains("Votre avis"), h1:contains("Ayúdanos a mejorar")').parent().parent().remove(),n.find('h1:contains("Especificaciones técnicas"), h1:contains("Technical Specification"), h1:contains("Weitere technische Informationen"), h1:contains("Spécifications techniques")').parent().parent().parent().remove(),i=n.html()),i=i||"";let r=`<div class="helium-popup-top">\n                                <div class="h10-modal-title" title="${t.title}">${t.title}</div>\n                                <div class="helium-popup-close"></div>\n                            </div>\n                            <div class="h10-popup-container">                                \n                                \x3c!--suppress HtmlDeprecatedAttribute --\x3e\n                                <iframe src="${a}"\n                                        style="width: 100%; height: 340px; border:0 none;overflow: hidden;"\n                                        scrolling="no">\n                                </iframe>\n                                <div class="helium-popup-description">${i}</div>\n                            </div>`;s(".helium-overlay").show(),e.html(s.parseHTML(r)).show(),s(".helium-overlay").on("click",(function(e){"helium-overlay"!==e.target.className&&"helium-popup-close"!==e.target.className||(s("#helium-popup").hide(),s(".helium-overlay").hide())})),setTimeout((function(){e.scrollTop(1)}),300)}})))}))}function k(e){s(".tab.active").removeClass("active"),s('[href="'+e+'"]').addClass("active"),s(".container6 .content-div").each((function(e,t){s(t).hasClass("hide")||s(t).addClass("hide")})),s(e).removeClass("hide"),s(e).find(".content-div").removeClass("hide"),s(".h10-bb-settings-popup").addClass("hide")}function S(e){s(".h10-overlay").hide(),s(e).parents(".h10-overlay").show(),Object(c.b)(!0),s(e).css("top","50px"),s(e).show()}function x(){Object(c.b)(!1),s("#h10-bb-10-chart-iframe").attr("src",null),s(".h10-bb-graph-popup-content .component-loader").show(),s(".h10-bb-graph-popup").addClass("hide"),s("#black-box-tab").css("opacity",1),s(".h10-overlay ").hide(),s(".container6").hide()}s((function(){s.fn.raty.defaults.path=chrome.extension.getURL("html/images"),g.append(a.c),g.append(a.e);const e=chrome.extension.getURL("html/images/logo.svg");s("#bb-helium-logo").attr("src",e),g.append(a.f),g.append(a.a),s("#ag-helium-logo").attr("src",e),g.append(a.d),g.append(a.b),Object(r.h)()&&s("#h10-inventory-levels").parent().removeClass("hide"),s(".h10-bb-summary-labels").tooltipster();const t="h10-bb-columns-options";chrome.storage.local.get(t,(function(e){let i={};if(Object.keys(e).length)i=e[t];else{let e={"h10-bb-columns-options":{}};for(let s=0;s<21;s++)e[t][s]=!0,i[s-1]=!0;chrome.storage.local.set(e)}s.each(i,(function(e,t){if(!t){Object(o.d)().column(parseInt(e)+1).visible(!!t),s("#h10-bb-column-"+e).prop("checked",!1)}}))})),s(".h10-ag-csv-action").tooltipster({content:"Download CSV report"}),s(".h10-bb-csv-action").tooltipster({content:"Download CSV report"}),s(".h10-bb-screenshot-action").tooltipster({content:"Export as image"}),s(".h10-bb-list-action").tooltipster({content:"Open My List"}),s(".container6").draggable({handle:".top-tabs",containment:"window",cancel:".close-btn, .h10-modal-upgrade-plan-button",start:function(){s(this).addClass("h10-bb-dragged"),s(this).find(".content-div").addClass("hide-content")},stop:function(){s(this).find(".content-div").removeClass("hide-content"),s(this).removeClass("h10-bb-dragged"),s(this).position().top<0&&s(this).css("top",0)}}),s(".container6:not(.profitability-calculator-modal, .xray-limit-modal)").resizable({stop:function(e){e.target.matches(".xray-modal")&&Object(o.d)().draw()}}),s(".container6").on("resize",(function(){const e=s(".container6:visible"),t=e.height()-297,i=t+40,n=e.height()-40,a=s("#black-box");a.height(n+"px"),s("#black-box .dataTables_scrollBody").css("max-height",t+"px"),s("#sellers-table tbody").height(i),s(".bb-footer").css("width",a.width()+"px").css("top",t+237);const r=a.width()-340;s("div.h10-bb-settings-popup ").css("left",r)})),s(document).on("click",".helium10-overlay",(function(){x()})),s(document).on("click",".close-btn, .h10-btn-cancel",(function(e){const t=s(e.target.closest(".container6"));return s(".h10-bb-settings-popup").addClass("hide"),x(),t.find(".fba-calc-eu").length&&p.a.resetData(),t.find(".fba-calc-us").length&&d.a.resetData(),!1})),s(".h10-bb-columns-options").on("change",(function(){let e=Object(o.d)();const i=parseInt(s(this).attr("data-column"))+1,n=e.column(i),a=!n.visible();n.visible(a,!0),chrome.storage.local.get(t,(function(e){if(Object.keys(e).length){let n=e[t];n[i-1]=a,chrome.storage.local.set({[t]:n}),s(".container6").trigger("resize")}}))})),s(document).on("click","#black-box",(function(e){if(s(e.target).hasClass("h10-bb-settings"))return!1;s(".h10-bb-settings-popup").addClass("hide")})),chrome.runtime.onMessage.addListener((function(e,t,i){if(e.hasOwnProperty("type"))switch(e.type){case"open-stock-stats":f();break;case"open-asin-grabber":s("#ag-preloader").removeClass("hide"),k("#asin-grabber"),S(".asin-grabber-modal"),s(".container6").trigger("resize"),c.a.$mount("#asin-grabber .h10-container");break;case"on-product-page":!function(e){const t=s("body");let i={status:!1,marketplace:Object(r.m)()};Object(r.h)()?i.status="product":(t.find("#s-results-list-atf").length>0||t.find("#zg_centerListWrapper").length>0||t.find(".zg-item-immersion .a-list-item").length>0||t.find(".s-result-list .s-result-item ").length>0)&&(i.status="listing");e(i)}(i);break;case"get-asin-origins":!function(e){const t={fourAndAbove:!0,sponsored:!0,boughtTogether:!0};s("#sp_detail_thematic, #sp_detail_thematic-highly_rated").length||(t.fourAndAbove=!1);s('#sp_detail, #sp_detail-none, #sp_detail2-none, div[cel_widget_id="sp_detail"]').length||(t.sponsored=!1);s("#sims-fbt-container").length||(t.boughtTogether=!1);e(t)}(i);break;case"open-black-box":v();break;case"open-calculator":b()}return!0}))}))}).call(this,i(14),i(3))},6:function(e,t,i){"use strict";(function(e,s){i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i(0);var a=new function(t){var i=this;this.config=e.extend({},{},t||{}),this.activeDownloads=0,this.last10AverageSpeed=0,this.last10Downloads=[],this.download=function(e,t,s,a){if(a)if(i.activeDownloads>5){const n=setTimeout((function(){i.download(e,t,s,a),clearTimeout(n)}),i.last10AverageSpeed)}else{i.activeDownloads++;var r=(new Date).getTime(),o={type:"download",url:e,isProductPage:!0};chrome.runtime.sendMessage(Object(n.o)(),o,(function(e){if(e&&e.err)return i.activeDownloads--,void("function"==typeof s&&s());var n=(new Date).getTime()-r;n>0&&(i.last10Downloads.length>9&&i.last10Downloads.shift(),i.last10Downloads.push(n),i.last10AverageSpeed=i.last10Downloads.reduce((function(e,t){return e+t}))/i.last10Downloads.length),i.activeDownloads--,"function"==typeof t&&t(e.data)}))}else"function"==typeof s&&s()}},r={start:function(){var t=new s.Event(this.externalEvents.beforeStart);if(e(this).trigger(t),!t.isDefaultPrevented()){if(!this.config.url){var i=new s.Event(this.externalEvents.errorNoUrl);if(e(this).trigger(i),i.isDefaultPrevented())return}var n=this;a.download(this.config.url,(function(t){var i=new s.Event(n.externalEvents.dataLoaded,{loadedData:t});e(n).trigger(i);var a=t.replace(/(<[\s\S]*?)(src=['"][\s\S]*?['"])([\s\S]*?>)/gi,"$1afr-data-$2$3").replace(/onload\s*=\s*['"][\s\S]+?['"]/gi,"");setTimeout((function(){n.process(a)}),0)}),(function(){setTimeout((function(){var t=new s.Event(n.externalEvents.errorDataLoad);e(n).trigger(t)}),0)}),n);var r=new s.Event(this.externalEvents.afterStart);e(this).trigger(r)}},process:function(t){var i=new s.Event(this.externalEvents.beforeProcess);if(e(this).trigger(i),!i.isDefaultPrevented()){if(this.config.parsers)for(var n in this.config.parsers){var a=this.config.parsers[n];a.config.html=t,a.config.url=this.config.url,a.parse()}var r=new s.Event(this.externalEvents.afterProcess);e(this).trigger(r)}},config:{url:null,parsers:{}},externalEvents:{beforeStart:"beforeStart.ScraperTask",afterStart:"afterStart.ScraperTask",beforeProcess:"beforeProcess.ScraperTask",afterProcess:"afterProcess.ScraperTask",errorNoUrl:"errorNoUrl.ScraperTask",dataLoaded:"dataLoaded.ScraperTask",errorDataLoad:"errorDataLoad.ScraperTask"}};function o(t){this.__proto__=r,this.config=e.extend({},this.config,t)}var l={config:{},externalEvents:{notifyProgress:"progress.Scraper"},progressCounters:{total:0,done:0},notifyProgress:function(){var t=this.progressCounters.total>0?this.progressCounters.done/this.progressCounters.total:0,i=new s.Event(this.externalEvents.notifyProgress,{progressData:{percent:t,counters:this.progressCounters}});e(this).trigger(i)}}}).call(this,i(3),i(3))},7:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return s}));var s={config:e.extend({},{url:null,html:null}),externalEvents:{start:"start.parser",finish:"finish.parser"}}}).call(this,i(3))},8:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return l})),i.d(t,"c",(function(){return c})),i.d(t,"b",(function(){return h}));var s=i(2),n=i(0),a=i(5),r=i(171),o=i(173);let l=[];function c(){l=h(),s.a.config.debug&&console.log("start update"),e("#helium-fees-wrapper").remove(),e("#helium-seller-info").remove();const t=Object(n.m)();Object(n.z)(chrome.runtime.id);const i=Object(n.r)()||Object(n.h)();let c="";if(!i)return!1;c=i;let d="";const p=e("#priceblock_ourprice");let u=e("#actualPriceValue").text()||p.text()||e("#priceblock_saleprice").text()||e("#priceBlock .priceLarge").text()||e("#buyNewSection .a-color-price.offer-price").text()||e("div.sims-fbt-checkbox-label span.a-color-price span").eq(0).text()||e("#priceblock_dealprice").text();const g=/(\$|€|£|CDN\$\s|EUR\s)?[0-9,.]+/i;if(u=u&&u.replace(/\s/g,""),u=u.match(g)?u.match(g)[0]:"",u=u.replace(/(\$|€|£|CDN\$\s|EUR\s)/i,""),u=u.replace(/(\d+)[,.](?=\d{3}(\D|$))/g,"$1"),u=u.replace(",","."),p.length){const e=p.find(".price-large");if(e.length){const t=e.text().trim();let i=p.clone().find(".price-large").remove().end().text().trim().match(/\d+/);i.length&&(i=i[0]),u=`${t}.${i}`}}u=isNaN(u)||!u?0:parseFloat(u),setTimeout((function(){let t=null;try{const i=e("body");i.attr("data-h10-detail-state")&&(t=JSON.parse(i.attr("data-h10-detail-state")))}catch(e){console.log("error",e)}let i={};t&&t.current_asin&&(d=t.current_asin,t.parent_asin&&(i.parent=t.parent_asin),t.asin_variation_values&&(i.variations=t.asin_variation_values)),P(c||d,u)}),0);let m="";function f(t){const i=e("#helium-brands-info");e("#helium-brands-counter").text("("+t.total+")"),i.append(e("<ul>")).append(e("<ul>")).append(e("<ul>")).append(e("<ul>"));let s=0,n=0;for(let i in t.brands){n++;let a="";if(n>24&&(a="display:none;"),n>100)break;const r='<li style="'+a+'"><a href="'+t.brands[i].link+'">'+i+"</a> <span>"+t.brands[i].count+"</span></li>";e("#helium-brands-info").find("ul").eq(s).append(r),s++,4===s&&(s=0)}n>24&&i.append('<div class="show-more-block">\n                    <a class="show-more" id="helium-show-more-brands">Show more</a>\n                </div>'),n>100&&i.append(e("<strong>",{text:"This seller has more than 100 brands. Only the first 100 will be shown. ",id:"helium-show-more-brands-limit"})),e("#helium-show-more-brands").click((function(){e(this).hide(),i.find("li").show(),e("#helium-show-more-brands-limit").css("display","block")})),e("#helium-brands-toggle-button").click((function(){let t=e(this).find("img");const i=e("#helium-brands-info");return i.is(":visible")?(e("#helium-brands-toggle-text").text("Show"),t.attr("src",t.data("down-arrow")),i.hide()):(e("#helium-brands-toggle-text").text("Hide"),t.attr("src",t.data("up-arrow")),i.show()),!1}))}e("#merchant-info a").each((function(){if(e(this).attr("href").includes("gp/help/seller/at-a-glance.html")){const t=new URLSearchParams(e(this).attr("href")).get("seller");t&&"A2L77EE7U53NWQ"!==t&&(m=t)}}));const v=chrome.runtime.getURL("html/images/icons/cerebro-icon.svg"),b=chrome.runtime.getURL("html/images/icons/xray-icon.svg"),y=chrome.runtime.getURL("html/images/icons/scribbles-icon.svg"),w=chrome.runtime.getURL("html/images/icons/stock-icon.svg"),k=chrome.runtime.getURL("html/images/arrow3.png"),S=chrome.runtime.getURL("html/images/arrow4.png");function x(i,n){const r=`${s.a.config.backend.baseUrl}/chart/index?asin=${i}&marketplace=${t}&range=30`,o=e("<iframe/>",{style:"width: 100%; border:0 none;overflow: hidden;min-height: 350px;max-height: 600px;",scrolling:"no"}),l=e("#helium-product-info-wrapper").find(".content");l.append(o);let c=document.querySelector("#helium-product-info-wrapper .content"),h=setInterval((function(){c&&c.offsetWidth>500&&(o[0].src=r,clearInterval(h))}),500);F(n),m&&l.append(e(`<div id="helium-brands-section">\n                            <div class="calc ver1">\n                                <div class="line"></div>\n                                <span class="txt">Other brands by this seller </span>\n                                <a href="#" class="btn" id="helium-brands-toggle-button">\n                                    <span id="helium-brands-toggle-text">Hide </span>\n                                    Brands <span id="helium-brands-counter"></span>\n                                    <img src="${S}" data-down-arrow="${S}" data-up-arrow="${k}" alt="">\n                                </a>\n                            </div>\n                            <div id="helium-brands-info"></div>\n                        </div>`)),e("#helium-inventory-levels").click((function(){return Object(a.f)(),!1})),e("#helium-black-box").click((function(){return Object(a.b)(),!1})),e("#helium-profitability-calculator-link").click((function(){return Object(a.e)(),!1})),e(".helium-tooltip").mouseover((function(){e(this).parent().find(".helium-tooltip-message").show()})).mouseleave((function(){e(this).parent().find(".helium-tooltip-message").hide()})),e(".helium-tooltip-total").mouseover((function(){e(this).parent().find(".helium-tooltip-message").show()})).mouseleave((function(){e(this).parent().find(".helium-tooltip-message").hide()}))}m&&setTimeout((function(){chrome.storage.local.get(m,(function(t){if(Object.keys(t).length)f(t[m]);else{const t=new r.a;t.start(m),e(t).on(t.externalEvents.profileNotScraped,(function(e){console.log(e)})),e(t).on(t.externalEvents.profileScraped,(function(t){if(t.profileScrapedData.brands.hasOwnProperty("See more")){const i=t.profileScrapedData.brands["See more"],s=new o.a;s.start(i),e(s).on(s.externalEvents.brandsNotScraped,(function(e){console.log(e)})),e(s).on(s.externalEvents.brandsScraped,(function(e){let t={};t[m]={count:e.brandsScraped.count,brands:e.brandsScraped.brands,total:e.brandsScraped.total},chrome.storage.local.set(t),f(e.brandsScraped)}))}else{let e={brands:{}},i=0;for(let s in t.profileScrapedData.brands)i++,e.brands[s]={link:t.profileScrapedData.brands[s],count:""};e.total=i,e.count=-1;let s={};s[m]={count:e.count,brands:e.brands,total:e.total},chrome.storage.local.set(s),f(e)}}))}}))}),4e3);const _=chrome.runtime.getURL("html/images/spinner32.gif");let C=0;function F(i){const s=function(t){const i=t.listPrice?`<div class="data2"><span class="green">Listing price: ${t.listPrice} ${t.currencySign}</span></div>`:"",s=t.bsrList,a=Object.keys(s);let r="";a.forEach(e=>{r+=`<span id="helium-product-bsr">#${s[e]} in ${e}</span>`});const o=t.brand,l=o?`<div class="product-brand">Brand: ${o}</div>`:"",c=t.itemDimensions,h=c&&c.weight?Number(c.weight).toFixed(2):"N/A",d=c&&c.length?Number(c.length).toFixed(2):"N/A",p=c&&c.width?Number(c.width).toFixed(2):"N/A",u=c&&c.height?Number(c.height).toFixed(2):"N/A",g=c?`<li>Item Dimensions: ${u} x ${d} x ${p} ${Object(n.s)()}</li>`:"",m=t.packageDimensions,f=m&&m.weight?Number(m.weight).toFixed(2):"N/A",v=m&&m.length?Number(m.length).toFixed(2):"N/A",b=m&&m.width?Number(m.width).toFixed(2):"N/A",y=m&&m.height?Number(m.height).toFixed(2):"N/A",w=m?`<li>Package Dimensions: ${y} x ${v} x ${b} ${Object(n.s)()}</li>`:"",x=Math.round(100*(Number(t.price)-Number(t.feesEstimateMfnTotal)))/100,_=Math.round(100*(Number(t.price)-Number(t.feesEstimateFbaTotal)))/100,C=new Intl.NumberFormat(Object(n.k)().locale).format(x),F=new Intl.NumberFormat(Object(n.k)().locale).format(_),z=t.feesEstimateFbaTotal,P=t.feesEstimateMfnTotal,T=t.feeEstimateFbaListArray;let A=t.feeEstimateFbaListArray.length?"":"<li>Fee calculation error</li>";Array.isArray(T)&&T.forEach(e=>{A+=`<li>${e.type}: <span>${e.amount} ${t.currencySign}</span></li>`});const O=t.feeEstimateMfnListArray;let D=t.feeEstimateMfnListArray?"":"<li>Fee calculation error</li>";Array.isArray(O)&&O.forEach(e=>{D+=`<li>${e.type}: <span>${e.amount} ${t.currencySign}</span></li>`});return e(`<div class="calc">\n                    <div class="line"></div>\n                    <span class="txt">Revenue calculator</span>\n                    <a href="#" class="btn" id="revenue-calculator-toggle-button">\n                        <span>Hide</span>\n                        <img src="${k}" data-down-arrow="${S}" data-up-arrow="${k}" alt="">\n                    </a>\n                </div>\n                <div id="helium-revenue-calculator-wrapper">\n                    <div class="helium-revenue-calculator">\n                    <div class="left-col">\n                        <div class="wrapper">\n                            <table class="h10-calculator-table">\n                                <tbody>\n                                <tr>\n                                    <td>&nbsp;</td>\n                                    <td>MFN</td>\n                                    <td>FBA</td>\n                                </tr>\n                                <tr>\n                                    <td>Selling Price</td>\n                                    <td>\n                                        <div class="cost-wrapper">\n                                            <span class="currency-sign">${t.currencySign}</span>\n                                            <input placeholder="" type="number" min="0" class="helium-sell-price-input"\n                                                   id="helium-sell-price-mfn" data-type="mfn"\n                                                   data-fees-value="${t.feesEstimateMfnTotal}"\n                                                   value="${t.price}">\n                                        </div>\n                                    </td>\n                                    <td>\n                                        <div class="cost-wrapper">\n                                            <span class="currency-sign">${t.currencySign}</span>\n                                            <input placeholder="" type="number" min="0" class="helium-sell-price-input"\n                                                   id="helium-sell-price-fba" data-type="fba"\n                                                   data-fees-value="${t.feesEstimateFbaTotal}"\n                                                   value="${t.price}">\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Product Cost</td>\n                                    <td>\n                                        <div class="cost-wrapper">\n                                            <span class="currency-sign">${t.currencySign}</span>\n                                            <input type="number" min="0" class="helium-buy-cost-input" data-type="mfn" value="0">\n                                        </div>\n                                    </td>\n                                    <td>\n                                        <div class="cost-wrapper">\n                                            <span class="currency-sign">${t.currencySign}</span>\n                                            <input type="number" min="0" class="helium-buy-cost-input" data-type="fba" value="0">\n                                        </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td scope="col">Fees</td>\n                                    <td scope="col">\n                                        <span id="mfnFees" class="helium-tooltip">\n                                            ${t.currencySign}\n                                            <span>${P}</span>\n                                        </span>\n                                        <span id="helium-mfn-tooltip" class="helium-tooltip-message">\n                                            <ul>${D}</ul>\n                                        </span>\n                                    </td>\n                                    <td scope="col">\n                                        <span id="fbaFees" class="helium-tooltip">\n                                            ${t.currencySign}\n                                            <span>${z}</span>\n                                        </span>\n                                        <span id="helium-fba-tooltip" class="helium-tooltip-message">\n                                            <ul>${A}</ul>\n                                        </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <th scope="col">Net</th>\n                                    <th scope="col">\n                                        <span id="helium-total-mfn" class="helium-tooltip-total">${t.currencySign} ${C}</span>\n                                        <span id="helium-total-mfn-tooltip" class="helium-tooltip-message">\n                                            ${t.currencySign} ${C}\n                                        </span>\n                                    </th>\n                                    <th scope="col">\n                                        <span id="helium-total-fba" class="helium-tooltip-total">${t.currencySign} ${F}</span>\n                                        <span id="helium-total-fba-tooltip" class="helium-tooltip-message">\n                                            ${t.currencySign} ${F}\n                                        </span>\n                                    </th>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <div class="right-col">\n                        <div class="info">\n                            <div class="data1">ASIN: ${t.asin}</div>\n                            ${l}\n                            <div class="product-rank">${r}</div>\n                            ${i}\n                            <ul class="data3">\n                                ${g}\n                                <li>Item Weight: ${h} ${Object(n.t)()}</li>\n                                ${w}\n                                <li>Package Weight: ${f} ${Object(n.t)()}</li>\n                            </ul>\n                            <div class="note">Some data may be approximated.</div>\n                        </div>\n                    </div>\n                    </div>\n                </div>`)}(i);e("#helium-product-info-wrapper").find(e(".content")).append(s),e(".helium-sell-price-input").on("change",(function(){const i="#helium-total-"+e(this).data("type");e(this).val()<0&&e(this).val(-1*e(this).val()),e("#helium-calculator-spinner").length||e(i).parent().append('<img height="20px" id="helium-calculator-spinner" src="'+_+'" alt="spinner" >'),e(i).hide();const s={asin:c,fbaPrice:e("#helium-sell-price-fba").val(),mfnPrice:e("#helium-sell-price-mfn").val(),marketplaceId:t};chrome.runtime.sendMessage({type:"calculate-fee",params:s},t=>{e("#helium-calculator-spinner").remove(),t.error||(e(i).show(),e("#helium-sell-price-mfn").attr("data-fees-value",t.mfnFees),e("#helium-sell-price-fba").attr("data-fees-value",t.fbaFees),e("#mfnFees span").text(t.mfnFees),e("#fbaFees span").text(t.fbaFees),e("#helium-mfn-tooltip").html(t.mfnFeesHtml),e("#helium-fba-tooltip").html(t.fbaFeesHtml),e(".helium-buy-cost-input").trigger("change"),e("#helium-total-fba-tooltip").text(e("#helium-total-fba").text()),e("#helium-total-mfn-tooltip").text(e("#helium-total-mfn").text()))})})),e(".helium-buy-cost-input").on("change",(function(){e(this).val()<0&&e(this).val(-1*e(this).val()),e(".helium-buy-cost-input").each((function(){const t=e('.helium-sell-price-input[data-type="'+e(this).attr("data-type")+'"]'),s=t.val()-t.attr("data-fees-value")-e(this).val();let n=s>0?"#125ffe":"red";e("#helium-total-"+e(this).attr("data-type")).text(`${i.currencySign} ${s.toFixed(2)}`).css("color",n)})),e("#helium-total-fba-tooltip").text(e("#helium-total-fba").text()),e("#helium-total-mfn-tooltip").text(e("#helium-total-mfn").text())})),e("#revenue-calculator-toggle-button").on("click",(function(){const t=e(this).find("img"),i=e("#helium-revenue-calculator-wrapper");return i.is(":visible")?(e(this).find("span").text("Show"),t.attr("src",t.data("down-arrow")),i.hide()):(e(this).find("span").text("Hide"),t.attr("src",t.data("up-arrow")),i.show()),!1}))}function z(t){const i=e("#helium-charts"),a=e("#hqpWrapper");i.html("");let r,o="76%";if(a.length){r="#hqpWrapper";const e=a.css("margin-right");o=`calc(100% - ${e})`,i.css("margin-right",e)}else{r="#hqp-bottom";const t=e("#featurebullets_feature_div");t.length&&(o=t.width()-10+"px")}e(r).length?i.css("width",o):e("#mediaTabsGroup").length?(o="100%",i.css("width",o)):e("#bottomRow").length&&i.css("margin-right","320px"),i.append(e("<div>",{id:"helium-product-info-wrapper"}));const l=`${s.a.config.memberAccountUrl}/cerebro/index-extension?asin=${c}&amazonstore=${Object(n.l)()}`,h=`${s.a.config.memberAccountUrl}/scribbles?asin=${c}&amazonstore=${Object(n.l)()}&hce=1`;let d="",p="";const u=Object(n.m)();n.c.includes(u)&&(d='<li><span class="icon"><i class="fa fa-percent"></i></span>\n                                <a id="helium-profitability-calculator-link">Profitability Calculator</a></li>'),p="A1AM78C64UM0Y8"===u?"":`<li><span class="icon"><img alt="" class="stock-icon" src="${w}"></span>\n                                <a id="helium-inventory-levels">Inventory Levels</a></li>`;const g=t.status||2!==t.errorCode?`<div class="top-menu">\n                            <ul class="helium-top-menu">\n                                ${p}\n                                <li>\n                                    <span class="icon"><img class="xray-icon" src="${b}" alt=""></span>\n                                    <a id="helium-black-box">Xray</a>\n                                </li>\n                                <li>\n                                    <span class="icon"><img class="cerebro-icon" src="${v}" alt=""></span>\n                                    <a id="helium-keywords-link" href="${l}" target="_blank">Keywords</a>\n                                </li>\n                                <li>\n                                    <span class="icon"><img class="scribbles-icon" src="${y}" alt=""></span>\n                                    <a id="helium-scribbles-link" href="${h}" target="_blank">Listing Optimizer</a>\n                                </li>\n                                ${d}\n                            </ul>\n                        </div>`:"",m=e(`<div class="container4">\n                <div class="wrapper">\n                    <div class="topline">\n                        <div class="logo"><a href="https://members.helium10.com/" target="_blank"></a></div>\n                        ${g}\n                    </div>\n                    <div class="content"></div>\n                </div>\n            </div>`);e("#helium-product-info-wrapper").append(m)}function P(t,i){chrome.runtime.sendMessage({type:"get-calculator-data",params:{asin:t,price:i,marketplaceId:Object(n.m)()}},s=>{if(Object(n.y)(s),z(s),s&&s.status)x(t,s);else{let n;switch(s.errorCode){case 1:n="<strong>Invalid ASIN<strong>";break;case 2:n='<strong class="helium-login-notification">\n                                    To unleash the power of Helium 10 please log in or create an account.\n                                    </strong>\n                                    <div class="show-more-block">\n                                        <a class="show-more" target="_blank" style="width: 10%" href="https://members.helium10.com">\n                                        Log In to Helium 10</a></div>';break;case 4:{let e;C++,C<4&&(e=setTimeout(()=>{P(t,i),clearTimeout(e)},C<3?4e3:8e3));break}default:n="<strong>Unknown Error<strong>"}e("#helium-product-info-wrapper .content").append(e(`<div class="message-block">${n}</div>`))}})}}function h(){let t=null;const i=e("#twisterJsInitializer_feature_div script");if(i.length){let e=i.text().trim();if(e.length&&(e=e.match(/(?:asinVariationValues.{0,4})({[^]+}\s*})/),e&&e.length>1))try{t=Object.keys(JSON.parse(e[1])),s.a.config.debug&&console.log("%cVariationAsinList","color: #82AAFF",t)}catch(e){console.log("%cVariationAsinList error","color: #82AAFF",e)}}const a=Object(n.r)()||Object(n.h)();return t&&t.includes(a)||(t=t?[a,...t]:[a]),t}}).call(this,i(3))}});