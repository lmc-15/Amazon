!function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(d&&d(t);h.length;)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={7:0},i=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;i.push([190,0]),n()}({190:function(e,t,n){"use strict";n.r(t),function(e){n(191),n(192);const t={com:["January","February","March","April","May","June","July","August","September","October","November","December"],de:["januar","februar","m.rz","april","mai","juni","juli","august","september","oktober","november","dezember"],fr:["janvier","f.vrier","mars","avril","mai","juin","juillet","ao.t","septembre","octobre","novembre","d.cembre"],it:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],es:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],uk:["January","February","March","April","May","June","July","August","September","October","November","December"]};let s="com",a=!1;e((function(){function t(){const e=new Date;let t=(e.getMonth()+1).toString();t<10&&(t="0"+t);let n=e.getDate().toString();n<10&&(n="0"+n);let s=e.getHours().toString();s<10&&(s="0"+s);let a=e.getMinutes().toString();a<10&&(a="0"+a);let i=e.getSeconds().toString();return i<10&&(i="0"+i),l.info.asin+"_"+e.getFullYear()+t+n+"_"+s+a+i+".csv"}e(".modal").modal({}),e(".collapsible").collapsible(),e("ul.tabs").tabs({onShow:function(t){"analysis"===e(t).attr("id")?(e("#exportAll").css("display","inline"),e("#saveAllQuestions").css("display","none"),e(".saveAll").css("display","none")):"allQuestions"===e(t).attr("id")?(e("#exportAll").css("display","none"),e("#saveAllQuestions").css("display","inline"),e(".saveAll").css("display","none")):(e("#exportAll").css("display","none"),e("#saveAllQuestions").css("display","none"),e(".saveAll").css("display","inline"))}}),e(document).on("click",".saveAll",(function(n){n.stopPropagation();const s="Helium10_Free"===l.plan?99:l.reviews.length;if(0!==l.reviews.length){const n=",";if(0!==e(this).attr("href").indexOf("data")){let e="";e+='"Date"'+n+'"Author"'+n+'"Verified"'+n+'"Helpful"'+n+'"Title"'+n+'"Body"'+n+'"Rating"'+n+'"Images"'+n+'"Videos"'+n+'"URL"'+n+'"Variation"'+n+'"Style"\r\n';for(let t=0;t<s;++t){const s=l.reviews[t];s&&(e+=`"${s.date}"${n}"${y(s.author||"-")}"${n}"${s.isVerified?"yes":"-"}"${n}"${s.isHelpful?"yes":"-"}"${n}"${y(s.title.replace(/\n/g," "))}"${n}"${y(s.body)}"${n}"${s.rating}"${n}"${s.images||"-"}"${n}"${s.videos||"-"}"${n}"${s.url}"${n}"${Object.keys(s.variations).length?s.variations.asin:"-"}"${n}"${Object.keys(s.variations).length?y(s.variations.description):"-"}"\r\n`)}99===s&&l.reviews.length>99&&(e+="Platinum Plan or higher is required in order to access reviews beyond 100'."),function(e){const n=new Blob(["\ufeff"+e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveBlob)navigator.msSaveBlob(n,t());else{let e=document.createElement("a");e.href=URL.createObjectURL(n),e.style.visibility="hidden",e.download=t(),document.body.appendChild(e),e.click(),document.body.removeChild(e)}}(e)}}else v()})),e("#exportAll").on("click",(function(){if(0!==c.length){if(0!==e(this).attr("href").indexOf("data")){let t="data:text/csv;charset=utf-8,";t+='"Keyword Phrase","Appeared"\r\n';for(let e=0;e<c.length;++e)t+=`"${c[e].phrase}","${c[e].count}"\r\n`;e(this).attr("href",encodeURI(t)),e(this).attr("download",l.info.title+" Phrases.csv")}}else e("#phrasesNotFound").modal("open")})),e("#saveAllQuestions").on("click",(function(){if(0!==d.length){if(0!==e(this).attr("href").indexOf("data")){let t="data:text/csv;charset=utf-8,";t+='"Question","Answer"\r\n';for(let e=0;e<d.length;++e){t+=`"${y(d[e].question)}","${y(d[e].answer)}"\r\n`}e(this).attr("href",encodeURI(t)),e(this).attr("download",l.info.title+" Questions&Answers.csv")}}else e("#questionsNotFound").modal("open")}))}));const i={a:1,am:1,an:1,and:1,are:1,as:1,b:1,be:1,but:1,c:1,d:1,do:1,"don't":1,e:1,f:1,g:1,h:1,he:1,him:1,i:1,in:1,is:1,it:1,"it's":1,k:1,l:1,m:1,my:1,n:1,o:1,of:1,on:1,or:1,p:1,q:1,r:1,s:1,she:1,t:1,the:1,they:1,there:1,this:1,u:1,v:1,w:1,was:1,were:1,where:1,with:1,without:1,who:1,whom:1,x:1,y:1,z:1,"*":1,"-":1},r=document.location.href;let o,l=r.replace(/.*data=|#|!/g,""),c=[],d=[],u=new FormData,h={sortBy:null,reviewerType:null,formatType:null,mediaType:null,filterByStar:null,pageNumber:1,filterByKeyword:null,shouldAppend:null,deviceType:"desktop",reftag:null,pageSize:10,asin:null,scope:null},p={credentials:"same-origin",mode:"cors",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}};if("test"!==l)if(l=JSON.parse(decodeURIComponent(atob(l))),l.reviews=[],l.nGrams=[],l.analyseDone=!1,l.info){h.asin=l.info.asin;for(let e in h)h.hasOwnProperty(e)&&h[e]&&u.append(e,h[e]);l.info.url=function(e){let t=new URL(e);!0===l.settings.isOnlyVerifiedEnabled?(t.searchParams.set("reviewerType","avp_only_reviews"),u.set("reviewerType","avp_only_reviews")):(t.searchParams.set("reviewerType","all_reviews"),u.set("reviewerType","all_reviews"));let n="";for(let e=1;e<=5;++e)if(!0===l.settings["isStar"+e+"Enabled"]){if(n){n="";break}switch(e){case 1:n="one";break;case 2:n="two";break;case 3:n="three";break;case 4:n="four";break;case 5:n="five"}n+="_star"}n?(t.searchParams.set("filterByStar",n),u.set("filterByStar",n)):(t.searchParams.set("filterByStar","all_stars"),u.set("filterByStar","all_stars"));!0===l.settings.isOnlyWithImagesEnabled||!0===l.settings.isOnlyWithVideosEnabled?(t.searchParams.set("mediaType","media_reviews_only"),u.set("mediaType","media_reviews_only")):(t.searchParams.set("mediaType","all_contents"),u.set("mediaType","all_contents"));l.settings.search&&(console.log("⇒ _data.settings.search",l.settings.search),t.searchParams.set("filterByKeyword",l.settings.search),u.set("filterByKeyword",l.settings.search));return t.toString()}(l.info.url),o="https://www."+l.info.url.match(/amazon.[\w|co.uk]{2,}/)[0];const t=new URL(l.info.url);s=t.origin.split(".").reverse()[0];let n=[];if(l.info.avg){n=["star","star","star","star","star"];const e=l.info.avg.split("."),t=parseInt(e[0])-1,s=parseInt(e[1])>2&&parseInt(e[1])<8?parseInt(e[0]):-1,a=-1!==s?s+1:parseInt(e[1])>7?t+2:t+1;-1!==s&&(n[s]="star_half");for(let e=a;e<5;++e)n[e]="star_border"}let i='<span class="secondary-content">';for(let e=0;e<n.length;++e)i+=`<i class="material-icons yellow-text accent-5">${n[e]}</i>`;i+=`</span>\n            <img src="${l.info.image||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsBAMAAACLU5NGAAAAJFBMVEX///+/v7/Z2dnMzMzk5OTo6Ojz8/PHx8fDw8P8/PzT09Pt7e3NjN+gAAAEL0lEQVR42u3cvVPUQBgGcOYuwsRUGzB8NZyVdMk4FnZHp91ROVpdxhkYOyjVilKrVEIJZTrCXygHOS6bZPd2L++bBH2e9tD8Zt9ncsmGsLaGIAiCIAiCIAiCIAiCIP9QvLcd5N1S1gvRQbbAAgsssMACCyywwALrebJeM+fNSqwd7ruZDbDAAgsssMACCyywwAILLLDAAgsssEhYf6b9Y7l350L8/tw31qfHTz72i/U1/2j7tk8s78L8/2mRdbzYVz3oD2vdam+4NdZlcc962hvWqMgKzQ7tsrNcaYd/34w1mHKzBhJr04yVHXCzNuQHIonRDM9/cbNimTU2mqHuiDSsI5lldOaKdcOmYY1kVmg0Q92ZpDPWQLuqnbFmddztHWs2Q80hWSp/bTZDTee7OkHE+m9PGtaVzJqazVCzrB19+eT/YJeXtS6xXpnOUH1Mjgub98tnGOUX/swsqVy3pjNU/ygRy7O7aI6XnUqobjGObM5a8xmqO0/FWnzmJ+YzVB6U7Pb1dP7RxGKGys6TsdwPjx8drlnMUNl5wq2RL/c31nsmWxCD5V+flBtJ7sk3o3uL4jfobm+23YozVB2Vm1Wzfk7x1LuddMFyfyTaGao6z8waiFQ7Q1XnmVmx2Et0M1R1npl1vzKp/kp2qwPWbGVKy1WaoaLzvKyH651UN0NF53lZN6KyXHGZdd06K7+WTjUzVHSelZVvXRaXyzH7NVxW1vzaMNXMsL7znKyn+6HFclVnWN95TtbLp59P1TOs7zwna/EI4Wm54hpW0C4rv6EvLlfdDIXfLqt4EZovV90MazvPyJIGdqicoRCTNlnywHzlDGs7z8dyqrvPTv17DUGbrKtqsetnWNd5SlZS/ZqWlksxQ7GTcLK8VLVZkq+Jo3o7ZcLJGkpXMJeVgx/EKlbIycqkK5hRtUKRihVwsiKxmSi2LZfEZ2R50vbk0IZV7TwdawZZLNex1RtZEz5WVtzNdS+sWCEf66HQ8+Ua2L2/FrCxPGnzO7Zj+WysvOOPy+VGdqxK58lYWfFZgWP7FuKEizVfn4flurJlhUwsT3q0cmPLCphYi9Pn/XJ51q+S+kysrPgk6tKaVe48FSsq3jKM7N+8HbM/ihI/V3ghOGRhDUXDBCysrCnLZ2FFTVml32KiYXmNVaXO07CGzVkhAytrzgoYWM2rJfboWQTVKnWehDWkYI3JWRkF64ycFVGw9qlZJNWSO0/BIqmW3HkKVkbDGhOzIhrWGS2Lplpy5wlYRNWSOk/AIqqW1HkCVkTFGlOyqKolxHdKlkP2p34OW/uFg1UDFlhggQUWWGCBBRZYz551wpzTlVgtBiywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLLDAAgsssMACCyywwAILLARBEARBEARBEARBEARB/rv8BUtDEQhvdHVJAAAAAElFTkSuQmCC"}" alt="" class="circle">\n            <span class="title">${l.info.title}</span>\n            <div class="reviews-total">\n                <p>\n                    <span id="found" class="found found-reviews badge yellow accent-5">0</span>\n                    <span id="maxReviews" class="max-reviews">No more than 5000 reviews can be downloaded from Amazon. Please use the filters to narrow down your search results</span>\n                    <span id="deniedRequest" class="max-reviews">Some of your requests have been blocked by Amazon. Please try again later to get all of them.</span>\n                </p>\n                <p>Average rating ${l.info.avg}</p>\n            </div>`,e("ul.collection").append(e("<li></li>").addClass("collection-item avatar blue lighten-5").html(i)),Promise.all([new Promise((function(t){fetch(l.info.url,{credentials:"same-origin"}).then(e=>{if(200!==e.status)throw console.log("Looks like there was a problem. Status Code: "+e.status),e.status;return e.text()}).then(n=>{if(n.includes("captcha")||n.includes("__,.._; )"))throw a=!0,v(),"Requests limit exceeded";let s=document.implementation.createHTMLDocument("amazon");s.documentElement.innerHTML=n;let i,r=s.querySelector("[data-hook=cr-filter-info-review-count]")||s.querySelector("[data-hook=cr-filter-info-review-rating-count]");if(r){r=e(r).text().trim().replace(/(\d)(?=\s\d)\s/g,"$1");const t=/(\d+[.,\s\d]*\d*)/g;i=r.match(t)}i&&i.length&&(l.info.total=i[i.length-1].replace(/[.,/s]/g,""));let d=l.info.total||"0";const u=l.info.total?Math.ceil(Number(l.info.total)/10):Math.ceil(Number(d)/10);l.info.count=u>1?u>500?500:u:1,l.info.paginatedUrl=o+"/hz/reviews-render/ajax/reviews/get/ref=cm_cr_getr_d_paging_btm_next_1",l.info.processed=0,s=null,function e(t,n,s){return t(s)?n(s).then(e.bind(null,t,n)):s}((function(e){return e<=l.info.count}),(function(e){return(t=e,n=e+10,new Promise((function(e){if(l.info.count>0){let s=[];for(let e=t;e<l.info.count&&e<n;++e){const t=l.info.paginatedUrl.replace(/(cm_cr_getr_d_paging_btm_next_)([\d]+)/gi,"$1"+(e+1));s.push(g(t,e+1))}Promise.all(s).then(e).catch(t=>{console.log("error",t),e()})}else e()}))).then((function(){return e+10}));var t,n}),0).then((function(){5e3===l.reviews.length?e("#maxReviews").show():a&&e("#deniedRequest").show(),l.reviews.length?(e(".preloader-status").text("Analyse phrases... This may take awhile"),new Promise((function(e){if(!1===l.analyseDone){l.reviews.sort((function(e,t){return e.body>t.body?1:e.body<t.body?-1:0}));for(let e=0;e<l.reviews.length;++e)w(e)}e()})).then((function(){l.nGrams=Object.keys(l.nGrams).filter((function(e){return l.nGrams[e].count>1})).map((function(e){const t=l.nGrams[e];return l.nGrams[e].phrase=e,t})),l.nGrams.forEach((function(e){e.where=e.where.filter((function(e,t,n){return n.indexOf(e)===t}))})),l.nGrams.sort((function(e,t){return t.where.length-e.where.length}));const t=e("#analysis>ul.collection"),n=["IS","TO","OF","AND","A","NO","THE"],s=["I","FOR"];let a={};for(let i=0;i<l.nGrams.length;++i){const r=l.nGrams[i].phrase.toUpperCase();try{n.forEach((function(e){if(r.startsWith(e+" ")||r.endsWith(" "+e))throw a})),s.forEach((function(e){if(r.endsWith(" "+e))throw a}))}catch(e){if(e===a)continue;throw e}c.push({phrase:l.nGrams[i].phrase,count:l.nGrams[i].where.length});let o=0;for(let e=0;e<l.nGrams[i].where.length;++e)o+=l.reviews[l.nGrams[i].where[e]].rating;const d=Math.round(o/l.nGrams[i].where.length*10)/10;let u='<div class="review-rating">';for(let e=0;e<5;++e)u+=`<i class="material-icons yellow-text accent-5">\n                        ${e<Math.round(o/l.nGrams[i].where.length)?"star":"star_border"}\n                    </i>`;u+=`<span>${d}</span></div>`;const h=`<div class="collapsible-header">\n                                ${l.nGrams[i].phrase}\n                                <span class="badge phrase-count">\n                                    <a data-pos="${i}" href="#!" title="Use this to export this keyword and reviews where it appears to the CSV">\n                                        <i class="material-icons right green-text">save</i>\n                                    </a>\n                                    ${l.nGrams[i].where.length}\n                                </span>\n                                ${u}\n                            </div>\n                            <div class="collapsible-body"></div>`;t.append(e("<li></li>").addClass("collection-item").css("padding","0").html(h))}e("#analysis ul.collection .collapsible-header").on("click",(function(){if(e(this).parent().find(".collapsible-body ul").length>0)return;const t=parseInt(e(this).find("[data-pos]").attr("data-pos"));let n='<ul class="collection">';for(let e=0;e<l.nGrams[t].where.length;++e){const a=l.reviews[l.nGrams[t].where[e]];n+='<li class="collection-item"><span class="secondary-content">';for(let e=0;e<a.rating;++e)n+='<i class="material-icons yellow-text accent-5">star</i>';n+='</span><span class="title">'+a.title+"</span>                <p>By "+a.author+" on "+a.date+"</p>                <p>"+a.body.replace(new RegExp("("+(s=l.nGrams[t].phrase,s.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")).split(" ").join("[•,\\.\\s]+")+")","gi"),'<span style="background: yellow;">$1</span>')+"</p></li>"}var s;n+="</ul>",e(this).parent().find(".collapsible-body").html(n)})),e("#analysis ul.collection > li a").on("click",(function(t){t.stopPropagation();const n=parseInt(e(this).attr("data-pos"));let s="data:text/csv;charset=utf-8,";s+='"Date","Author","Verified","Helpful","Title","Body","Rating","Images","Videos","Keyword phrase"\r\n';for(let e=0;e<l.nGrams[n].where.length;++e){const t=l.reviews[l.nGrams[n].where[e]];s+=`"${t.date}","${y(t.author)}","${t.isVerified?"yes":"-"}","${t.isHelpful?"yes":"-"}","${y(t.title)}","${y(t.body)}","${t.rating}","${t.images||"-"}","${t.videos||"-"}","${y(l.nGrams[n].phrase)}"\r\n`}e(this).attr("href",encodeURI(s)),e(this).attr("download",l.info.title+" Reviews.csv")})),e(".tab.disabled").toggleClass("disabled"),e("#analysis .found").text(c.length.toLocaleString()).toggleClass("found-reviews").toggleClass("found-phrases"),e(".preloader-status").text(""),l.analyseDone=!0}))).then((function(){let n={};if(l.reviews.forEach(e=>{const t=e.variations.asin;t&&(n[t]?(n[t].count+=1,n[t].sumRating+=e.rating):n[t]={description:e.variations.description,count:1,sumRating:e.rating})}),Object.keys(n).length>1){let t='<table id="review-variants" class="review-variants striped">\n                                        <thead>\n                                            <tr>\n                                                <th>ASIN</th>\n                                                <th>Style</th>\n                                                <th class="text-right">Review Count</th>\n                                                <th class="text-right">Review Share</th>\n                                                <th class="text-right">Average Rating</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>';const s=Object.keys(n).map(e=>({asin:e,description:n[e].description,count:n[e].count,reviewShare:Math.round(n[e].count/l.reviews.length*100),avgRating:Math.round(n[e].sumRating/n[e].count*10)/10}));s.sort((e,t)=>e.count>t.count?-1:1),s.forEach(e=>{t+=`<tr>\n                                                <td>${e.asin}</td>\n                                                <td>${e.description}</td>\n                                                <td class="text-right">${e.count}</td>\n                                                <td class="text-right">${e.reviewShare}%</td>\n                                                <td class="text-right">${e.avgRating}</td>\n                                            </tr>`}),t+="</tbody>\n                                                </table>",e("<li></li>").html(t).insertAfter(e("#allReviews .collection-item.avatar"))}t("Resolve")})):t("HasDeniedRequest")}))}).catch(e=>{a=!0,console.log("%c Fetch Error :-S","color: #FF5370",e),t("HasDeniedRequest")})})),new Promise((function(t){(async()=>{let n=1;d=[];let s={};do{let e=await f(n);s=JSON.stringify(s)!==JSON.stringify(e)?e:null,s&&(s.forEach(e=>{l.settings.dateRange&&!A(e.date)||d.push(e)}),n++)}while(s);d.forEach(t=>{let n=`<div><b>Q: </b>${t.question}</div><div><b>A: </b>${t.answer}</div>`;e("#allQuestions ul.collection").append(e("<li></li>").addClass("collection-item").html(n))}),e("#allQuestions .found").text(d.length).toggleClass("found-questions"),t("Resolve")})()}))]).then(t=>{"HasDeniedRequest"===t[0]?v():e(".preloader").css("display","none")})}else e(".preloader").css("display","none"),e("ul.collection").append(e("<li></li>").addClass("collection-item no-reviews").html("NO REVIEWS"));async function f(t){const n=`${o}/ask/questions/inline/${l.info.asin}/${t}`;return await fetch(n,{credentials:"same-origin"}).then(e=>{if(200!==e.status)throw console.log("Looks like there was a problem. Status Code: "+e.status),e.status;return e.text()}).then(t=>{t=t.toString().replace(/<img([\w\W]+?)[/]?>/g,"");let n,s,a,i=e(t),r=e(".preloader-status"),o=[];return r.text()||r.text("Loading questions... This may take awhile"),i.find("div.a-section.askTeaserQuestions").children().each((function(){let t=e(this).find("div.a-col-right div.a-col-right")[0],i=e(this).find("div.a-col-right div.a-col-right")[1];n=e(t).find("span").text().replace(/\s+/g," ").trim(),s=e(i).find("span.askLongText")[0]||e(i).find("span")[0],s=s?e(s).find("ul,style,li,b,a").remove().end().text().replace(/\s+/g," "):" ",a=e(this).find("span.a-color-tertiary")[0],a=a?b(a.innerText.trim()):null,n&&s&&o.push({question:n,answer:s,date:a})})),o.length?o:null}).catch(e=>(console.log("%c Fetch Error :-S","color: #FF5370",e),null))}function g(t,n){return new Promise((function(s,i){u.set("pageNumber",n),u.set("scope","reviewsAjax"+n),p.body=new URLSearchParams(u).toString(),fetch(t,p).then((function(e){if(200!==e.status)throw i(e.status),e;return e.text()})).then((function(n){let r=[];n.split("\n&&&\n").forEach(e=>{if(e)try{const t=JSON.parse(e.trim());"append"===t[0]&&"#cm_cr-review_list"===t[1]&&t[2]&&r.push(function(e){let t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}(t[2]))}catch(e){a=!0,console.log("%c Response is not JSON","color: #FF5370")}}),!function(t){for(let n=0;n<t.length;++n){if("review"!==t[n].dataset.hook)continue;let s={},a=t[n].querySelectorAll("[data-hook=avp-badge]");if(!0===l.settings.isOnlyVerifiedEnabled&&!a)continue;s.isVerified=a.length;let i="";if(t[n].querySelector("[data-hook=review-star-rating]")?i=t[n].querySelector("[data-hook=review-star-rating]").innerText:t[n].querySelector("[data-hook=cmps-review-star-rating]")&&(i=t[n].querySelector("[data-hook=cmps-review-star-rating]").innerText),i=i?i.replace(/(^[\d])(.*)/,"$1"):"0",l.settings.isStarsEnabled&&!1===l.settings["isStar"+i+"Enabled"])continue;if(s.rating=parseInt(i),s.isHelpful=!!t[n].querySelector("[data-hook=helpful-vote-statement]"),l.settings.isOnlyHelpfulEnabled&&!s.isHelpful)continue;const r=/<.+?i>/,c=/\/(product-reviews)\/([0-9A-Za-z]{10,})/,d=t[n].querySelector("[data-hook=format-strip]");if(s.variations={},d){let e=d.innerHTML.split(r);const t=d.getAttribute("href").match(c);t&&(s.variations.asin=t[2]),s.variations.description=e.join(" | "),s.variations.description=s.variations.description.replace(/\s+/g," ").trim()}const u=t[n].querySelectorAll("[data-hook=review-image-tile]");if(l.settings.isOnlyWithImagesEnabled&&!u.length&&!l.settings.isOnlyWithVideosEnabled)continue;s.images="";for(let e=0;e<u.length;++e)s.images+=(0===e?"":" ")+u[e].getAttribute("src").replace(/\._[\d\w]+_?\./g,".");const h=t[n].querySelectorAll(".video-url");if(l.settings.isOnlyWithVideosEnabled&&!h.length&&!l.settings.isOnlyWithImagesEnabled)continue;s.videos="";for(let e=0;e<h.length;++e)s.videos+=(0===e?"":" ")+h[e].value;if(s.date=b(t[n].querySelector("[data-hook=review-date]").innerText),l.settings.dateRange&&!A(s.date))continue;s.title=t[n].querySelector("[data-hook=review-title]").innerText.trim();const p=t[n].querySelector("[data-hook=review-title]").getAttribute("href");s.url=p?o+p:"-",s.body=t[n].querySelector("[data-hook=review-body]").innerText.replace(/(\r?\n)/g," ").trim();if(t[n].querySelector(".a-profile-name")&&(s.author=t[n].querySelector(".a-profile-name").innerText),l.reviews.push(s),l.reviews.length<100)m(s);else if(!document.getElementById("break")){const t='<a style="margin-bottom: 10px;margin-top:0!important;" id="saveAll" title="This will save all reviews to a CSV file" href="#" class="saveAll btn btn-normal waves-effect waves-light red"><span><i class="material-icons left">save</i><span>Export reviews</span></span></a>                <span class="title">To increase speed only first 100 reviews shown. Please click Extract button to get all reviews.</span>';e("#allReviews ul.collection").append(e('<li id="break"></li>').addClass("collection-item orange lighten-5").html(t))}}l.info.processed++;const n=l.reviews.length.toLocaleString()+" found out of "+l.info.total+" ("+Math.floor(100*l.info.processed/l.info.count)+"%)";return e(".preloader-status").text(n),e("#allReviews .found").text(l.reviews.length.toLocaleString()),!!t}(r)?i(t+": reviews not found"):s()})).catch((function(e){a=!0,i(e)}))}))}function m(t){let n='<span class="secondary-content">';for(let e=0;e<t.rating;++e)n+='<i class="material-icons yellow-text accent-5">star</i>';n+=`</span><a href="${t.url}" target="_blank" class="title">${t.title}</a>\n    <div class="review-data">\n        <p>By ${t.author?t.author:"No name"} on ${t.date}</p>\n        ${Object.keys(t.variations).length?`<p>${t.variations.description}\n                    (<a href="${o}/dp/${t.variations.asin}" target="_blank">${t.variations.asin}</a>)\n                </p>`:""}\n    </div>\n    <p>${t.body}</p>`,e("#allReviews ul.collection").append(e("<li></li>").addClass("collection-item").html(n))}function w(e){let t=l.reviews[e].body;t=t.replace(/[•,.]/g," ").replace(/\s+/g," ").toLowerCase(),t=t.split(" ");let n={};for(let s=0;s<t.length;++s){let a=t[s];for(let r=s+1;r<s+9&&r<t.length-1;++r)if(a+=" "+t[r],r!==s+1||!i[t[r]]&&!i[t[s]]){if(void 0===l.nGrams[a])l.nGrams[a]={count:0,where:[]};else{const e=r-s;void 0===n[e]&&(n[e]=[]),n[e].push(a)}++l.nGrams[a].count,l.nGrams[a].where.push(e)}}for(let e in n)if(n.hasOwnProperty(e)){if("1"===e)continue;const t=parseInt(e)-1;if(n[t])for(let e=0;e<n[t].length;++e)--l.nGrams[n[t][e]].count}}function v(){e(".preloader").css("display","none"),a?e("#dataHasDeniedRequest").modal("open"):e("#dataNotFound").modal("open")}function y(e){return e&&(e=(e=e.replace(/#/g,"")).replace(/"/g,'""')),e}function b(e){if("com"!==s&&"uk"!==s&&s in t)for(let n=0;n<12;n++){const a="es"===s?`de ${t[s][n]} de`:t[s][n],i=new RegExp(a,"i");e=e.replace(i,t.com[n])}return e}function A(e){const t=new Date(e);return!(l.settings.dateRange.start&&new Date(l.settings.dateRange.start)>t)&&!(l.settings.dateRange.end&&new Date(l.settings.dateRange.end)<t)}}.call(this,n(3))},191:function(e,t,n){}});